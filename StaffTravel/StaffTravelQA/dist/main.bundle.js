webpackJsonp(["main"],{

/***/ "../../../../../Content/Images/staff-travel-splash-bg.jpg":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "staff-travel-splash-bg.c55da06fc705ea534c0a.jpg";

/***/ }),

/***/ "../../../../../src lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	return new Promise(function(resolve, reject) { reject(new Error("Cannot find module '" + req + "'.")); });
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "../../../../../src lazy recursive";

/***/ }),

/***/ "../../../../../src/app/access-roles/access-roles.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n    <div>\n        <div>\n            <h2>Access Roles</h2>\n        </div>\n\n        <div class=\"form-group form-group--bottom\">\n            <div class=\"col-sm-4\">\n                <label for=\"resetPassword_password\">User's email address</label>\n                <input type=\"text\" [(ngModel)]=\"userEmail\"  id=\"resetPassword_password\" name=\"resetPassword_password\" class=\"form-control\"\n                    required=\"required\">\n            </div>\n            <div class=\"col-sm-2\">\n                <input type=\"submit\" value=\"Search\" class=\"btn btn-full btn-primary\" [disabled]=\"searchButtonDisabled\" (click)=\"getUserRoles()\">\n            </div>\n        </div>\n\n        <div class=\"form-group form-group--bottom\">\n            <div class=\"col-sm-4\">\n                <label for=\"resetPassword_password\">Access Role</label>\n                <select class=\"form-control\" name=\"systemRoles\" [(ngModel)]=\"newRole\" >\n                    <option *ngFor=\"let role of systemRoles\" [ngValue]=\"role\">{{r['accessRole_' + role]}}</option>\n                </select>\n            </div>\n            <div class=\"col-sm-2\">\n                <input type=\"submit\" value=\"Grant\" class=\"btn btn-full btn-primary\" [disabled]=\"grantButtonDisabled\" (click)=\"grantUserRole()\">\n            </div>\n        </div>\n\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>Access Role</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let userRole of userRoles\">\n                    <td>{{r['accessRole_' + userRole]}}</td>\n                    <td>\n                        <input type=\"button\" value=\"Revoke\" class=\"btn btn-danger\" [disabled]=\"revokeButtonDisabled\" (click)=\"revokeUserRole(userRole)\">\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <a class=\"form-flex-bottom back\" routerLink=\"/login-register\">{{r.backToSignIn}}</a>\n    </div>\n</div>"

/***/ }),

/***/ "../../../../../src/app/access-roles/access-roles.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/access-roles/access-roles.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccessRolesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccessRolesComponent = (function () {
    function AccessRolesComponent(httpClient, router, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.router = router;
        this.resourcesService = resourcesService;
        this.r = {};
        this.userEmail = '';
        this.newRole = '';
        this.systemRoles = new Array();
        this.userRoles = new Array();
        this.getSystemRolesAPI = 'api/Account/GetSystemRoles';
        this.getUserRolesByEmailAPI = 'api/Account/GetUserRolesByEmail?email={0}';
        this.grantUserRoleAPI = 'api/Account/GrantUserRole';
        this.revokeUserRoleAPI = 'api/Account/RevokeUserRole';
        this.grantButtonDisabled = false;
        this.revokeButtonDisabled = false;
        this.searchButtonDisabled = false;
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
    }
    AccessRolesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.searchButtonDisabled = true;
        this.httpClient.get(this.getSystemRolesAPI)
            .toPromise()
            .then(function (res) {
            _this.systemRoles = res.json();
            _this.searchButtonDisabled = false;
        })
            .catch(function (e) {
            _this.router.navigate(['/home']);
            console.log("Failed: " + e);
            return false;
        });
    };
    AccessRolesComponent.prototype.getUserRoles = function () {
        var _this = this;
        if (!this.userEmail)
            return false;
        this.searchButtonDisabled = true;
        this.httpClient.get(this.getUserRolesByEmailAPI.replace('{0}', this.userEmail))
            .toPromise()
            .then(function (res) {
            _this.userRoles = res.json();
            _this.searchButtonDisabled = false;
        })
            .catch(function (e) {
            _this.searchButtonDisabled = false;
            alert('Failed: ' + e.json().Message);
        });
    };
    AccessRolesComponent.prototype.grantUserRole = function () {
        var _this = this;
        if (!this.newRole)
            return false;
        var body = {
            email: this.userEmail,
            role: this.newRole
        };
        this.grantButtonDisabled = true;
        this.httpClient.post(this.grantUserRoleAPI, body)
            .toPromise()
            .then(function (res) {
            alert('Succeeded');
            _this.getUserRoles();
            _this.grantButtonDisabled = false;
        })
            .catch(function (e) {
            _this.grantButtonDisabled = false;
            alert('Failed: ' + e.json().Message);
        });
    };
    AccessRolesComponent.prototype.revokeUserRole = function (userRole) {
        var _this = this;
        if (!this.userEmail || !userRole)
            return false;
        var body = {
            email: this.userEmail,
            role: userRole
        };
        this.revokeButtonDisabled = true;
        this.httpClient.post(this.revokeUserRoleAPI, body)
            .toPromise()
            .then(function (res) {
            alert('Succeeded');
            _this.getUserRoles();
            _this.revokeButtonDisabled = false;
        })
            .catch(function (e) {
            _this.revokeButtonDisabled = false;
            alert('Failed: ' + e.json().Message());
        });
    };
    return AccessRolesComponent;
}());
AccessRolesComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-access-roles',
        template: __webpack_require__("../../../../../src/app/access-roles/access-roles.component.html"),
        styles: [__webpack_require__("../../../../../src/app/access-roles/access-roles.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object])
], AccessRolesComponent);

var _a, _b, _c;
//# sourceMappingURL=access-roles.component.js.map

/***/ }),

/***/ "../../../../../src/app/admin-review/admin-review.component.html":
/***/ (function(module, exports) {

module.exports = "<basic-info></basic-info>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.request}}</h1>\r\n\r\n            <div class=\"review\">\r\n\r\n                <!-- Passengers -->\r\n                <section id=\"passengers\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-ticket\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.passengersSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--passengers\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"passenger-name\">{{r.passengerName}}</th>\r\n                                <th class=\"passenger-dob\">{{r.dob}}</th>\r\n                                <th class=\"passenger-pass\">{{r.typeOfPass}}</th>\r\n                                <th class=\"passenger-phone\">{{r.phoneNumber}}</th>\r\n                                <th class=\"passenger-email\">{{r.email}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let passenger of request.passengers; let passengerIndex = index\" [attr.data-index]=\"passengerIndex + 1\">\r\n                                <td class=\"passenger-name\" [attr.data-index]=\"passengerIndex + 1\" [attr.data-heading]=\"'Passengers name:'\">{{passenger.firstName}} {{passenger.middleName}} {{passenger.lastName}}</td>\r\n                                <td class=\"passenger-dob\" [attr.data-heading]=\"r.dob + ':'\">{{passenger.DOB | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"passenger-pass\" [attr.data-heading]=\"r.typeOfPass + ':'\">{{typeOfPassArray[passenger.typeOfPass]?.name}}</td>\r\n                                <td class=\"passenger-phone\" [attr.data-heading]=\"r.phoneNumber + ':'\">{{passenger.phoneNumber}}</td>\r\n                                <td class=\"passenger-email\" [attr.data-heading]=\"r.email + ':'\">{{passenger.email}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"employeePassengerNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{employeePassengerNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                    <div class=\"review-request__row-split\">\r\n                        <div id=\"passengerNote\" class=\"review__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('passengerNote')\" [disabled]=\"request.flights.length < 1\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"Text1\" cols=\"40\" rows=\"5\" class=\"form-control\" [(ngModel)]=\"adminPassengerNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('passengerNote', adminPassengerNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.flights.length > 0\" />\r\n\r\n                <!-- Flights -->\r\n                <section id=\"flights\" [hidden]=\"request.flights.length == 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.flightsSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--flights\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"flight-departure\" colspan=\"2\">{{r.departing}}</th>\r\n                                <th class=\"flight-destination\">{{r.arriving}}</th>\r\n                                <th class=\"flight-date\">{{r.itinerary}}</th>\r\n                                <th class=\"divider flight-number\">{{r.flightNum}}</th>\r\n                                <th class=\"divider flight-status\">{{r.approvalStatus}}</th>\r\n                                <th class=\"flight-pricing\">{{r.totalPrice}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section__item review-request__section__item--flight\" [class.employee-approved]=\"flight.status == 1\" *ngFor=\"let flight of request.flights; let flightIndex = index\" [attr.data-index]=\"flightIndex + 1\">\r\n                            <tr class=\"\">\r\n                                <th class=\"flight-pax\" scope=\"row\" rowspan=\"2\">{{flightIndex + 1}}</th>\r\n                                <td class=\"flight-departure flight-departure--outbound\" [attr.data-heading]=\"r.departFrom + ':'\">{{flight.departFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.departTo + ':'\">{{flight.departTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.departDate + ':'\">{{flight.departDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.departFlightNumber + ':'\">{{flight.departFlight}}</td>\r\n                                <td class=\"flight-status divider\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\">\r\n                                    <status-toggle [id]=\"'flight-' + flightIndex\" [status]=\"flight.approvalStatus\" (statusChange)=\"flight.approvalStatus = $event\"></status-toggle>\r\n                                    <div class=\"status-updated\" *ngIf=\"flight.lastUpdatedBy?.length > 0\">{{r.lastUpdatedBy}} <span>{{flight.lastUpdatedBy}}</span></div>\r\n                                </td>\r\n                                <td class=\"flight-pricing\" rowspan=\"2\" [attr.data-heading]=\"r.totalPrice + ':'\">\r\n                                    <div class=\"input-group\">\r\n                                        <span class=\"input-group-addon\">$</span>\r\n                                        <input class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.price\" placeholder=\"00.00\" oninput=\"this.value=this.value.replace(/[^0-9.]/g,'');\"\r\n                                                maxlength=\"10\" />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class=\"\">\r\n                                <td class=\"flight-departure flight-departure--inbound\" [attr.data-heading]=\"r.returnFrom + ':'\">{{flight.returnFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.returnTo + ':'\">{{flight.returnTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.returnDate + ':'\">{{flight.returnDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.returnFlightNumber + ':'\">{{flight.returnFlight}}</td>\r\n                                <td class=\"flight-status flight-status--mobile divider\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\">\r\n                                    <status-toggle [id]=\"'flight-' + flightIndex\" [status]=\"flight.approvalStatus\" (statusChange)=\"flight.approvalStatus = $event\"></status-toggle>\r\n                                    <div class=\"status-updated\" *ngIf=\"flight.lastUpdatedBy?.length > 0\">{{r.lastUpdatedBy}} <span>{{flight.lastUpdatedBy}}</span></div>\r\n                                </td>\r\n                                <td class=\"flight-pricing flight-pricing--mobile\" rowspan=\"2\" [attr.data-heading]=\"r.totalPrice + ':'\">\r\n                                    <div class=\"input-group\">\r\n                                        <span class=\"input-group-addon\">$</span>\r\n                                        <input class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.price\" placeholder=\"00.00\" oninput=\"this.value=this.value.replace(/[^0-9.]/g,'');\"\r\n                                                maxlength=\"10\" />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"4\" class=\"table-row-spacer\"></td>\r\n                                <td class=\"table-row-spacer divider\"></td>\r\n                                <td class=\"table-row-spacer divider\"></td>\r\n                                <td class=\"table-row-spacer\"></td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"employeeFlightNote.text?.length > 0 || payloadFlightNote.text?.length > 0\">\r\n                            <tr *ngIf=\"employeeFlightNote.text?.length > 0\">\r\n                                <td colspan=\"7\">\r\n                                    <strong>{{r.additionalNote}}: </strong>\r\n                                    <p>{{employeeFlightNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"payloadFlightNote.text?.length > 0\">\r\n                                <td colspan=\"7\">\r\n                                    <strong>{{r.payloadNote}} </strong>\r\n                                    <p>{{payloadFlightNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                    <div class=\"review-request__row-split\">\r\n                        <div id=\"flightNote\" class=\"review__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('flightNote')\" [disabled]=\"request.flights.length < 1\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"Text1\" cols=\"40\" rows=\"5\" class=\"form-control\" [(ngModel)]=\"adminFlightNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('flightNote', adminFlightNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.hotels.length > 0\" />\r\n\r\n                <!-- Hotel/Cruise information -->\r\n                <section id=\"hotels\" [hidden]=\"request.hotels.length == 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-bed\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.hotelsSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--hotels\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"hotel-date\">{{r.checkInDate}} / {{r.duration}}</th>\r\n                                <th class=\"hotel-info\">{{r.hotelName}}</th>\r\n                                <th class=\"divider hotel-type\">{{r.roomType}}</th>\r\n                                <th class=\"divider status\">{{r.approvalStatus}}</th>\r\n                                <th class=\"price\">{{r.totalPrice}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let hotel of request.hotels; let hotelIndex = index\" [class.employee-approved]=\"hotel.status == 1\" [attr.data-index]=\"hotelIndex + 1\">\r\n                                <td  class=\"hotel-date\" [attr.data-index]=\"hotelIndex + 1\" [attr.data-heading]=\"r.checkInDate + '/' + r.duration + ':'\">{{hotel.checkInDate | date:'dd MMM yyyy'}} / {{hotel.duration}} {{r.nights}}</td>\r\n                                <td  class=\"hotel-info\" [attr.data-heading]=\"r.hotelName + ':'\">{{hotel.name}} <br/> {{hotel.destination}}</td>\r\n                                <td class=\"divider hotel-type\" [attr.data-heading]=\"r.roomType + ':'\">{{hotel.roomType}}</td>\r\n                                <td [attr.data-heading]=\"r.approvalStatus + ':'\" class=\"divider status\">\r\n                                    <status-toggle [id]=\"'hotel-' + hotelIndex\" [status]=\"hotel.approvalStatus\" (statusChange)=\"hotel.approvalStatus = $event\"></status-toggle>\r\n                                </td>\r\n                                <td [attr.data-heading]=\"r.totalPrice + ':'\" class=\"pricing\">\r\n                                    <div class=\"input-group\">\r\n                                        <span class=\"input-group-addon\">$</span>\r\n                                        <input class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.price\" placeholder=\"00.00\" oninput=\"this.value=this.value.replace(/[^0-9.]/g,'');\"\r\n                                            maxlength=\"10\" />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"employeeHotelNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{employeeHotelNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                    <div class=\"review-request__row-split\">\r\n                        <div id=\"hotelNote\" class=\"review__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('hotelNote')\" [disabled]=\"request.hotels.length < 1\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"Text1\" cols=\"40\" rows=\"5\" class=\"form-control\" [(ngModel)]=\"adminHotelNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('hotelNote', adminHotelNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n                <hr *ngIf=\"request.ancillaries.length > 0\" />\r\n\r\n                <!-- Ancillaries -->\r\n                <section id=\"ancillaries\" [hidden]=\"request.ancillaries.length == 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-cubes\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.ancillariesSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--ancillaries\">\r\n                        <tr>\r\n                            <td class=\"review-request__section\">\r\n                                <table class=\"review-request review-request__section__item\"  *ngFor=\"let ancillary of request.ancillaries; let ancillaryIndex = index\" [class.employee-approved]=\"ancillary.status == 1\" [attr.data-index]=\"ancillaryIndex + 1\">\r\n                                    <thead class=\"review-request__heading\">\r\n                                        <tr>\r\n                                            <th class=\"ancillary-destination\">{{r.destination}}</th>\r\n                                            <th class=\"ancillary-product\">{{r.product}}</th>\r\n    \r\n                                            <th class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\">{{r.excursionName}}</th>\r\n                                            <th class=\"divider ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\">{{r.passenger}}</th>\r\n    \r\n                                            <th class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.transferType}}</th>\r\n                                            <th class=\"divider ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.quantity}}</th>\r\n                                            <th class=\"divider ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></th>\r\n                                            <th class=\"divider status\">{{r.approvalStatus}}</th>\r\n                                            <th class=\"pricing\">{{r.totalPrice}}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr class=\"review-request__section__item\">\r\n\r\n                                            <td class=\"ancillary-destination\" [attr.data-index]=\"ancillaryIndex + 1\" [attr.data-heading]=\"r.destination + ':'\">{{ancillary.destination}}</td>\r\n                                            <td class=\"ancillary-product\" [attr.data-heading]=\"r.product + ':'\">{{ancillaryProductsArray[ancillary.ancillaryProductType]?.name}}</td>\r\n\r\n                                            <td class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\" [attr.data-heading]=\"r.excursionName + ':'\">{{ancillary.excursionName}}</td>\r\n                                            <td class=\"divider ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\" [attr.data-heading]=\"r.passenger + ':'\">{{ancillary.passengerNumber}} {{request.passengers[ancillary.passengerNumber - 1].firstName}} {{request.passengers[ancillary.passengerNumber - 1].lastName}}</td>\r\n\r\n                                            <td class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.transferType + ':'\">{{transferTypeArray[ancillary.transferType]?.name}}</td>\r\n                                            <td class=\"divider ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.quantity + ':'\">{{ancillary.quantity}}</td>\r\n\r\n                                            <td class=\"divider ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></td>\r\n\r\n                                            <td class=\"divider status\" [attr.data-heading]=\"r.approvalStatus + ':'\">\r\n                                                <status-toggle [id]=\"'ancillary-' + ancillaryIndex\" [status]=\"ancillary.approvalStatus\" (statusChange)=\"ancillary.approvalStatus = $event\"></status-toggle>\r\n                                            </td>\r\n                                            <td class=\"pricing\" [attr.data-heading]=\"r.totalPrice + ':'\">\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">$</span>\r\n                                                    <input class=\"form-control\" type=\"text\" [(ngModel)]=\"ancillary.price\" placeholder=\"00.00\" oninput=\"this.value=this.value.replace(/[^0-9.]/g,'');\"\r\n                                                        maxlength=\"10\" />\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                        \r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"employeeAncillaryNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td>\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{employeeAncillaryNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                    <div class=\"review-request__row-split\">\r\n                        <div id=\"ancillaryNote\" class=\"review__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('ancillaryNote')\" [disabled]=\"request.ancillaries.length < 1\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"Text1\" cols=\"40\" rows=\"5\" class=\"form-control\" [(ngModel)]=\"adminAncillaryNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('ancillaryNote', adminAncillaryNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n\r\n            </div>\r\n\r\n            <!-- Booking information -->\r\n            <div class=\"assign-booking\">\r\n                <h2>{{r.assignBookingNumber}}</h2>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-5\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <label>{{r.reviewer}}</label>\r\n                                <input class=\"form-control\" type=\"text\" [(ngModel)]=\"request.reviewer\" />\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <label>{{r.assignedBookingNumber}}</label>\r\n                                <input class=\"form-control\" type=\"text\" onkeypress='return event.charCode >= 48 && event.charCode <= 57' [(ngModel)]=\"request.bookingNumber\" maxlength=\"15\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-7\">\r\n                        <div id=\"AdminBookingNote\">\r\n                            <label>{{r.importantNotes}}</label>\r\n                            <textarea name=\"Text1\" cols=\"40\" rows=\"6\" class=\"form-control\" [(ngModel)]=\"adminBookingNote.text\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"review-request__row-split\">\r\n                    <button class=\"btn btn-danger btn-wide\" [disabled]=\"rejectMade?true:false\" (click)=\"confirmRejectRequest()\">\r\n                        <i class=\"fa fa-ban fa-lg\" aria-hidden=\"true\"></i>\r\n                        {{r.reject}}\r\n                    </button>\r\n                    <button class=\"btn btn-step btn-wide\" [disabled]=\"rejectMade?true:false\" (click)=\"updateRequest()\">{{r.updateRequest}}\r\n                        <i class=\"fa fa-angle-right fa-lg\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <requests-nav [type]=\"reviewType\" [requestId]=\"requestId\"></requests-nav>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/admin-review/admin-review.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "hr {\n  border-top: 2px solid #fff; }\n\n@media (min-width: 1200px) {\n  .review-request--passengers .passenger-name {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--passengers .passenger-dob {\n    width: 150px;\n    min-width: 150px; }\n  .review-request--passengers .passenger-pass {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--passengers .passenger-phone {\n    width: 180px;\n    min-width: 180px; }\n  .review-request--passengers .passenger-email {\n    width: 250px;\n    min-width: 250px; }\n  .review-request .status {\n    padding-right: 15px;\n    width: 185px;\n    min-width: 185px; }\n  .review-request .pricing {\n    width: 130px;\n    min-width: 130px; }\n    .review-request .pricing .input-group {\n      margin-bottom: 0; }\n  .review-request--hotels .hotel-date {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--hotels .hotel-info {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--hotels .hotel-type {\n    width: 265px;\n    min-width: 265px; }\n  .review-request--ancillaries {\n    margin-bottom: 15px; }\n    .review-request--ancillaries .ancillary-destination {\n      width: 200px;\n      min-width: 200px; }\n    .review-request--ancillaries .ancillary-product {\n      width: 120px;\n      min-width: 120px; }\n    .review-request--ancillaries .ancillary-name {\n      width: 245px;\n      min-width: 245px; }\n      .review-request--ancillaries .ancillary-name ~ .ancillary-passenger {\n        width: 200px;\n        min-width: 200px; }\n    .review-request--ancillaries .ancillary-passenger {\n      width: 445px;\n      min-width: 445px; }\n    .review-request--ancillaries .ancillary-type {\n      width: 245px;\n      min-width: 245px; }\n    .review-request--ancillaries .ancillary-quantity {\n      width: 200px;\n      min-width: 200px; }\n    .review-request--ancillaries .ancillary-car-spacer {\n      width: 445px;\n      min-width: 445px; } }\n\n.review-request--flights .flight-pax {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pax {\n      display: table-cell;\n      font-size: 36px;\n      color: #aeb2b4; } }\n\n@media (min-width: 1200px) {\n  .review-request--flights .flight-departure {\n    width: 229px;\n    min-width: 229px;\n    padding-right: 15px;\n    position: relative; }\n    .review-request--flights .flight-departure--outbound::after, .review-request--flights .flight-departure--inbound::after {\n      content: \"\\F072\";\n      display: inline-block;\n      color: #9acbe7;\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 5px;\n      top: 50%;\n      transform: translateY(-50%); }\n    .review-request--flights .flight-departure--inbound::after {\n      transform: translateY(-50%) scale(-1, 1); }\n  .review-request--flights .flight-destination {\n    width: 250px;\n    min-width: 250px;\n    padding-right: 15px; }\n  .review-request--flights .flight-date {\n    width: 135px;\n    min-width: 135px; }\n  .review-request--flights .flight-number {\n    width: 130px;\n    min-width: 130px; } }\n\n.review-request--flights .flight-status {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-status {\n      display: table-cell;\n      width: 185px;\n      min-width: 185px;\n      padding-right: 15px; } }\n  .review-request--flights .flight-status--mobile {\n    display: block; }\n    @media (min-width: 1200px) {\n      .review-request--flights .flight-status--mobile {\n        display: none; } }\n\n.review-request--flights .flight-pricing {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pricing {\n      display: table-cell;\n      width: 130px;\n      min-width: 130px; } }\n  .review-request--flights .flight-pricing--mobile {\n    display: block; }\n    @media (min-width: 1200px) {\n      .review-request--flights .flight-pricing--mobile {\n        display: none; } }\n  .review-request--flights .flight-pricing .input-group {\n    margin-bottom: 15px; }\n    @media (min-width: 1200px) {\n      .review-request--flights .flight-pricing .input-group {\n        margin-bottom: 0; } }\n\n.assign-booking {\n  padding: 15px 30px;\n  background-color: #f2f2f2; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admin-review/admin-review.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdminReviewComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_note__ = __webpack_require__("../../../../../src/app/models/note.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_common_modals__ = __webpack_require__("../../../../../src/app/components/common/modals/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_common_modals_confirmation_confirmation_component__ = __webpack_require__("../../../../../src/app/components/common/modals/confirmation/confirmation.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AdminReviewComponent = (function () {
    function AdminReviewComponent(dialog, httpClient, route, router, resourcesService) {
        var _this = this;
        this.dialog = dialog;
        this.httpClient = httpClient;
        this.route = route;
        this.router = router;
        this.resourcesService = resourcesService;
        this.reviewType = 'admin';
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_3__models_enums__["e" /* StatusEnum */];
        this.ancillaryProductEnum = __WEBPACK_IMPORTED_MODULE_3__models_enums__["a" /* AncillaryProductEnum */];
        this.transferTypeEnum = __WEBPACK_IMPORTED_MODULE_3__models_enums__["f" /* TransferTypeEnum */];
        this.statusArray = [];
        this.typeOfPassArray = new Array();
        this.ancillaryProductsArray = new Array();
        this.transferTypeArray = new Array();
        this.requestAPI = 'api/Request/GetRequestDetails?id={0}';
        this.rejectRequestAPI = 'api/Request/RejectRequest?id={0}';
        this.bookingMade = false;
        this.rejectMade = false;
        this.updateRequestAPI = 'api/Request/UpdateRequest';
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.typeOfPassArray = resourcesService.getTypeOfPasses();
            _this.ancillaryProductsArray = resourcesService.getAncillaryProducts();
            _this.transferTypeArray = resourcesService.getTransferTypes();
        });
    }
    AdminReviewComponent.prototype.ngOnInit = function () {
        var _this = this;
        var empNumber = this.resourcesService.getCookie('empNumber');
        this.route.params.subscribe(function (params) {
            window.scrollTo(0, 0);
            _this.request = new __WEBPACK_IMPORTED_MODULE_2__models_request__["a" /* Request */]();
            _this.statusArray = Object.keys(_this.statusEnum).filter(function (i) { return !isNaN(Number(i)); });
            _this.employeePassengerNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee);
            _this.employeeFlightNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee);
            _this.employeeHotelNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Hotels, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee);
            _this.employeeAncillaryNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Ancillaries, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee);
            _this.adminPassengerNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin);
            _this.adminFlightNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin);
            _this.adminHotelNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Hotels, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin);
            _this.adminAncillaryNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Ancillaries, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin);
            _this.adminBookingNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Booking, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin);
            _this.payloadFlightNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Payload);
            _this.requestId = _this.route.snapshot.params['requestId'];
            if (!_this.requestId) {
                _this.modalMessage('Error', _this.r.errorHeader, _this.r.ERR_InvalidRequestId);
                _this.router.navigate(['/home']);
                return;
            }
            // Hide all admin notes by default
            _this.initNote('passengerNote');
            _this.initNote('flightNote');
            _this.initNote('hotelNote');
            _this.initNote('ancillaryNote');
            _this.initRequest();
        });
    };
    AdminReviewComponent.prototype.initRequest = function () {
        var _this = this;
        this.httpClient.get(this.requestAPI.replace('{0}', this.requestId))
            .toPromise()
            .then(function (res) {
            _this.request = JSON.parse(res.text());
            if (_this.request.bookingNumber != null)
                _this.bookingMade = true;
            else
                _this.bookingMade = false;
            if (_this.request.status == __WEBPACK_IMPORTED_MODULE_3__models_enums__["e" /* StatusEnum */].Denied)
                _this.rejectMade = true;
            else
                _this.rejectMade = false;
            _this.request.notes.forEach(function (n) {
                //employee notes
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Passengers && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee)
                    _this.employeePassengerNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee)
                    _this.employeeFlightNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Hotels && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee)
                    _this.employeeHotelNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Ancillaries && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee)
                    _this.employeeAncillaryNote = n;
                //admin notes
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Passengers && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.adminPassengerNote = n;
                    _this.addNote('passengerNote');
                }
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.adminFlightNote = n;
                    _this.addNote('flightNote');
                }
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Hotels && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.adminHotelNote = n;
                    _this.addNote('hotelNote');
                }
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Ancillaries && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.adminAncillaryNote = n;
                    _this.addNote('ancillaryNote');
                }
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Booking && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Admin)
                    _this.adminBookingNote = n;
                //payload notes    
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Payload)
                    _this.payloadFlightNote = n;
            });
            _this.setLastUpdatedBy();
        })
            .catch(function (e) {
            console.log('error ' + e);
            _this.router.navigate(['/home']);
            return;
        });
    };
    AdminReviewComponent.prototype.setLastUpdatedBy = function () {
        var _this = this;
        this.request.flights.forEach(function (f) {
            for (var i = 0; i < _this.request.activityLogs.length; i++) {
                if (f.id == _this.request.activityLogs[i].foreignId) {
                    f.lastUpdatedBy = _this.request.activityLogs[i].empName;
                    break;
                }
            }
        });
    };
    // Init note by hiding it by default (used for route changes which requests that had notes openned from last request)
    AdminReviewComponent.prototype.initNote = function (ancillaryProductId) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        addNoteButton.classList.remove('hidden');
        ancillaryNote.classList.add('hidden');
    };
    AdminReviewComponent.prototype.addNote = function (ancillaryProductId) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        addNoteButton.classList.add('hidden');
        ancillaryNote.classList.remove('hidden');
    };
    AdminReviewComponent.prototype.deleteNote = function (ancillaryProductId, noteModel) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        // Clear out note message
        noteModel.text = '';
        addNoteButton.classList.remove('hidden');
        ancillaryNote.classList.add('hidden');
    };
    AdminReviewComponent.prototype.updateRequest = function () {
        var _this = this;
        this.setNotes();
        this.httpClient.post(this.updateRequestAPI, this.request)
            .toPromise()
            .then(function (res) {
            _this.modalMessage('Success', _this.r.success, _this.r.bookingUpdated);
            _this.bookingMade = true;
            _this.ngOnInit(); //force refresh
        })
            .catch(function (e) {
            _this.modalMessage('Error', _this.r.errorHeader, 'Error ' + e);
        });
    };
    AdminReviewComponent.prototype.confirmRejectRequest = function () {
        this.modalConfirmation('Confirm', this.r.confirm, this.r.confirmCancelRequest, this.r.no, this.r.yes);
    };
    AdminReviewComponent.prototype.rejectRequest = function () {
        var _this = this;
        this.httpClient.get(this.rejectRequestAPI.replace('{0}', this.requestId))
            .toPromise()
            .then(function (res) {
            _this.modalMessage('Success', _this.r.success, _this.r.requestRejected);
            //update the status on the page
            _this.initRequest();
        })
            .catch(function (e) {
            _this.modalMessage('Error', _this.r.errorHeader, 'Error ' + e);
        });
    };
    AdminReviewComponent.prototype.setNotes = function () {
        //clear the array to make sure the added notes are the only ones affected with the update
        this.request.notes = new Array();
        if (this.adminPassengerNote.text) {
            this.adminPassengerNote.requestId = Number(this.requestId);
            this.request.notes.push(this.adminPassengerNote);
        }
        if (this.adminFlightNote.text) {
            this.adminFlightNote.requestId = Number(this.requestId);
            this.request.notes.push(this.adminFlightNote);
        }
        if (this.adminHotelNote.text) {
            this.adminHotelNote.requestId = Number(this.requestId);
            this.request.notes.push(this.adminHotelNote);
        }
        if (this.adminAncillaryNote.text) {
            this.adminAncillaryNote.requestId = Number(this.requestId);
            this.request.notes.push(this.adminAncillaryNote);
        }
        if (this.adminBookingNote.text) {
            this.adminBookingNote.requestId = Number(this.requestId);
            this.request.notes.push(this.adminBookingNote);
        }
    };
    AdminReviewComponent.prototype.modalMessage = function (type, heading, message) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    AdminReviewComponent.prototype.modalConfirmation = function (type, heading, message, cancel, confirm) {
        var _this = this;
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__components_common_modals_confirmation_confirmation_component__["a" /* ConfirmationComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message,
                cancel: cancel,
                confirm: confirm
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result == true)
                _this.rejectRequest();
        });
    };
    return AdminReviewComponent;
}());
AdminReviewComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-admin-review',
        template: __webpack_require__("../../../../../src/app/admin-review/admin-review.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admin-review/admin-review.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__["b" /* MatDialog */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__["b" /* MatDialog */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _e || Object])
], AdminReviewComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=admin-review.component.js.map

/***/ }),

/***/ "../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.viewFlightRequests}}</h1>\r\n            <select class=\"form-control\" [(ngModel)]=\"statusFilter\" (ngModelChange)=\"statusFilterChanged()\">\r\n                    <option *ngFor=\"let status of statuses\" [ngValue]=\"status\">{{r['status' + status]}}</option>\r\n                    <option value=\"\">All</option>\r\n                </select>\r\n            <list-of-all-requests [tableType]=\"tableType\" [tableSettings]=\"tableSettings\" [source]=\"source\"></list-of-all-requests>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AllFlightonlyRequestsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AllFlightonlyRequestsComponent = (function () {
    function AllFlightonlyRequestsComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.statusFilter = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
        this.getPayloadListAPI = 'api/request/GetPayloadList/';
        this.r = {};
        this.searchFilter = function (query) {
            return [
                {
                    field: 'RequestDate',
                    search: query
                },
                {
                    field: 'DepartFrom',
                    search: query
                },
                {
                    field: 'DeaprtTo',
                    search: query
                },
                {
                    field: 'NumberOfPass',
                    search: query
                },
                {
                    field: 'Status',
                    search: query
                },
                {
                    field: 'LastUpdatedBy',
                    search: query
                }
            ];
        };
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.initTable();
            _this.statuses = new Array();
            _this.statuses = resourcesService.getStatusesArray();
        });
    }
    AllFlightonlyRequestsComponent.prototype.ngOnInit = function () {
        this.initTable();
    };
    AllFlightonlyRequestsComponent.prototype.initTable = function () {
        var _this = this;
        this.tableType = 'search';
        // Data source for ng2-smart-table
        this.requestlistViewArray()
            .then(function (res) {
            _this.source = new __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__["a" /* LocalDataSource */](res);
        });
        // Columns settings for ng2-smart-table
        this.columns = {
            RequestDate: {
                title: this.r.dateSubmitted,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_3_moment__(id).format("DD MMM YYYY");
                }
            },
            DepartOn: {
                title: this.r.departDate,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_3_moment__(id).format("DD MMM YYYY");
                }
            },
            DepartFrom: {
                title: this.r.departFrom,
            },
            DeaprtTo: {
                title: this.r.departTo,
            },
            NumberOfPass: {
                title: this.r.numOfPass,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        // let parsedDate = cell.replace(/,/g, '<br/>');
                        // return parsedDate.toLocaleString();
                        return _this.parseTypeOfPasses(cell);
                    }
                }
            },
            Status: {
                title: this.r.status,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        return _this.r['status' + id];
                    }
                }
            },
            LastUpdatedBy: {
                title: this.r.lastUpdatedBy
            }
        };
        this.tableSettings = {
            columns: this.columns,
            filters: this.searchFilter,
            route: '/payload-review/'
        };
    };
    AllFlightonlyRequestsComponent.prototype.requestlistViewArray = function () {
        var url = this.getPayloadListAPI;
        if (!isNaN(this.statusFilter))
            url = this.getPayloadListAPI + this.statusFilter;
        return this.httpClient.get(url)
            .toPromise()
            .then(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    AllFlightonlyRequestsComponent.prototype.handleError = function (error) {
        console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    AllFlightonlyRequestsComponent.prototype.statusFilterChanged = function () {
        this.initTable();
    };
    AllFlightonlyRequestsComponent.prototype.parseTypeOfPasses = function (rawPassesData) {
        var passes = new Array();
        passes = rawPassesData.split(',');
        for (var i = 0; i < passes.length; i++) {
            passes[i] = this.r['typeOfPassAbbrev' + passes[i]];
        }
        var parsedPasses = '';
        for (var i = 0; i < passes.length; i++) {
            parsedPasses += passes[i] + '<br>';
        }
        return parsedPasses;
    };
    return AllFlightonlyRequestsComponent;
}());
AllFlightonlyRequestsComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-all-flightonly-requests',
        template: __webpack_require__("../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.html"),
        styles: [__webpack_require__("../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], AllFlightonlyRequestsComponent);

var _a, _b;
//# sourceMappingURL=all-flightonly-requests.component.js.map

/***/ }),

/***/ "../../../../../src/app/all-requests/all-requests.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.viewAllRequests}}</h1>\r\n            <select class=\"form-control\" [(ngModel)]=\"statusFilter\" (ngModelChange)=\"statusFilterChanged()\">\r\n                <option *ngFor=\"let status of statuses\" [ngValue]=\"status\">{{r['status' + status]}}</option>\r\n                <option value=\"\">All</option>\r\n            </select>\r\n            <list-of-all-requests [tableType]=\"tableType\" [tableSettings]=\"tableSettings\" [source]=\"source\"></list-of-all-requests>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/all-requests/all-requests.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/all-requests/all-requests.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AllRequestsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AllRequestsComponent = (function () {
    function AllRequestsComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.statusFilter = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
        this.getAdminListAPI = 'api/request/GetAdminList/';
        this.searchFilter = function (query) {
            return [
                {
                    field: 'RequestDate',
                    search: query
                },
                {
                    field: 'FirstName',
                    search: query
                },
                {
                    field: 'LastName',
                    search: query
                },
                {
                    field: 'Status',
                    search: query
                },
                {
                    field: 'TypeOfPasses',
                    search: query
                }
            ];
        };
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.initTable();
            _this.statuses = new Array();
            _this.statuses = resourcesService.getStatusesArray();
        });
    }
    AllRequestsComponent.prototype.ngOnInit = function () { this.initTable(); };
    AllRequestsComponent.prototype.initTable = function () {
        var _this = this;
        this.tableType = 'search';
        // Data source for ng2-smart-table
        this.requestlistViewArray()
            .then(function (res) {
            _this.source = new __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__["a" /* LocalDataSource */](res);
        });
        // Columns settings for ng2-smart-table
        this.columns = {
            RequestDate: {
                title: this.r.requestedDate,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_3_moment__(id).format("DD MMM YYYY");
                }
            },
            DepartureDate: {
                title: this.r.departureDate,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_3_moment__(id).format("DD MMM YYYY");
                }
            },
            FirstName: {
                title: this.r.firstName,
            },
            LastName: {
                title: this.r.lastName,
            },
            TypeOfPasses: {
                title: this.r.typeOfPasses,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        // let parsedDate = cell.replace(/,/g, '<br/>');
                        // return parsedDate.toLocaleString();
                        return _this.parseTypeOfPasses(cell);
                    }
                },
            },
            FlightStatus: {
                title: this.r.flightStatus,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        if (!id)
                            return _this.r.na;
                        else
                            return _this.r['status' + id];
                    }
                }
            },
            HotelStatus: {
                title: this.r.hotelStatus,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        if (!id)
                            return _this.r.na;
                        else
                            return _this.r['status' + id];
                    }
                }
            },
            EmployeeStatus: {
                title: this.r.employeeStatus,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        return _this.r['status' + id];
                    }
                }
            },
            Status: {
                title: this.r.overallStatus,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        return _this.r['status' + id];
                    }
                }
            }
        };
        this.tableSettings = {
            columns: this.columns,
            filters: this.searchFilter,
            route: '/admin-review/'
        };
    };
    AllRequestsComponent.prototype.requestlistViewArray = function () {
        var url = this.getAdminListAPI;
        if (!isNaN(this.statusFilter))
            url = this.getAdminListAPI + this.statusFilter;
        return this.httpClient.get(url)
            .toPromise()
            .then(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    AllRequestsComponent.prototype.handleError = function (error) {
        console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    AllRequestsComponent.prototype.statusFilterChanged = function () {
        this.initTable();
    };
    AllRequestsComponent.prototype.parseTypeOfPasses = function (rawPassesData) {
        var passes = new Array();
        passes = rawPassesData.split(',');
        for (var i = 0; i < passes.length; i++) {
            passes[i] = this.r['typeOfPassAbbrev' + passes[i]];
        }
        var parsedPasses = '';
        for (var i = 0; i < passes.length; i++) {
            parsedPasses += passes[i] + '<br>';
        }
        return parsedPasses;
    };
    return AllRequestsComponent;
}());
AllRequestsComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-all-requests',
        template: __webpack_require__("../../../../../src/app/all-requests/all-requests.component.html"),
        styles: [__webpack_require__("../../../../../src/app/all-requests/all-requests.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], AllRequestsComponent);

var _a, _b;
//# sourceMappingURL=all-requests.component.js.map

/***/ }),

/***/ "../../../../../src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"wrapper\">\r\n    <app-header></app-header>\r\n    <div id=\"main-content\" [ngClass]=\"view\">\r\n        <router-outlet></router-outlet>\r\n    </div>\r\n    <app-footer></app-footer>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/app.component.scss":
/***/ (function(module, exports, __webpack_require__) {

var escape = __webpack_require__("../../../../css-loader/lib/url/escape.js");
exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "@media (min-width: 768px) {\n  :host {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 0 1 auto;\n        flex: 0 1 auto; } }\n\n@media (min-width: 768px) {\n  .wrapper {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    min-height: 100vh; } }\n\n@media (min-width: 768px) {\n  #main-content {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n    -ms-flex-direction: column;\n        flex-direction: column; } }\n\n.home {\n  /* background: url('staff-travel-splash-bg.jpg'); */\n  background: url(" + escape(__webpack_require__("../../../../../Content/Images/staff-travel-splash-bg.jpg")) + ");\n  background-size: cover;\n  background-repeat: no-repeat;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  padding: 15px 0; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_filter__ = __webpack_require__("../../../../rxjs/add/operator/filter.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_filter__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_mergeMap__ = __webpack_require__("../../../../rxjs/add/operator/mergeMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_mergeMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_mergeMap__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AppComponent = (function () {
    function AppComponent(router, activatedRoute, authenticationService) {
        var _this = this;
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.authenticationService = authenticationService;
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.userInfo = userInfo; });
        // Loop through router events to last recongized route to grab data from
        this.router.events
            .filter(function (event) { return event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* NavigationEnd */]; })
            .map(function () { return _this.activatedRoute; })
            .map(function (route) {
            while (route.firstChild)
                route = route.firstChild;
            return route;
        })
            .filter(function (route) { return route.outlet === 'primary'; })
            .mergeMap(function (route) { return route.data; })
            .subscribe(function (event) {
            _this.view = event.view;
        });
        this.router.events
            .subscribe(function (data) {
            if (data instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* RoutesRecognized */]) {
                _this.checkStorage();
            }
        });
    }
    AppComponent.prototype.ngOnInit = function () {
        this.checkStorage();
    };
    AppComponent.prototype.ngOnDestroy = function () {
        // unsubscribe to ensure no memory leaks
        this.subscription.unsubscribe();
    };
    AppComponent.prototype.checkStorage = function () {
        this.authenticationService.updateUserInfo();
    };
    return AppComponent;
}());
AppComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-root',
        template: __webpack_require__("../../../../../src/app/app.component.html"),
        styles: [__webpack_require__("../../../../../src/app/app.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _c || Object])
], AppComponent);

var _a, _b, _c;
//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__ = __webpack_require__("../../../platform-browser/@angular/platform-browser/animations.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_angular2_bootstrap_switch__ = __webpack_require__("../../../../angular2-bootstrap-switch/angular2-bootstrap-switch.umd.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_angular2_bootstrap_switch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_angular2_bootstrap_switch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material_progress_spinner__ = __webpack_require__("../../../material/esm5/progress-spinner.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_material_tooltip__ = __webpack_require__("../../../material/esm5/tooltip.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material_autocomplete__ = __webpack_require__("../../../material/esm5/autocomplete.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_angular2_markdown__ = __webpack_require__("../../../../angular2-markdown/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__login_register_login_register_component__ = __webpack_require__("../../../../../src/app/login-register/login-register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__basic_info_basic_info_component__ = __webpack_require__("../../../../../src/app/basic-info/basic-info.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__forgot_password_forgot_password_component__ = __webpack_require__("../../../../../src/app/forgot-password/forgot-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__reset_password_reset_password_component__ = __webpack_require__("../../../../../src/app/reset-password/reset-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__home_home_component__ = __webpack_require__("../../../../../src/app/home/home.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_common_header_header_component__ = __webpack_require__("../../../../../src/app/components/common/header/header.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_common_footer_footer_component__ = __webpack_require__("../../../../../src/app/components/common/footer/footer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_common_status_toggle_status_toggle_component__ = __webpack_require__("../../../../../src/app/components/common/status-toggle/status-toggle.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__new_request_new_request_component__ = __webpack_require__("../../../../../src/app/new-request/new-request.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__list_of_all_requests_list_of_all_requests_component__ = __webpack_require__("../../../../../src/app/list-of-all-requests/list-of-all-requests.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__my_requests_my_requests_component__ = __webpack_require__("../../../../../src/app/my-requests/my-requests.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__team_requests_team_requests_component__ = __webpack_require__("../../../../../src/app/team-requests/team-requests.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__review_request_review_request_component__ = __webpack_require__("../../../../../src/app/review-request/review-request.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__request_progress_request_progress_component__ = __webpack_require__("../../../../../src/app/request-progress/request-progress.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__all_requests_all_requests_component__ = __webpack_require__("../../../../../src/app/all-requests/all-requests.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__all_flightonly_requests_all_flightonly_requests_component__ = __webpack_require__("../../../../../src/app/all-flightonly-requests/all-flightonly-requests.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__contentful_contentful_assets__ = __webpack_require__("../../../../../src/app/contentful/contentful.assets.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__contentful_contentful_entries__ = __webpack_require__("../../../../../src/app/contentful/contentful.entries.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__contentful_contentful_types__ = __webpack_require__("../../../../../src/app/contentful/contentful.types.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__contentful_contentful_component__ = __webpack_require__("../../../../../src/app/contentful/contentful.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__nav_menu_nav_menu_component__ = __webpack_require__("../../../../../src/app/nav-menu/nav-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_37__ngui_auto_complete__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38_angular2_text_mask__ = __webpack_require__("../../../../angular2-text-mask/dist/angular2TextMask.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38_angular2_text_mask___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_38_angular2_text_mask__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__admin_review_admin_review_component__ = __webpack_require__("../../../../../src/app/admin-review/admin-review.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__payload_review_payload_review_component__ = __webpack_require__("../../../../../src/app/payload-review/payload-review.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__manager_review_manager_review_component__ = __webpack_require__("../../../../../src/app/manager-review/manager-review.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__components_common_requests_nav_requests_nav_component__ = __webpack_require__("../../../../../src/app/components/common/requests-nav/requests-nav.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__faq_faq_component__ = __webpack_require__("../../../../../src/app/faq/faq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__components_common_modals_edit_edit_component__ = __webpack_require__("../../../../../src/app/components/common/modals/edit/edit.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__components_common_modals_message_message_component__ = __webpack_require__("../../../../../src/app/components/common/modals/message/message.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__pipes_custom_date_pipe__ = __webpack_require__("../../../../../src/app/pipes/custom-date.pipe.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__components_common_modals_confirmation_confirmation_component__ = __webpack_require__("../../../../../src/app/components/common/modals/confirmation/confirmation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__components_common_modals_add_flight_add_flight_component__ = __webpack_require__("../../../../../src/app/components/common/modals/add-flight/add-flight.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__components_common_modals_add_hotel_add_hotel_component__ = __webpack_require__("../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__access_roles_access_roles_component__ = __webpack_require__("../../../../../src/app/access-roles/access-roles.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















































// import { ConfirmComponent } from './components/common/modals/confirm/confirm.component';





var routes = [
    {
        path: '',
        redirectTo: '/home',
        pathMatch: 'full'
    },
    {
        path: 'login-register',
        component: __WEBPACK_IMPORTED_MODULE_13__login_register_login_register_component__["a" /* LoginRegisterComponent */],
        data: {
            view: 'home',
            allowAnonymous: '1'
        }
    },
    {
        path: 'forgot-password',
        component: __WEBPACK_IMPORTED_MODULE_16__forgot_password_forgot_password_component__["a" /* ForgotPasswordComponent */],
        data: {
            view: 'home',
            allowAnonymous: '1'
        }
    },
    {
        path: 'reset-password',
        component: __WEBPACK_IMPORTED_MODULE_17__reset_password_reset_password_component__["a" /* ResetPasswordComponent */],
        data: {
            view: 'home',
            allowAnonymous: '1'
        }
    },
    {
        path: 'home',
        component: __WEBPACK_IMPORTED_MODULE_18__home_home_component__["a" /* HomeComponent */]
    },
    {
        path: 'faq',
        component: __WEBPACK_IMPORTED_MODULE_44__faq_faq_component__["a" /* FaqComponent */]
    },
    {
        path: 'new-request',
        component: __WEBPACK_IMPORTED_MODULE_22__new_request_new_request_component__["a" /* NewRequestComponent */]
    },
    {
        path: 'my-requests',
        component: __WEBPACK_IMPORTED_MODULE_24__my_requests_my_requests_component__["a" /* MyRequestsComponent */]
    },
    {
        path: 'team-requests',
        component: __WEBPACK_IMPORTED_MODULE_25__team_requests_team_requests_component__["a" /* TeamRequestsComponent */]
    },
    {
        path: 'all-requests',
        component: __WEBPACK_IMPORTED_MODULE_28__all_requests_all_requests_component__["a" /* AllRequestsComponent */]
    },
    {
        path: 'all-flightonly-requests',
        component: __WEBPACK_IMPORTED_MODULE_29__all_flightonly_requests_all_flightonly_requests_component__["a" /* AllFlightonlyRequestsComponent */]
    },
    {
        path: 'review-request',
        component: __WEBPACK_IMPORTED_MODULE_26__review_request_review_request_component__["a" /* ReviewRequestComponent */]
    },
    {
        path: 'request-progress/:requestId',
        component: __WEBPACK_IMPORTED_MODULE_27__request_progress_request_progress_component__["a" /* RequestProgressComponent */]
    },
    {
        path: 'manager-review/:requestId',
        component: __WEBPACK_IMPORTED_MODULE_41__manager_review_manager_review_component__["a" /* ManagerReviewComponent */]
    },
    {
        path: 'payload-review/:requestId',
        component: __WEBPACK_IMPORTED_MODULE_40__payload_review_payload_review_component__["a" /* PayloadReviewComponent */]
    },
    {
        path: 'admin-review/:requestId',
        component: __WEBPACK_IMPORTED_MODULE_39__admin_review_admin_review_component__["a" /* AdminReviewComponent */]
    },
    {
        path: 'access-roles',
        component: __WEBPACK_IMPORTED_MODULE_51__access_roles_access_roles_component__["a" /* AccessRolesComponent */]
    },
    {
        path: '**',
        redirectTo: '/home',
        pathMatch: 'full'
    }
];
var AppModule = (function () {
    function AppModule() {
    }
    return AppModule;
}());
AppModule = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
        declarations: [
            __WEBPACK_IMPORTED_MODULE_12__app_component__["a" /* AppComponent */],
            __WEBPACK_IMPORTED_MODULE_13__login_register_login_register_component__["a" /* LoginRegisterComponent */],
            __WEBPACK_IMPORTED_MODULE_14__basic_info_basic_info_component__["a" /* BasicInfoComponent */],
            __WEBPACK_IMPORTED_MODULE_16__forgot_password_forgot_password_component__["a" /* ForgotPasswordComponent */],
            __WEBPACK_IMPORTED_MODULE_17__reset_password_reset_password_component__["a" /* ResetPasswordComponent */],
            __WEBPACK_IMPORTED_MODULE_18__home_home_component__["a" /* HomeComponent */],
            __WEBPACK_IMPORTED_MODULE_19__components_common_header_header_component__["a" /* HeaderComponent */],
            __WEBPACK_IMPORTED_MODULE_20__components_common_footer_footer_component__["a" /* FooterComponent */],
            __WEBPACK_IMPORTED_MODULE_21__components_common_status_toggle_status_toggle_component__["a" /* StatusToggleComponent */],
            __WEBPACK_IMPORTED_MODULE_22__new_request_new_request_component__["a" /* NewRequestComponent */],
            __WEBPACK_IMPORTED_MODULE_24__my_requests_my_requests_component__["a" /* MyRequestsComponent */],
            __WEBPACK_IMPORTED_MODULE_26__review_request_review_request_component__["a" /* ReviewRequestComponent */],
            __WEBPACK_IMPORTED_MODULE_27__request_progress_request_progress_component__["a" /* RequestProgressComponent */],
            __WEBPACK_IMPORTED_MODULE_30__contentful_contentful_assets__["a" /* ContentfulAssets */],
            __WEBPACK_IMPORTED_MODULE_31__contentful_contentful_entries__["a" /* ContentfulEntries */],
            __WEBPACK_IMPORTED_MODULE_32__contentful_contentful_types__["a" /* ContentfulTypes */],
            __WEBPACK_IMPORTED_MODULE_33__contentful_contentful_component__["a" /* ContentfulComponent */],
            __WEBPACK_IMPORTED_MODULE_35__nav_menu_nav_menu_component__["a" /* NavMenuComponent */],
            __WEBPACK_IMPORTED_MODULE_25__team_requests_team_requests_component__["a" /* TeamRequestsComponent */],
            __WEBPACK_IMPORTED_MODULE_28__all_requests_all_requests_component__["a" /* AllRequestsComponent */],
            __WEBPACK_IMPORTED_MODULE_23__list_of_all_requests_list_of_all_requests_component__["a" /* ListOfAllRequestsComponent */],
            __WEBPACK_IMPORTED_MODULE_29__all_flightonly_requests_all_flightonly_requests_component__["a" /* AllFlightonlyRequestsComponent */],
            __WEBPACK_IMPORTED_MODULE_39__admin_review_admin_review_component__["a" /* AdminReviewComponent */],
            __WEBPACK_IMPORTED_MODULE_40__payload_review_payload_review_component__["a" /* PayloadReviewComponent */],
            __WEBPACK_IMPORTED_MODULE_41__manager_review_manager_review_component__["a" /* ManagerReviewComponent */],
            __WEBPACK_IMPORTED_MODULE_43__components_common_requests_nav_requests_nav_component__["a" /* RequestsNavComponent */],
            __WEBPACK_IMPORTED_MODULE_44__faq_faq_component__["a" /* FaqComponent */],
            __WEBPACK_IMPORTED_MODULE_45__components_common_modals_edit_edit_component__["a" /* EditComponent */],
            __WEBPACK_IMPORTED_MODULE_46__components_common_modals_message_message_component__["a" /* MessageComponent */],
            __WEBPACK_IMPORTED_MODULE_47__pipes_custom_date_pipe__["a" /* CustomDatePipe */],
            __WEBPACK_IMPORTED_MODULE_48__components_common_modals_confirmation_confirmation_component__["a" /* ConfirmationComponent */],
            __WEBPACK_IMPORTED_MODULE_49__components_common_modals_add_flight_add_flight_component__["a" /* AddFlightComponent */],
            __WEBPACK_IMPORTED_MODULE_50__components_common_modals_add_hotel_add_hotel_component__["a" /* AddHotelComponent */],
            __WEBPACK_IMPORTED_MODULE_51__access_roles_access_roles_component__["a" /* AccessRolesComponent */]
        ],
        entryComponents: [
            __WEBPACK_IMPORTED_MODULE_45__components_common_modals_edit_edit_component__["a" /* EditComponent */],
            __WEBPACK_IMPORTED_MODULE_46__components_common_modals_message_message_component__["a" /* MessageComponent */],
            __WEBPACK_IMPORTED_MODULE_48__components_common_modals_confirmation_confirmation_component__["a" /* ConfirmationComponent */],
            __WEBPACK_IMPORTED_MODULE_49__components_common_modals_add_flight_add_flight_component__["a" /* AddFlightComponent */],
            __WEBPACK_IMPORTED_MODULE_50__components_common_modals_add_hotel_add_hotel_component__["a" /* AddHotelComponent */]
        ],
        imports: [
            __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_http__["HttpModule"],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_36_ng2_smart_table__["b" /* Ng2SmartTableModule */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["d" /* RouterModule */].forRoot(routes),
            __WEBPACK_IMPORTED_MODULE_37__ngui_auto_complete__["NguiAutoCompleteModule"],
            __WEBPACK_IMPORTED_MODULE_38_angular2_text_mask__["TextMaskModule"],
            __WEBPACK_IMPORTED_MODULE_6_angular2_bootstrap_switch__["BootstrapSwitchModule"].forRoot(),
            __WEBPACK_IMPORTED_MODULE_7__angular_material_dialog__["c" /* MatDialogModule */],
            __WEBPACK_IMPORTED_MODULE_8__angular_material_progress_spinner__["a" /* MatProgressSpinnerModule */],
            __WEBPACK_IMPORTED_MODULE_9__angular_material_tooltip__["a" /* MatTooltipModule */],
            __WEBPACK_IMPORTED_MODULE_10__angular_material_autocomplete__["a" /* MatAutocompleteModule */],
            __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
            __WEBPACK_IMPORTED_MODULE_11_angular2_markdown__["a" /* MarkdownModule */].forRoot()
        ],
        providers: [
            __WEBPACK_IMPORTED_MODULE_15__services_http_client_http_client_service__["a" /* HttpClientService */],
            __WEBPACK_IMPORTED_MODULE_34__services_authentication_authentication_service__["a" /* AuthenticationService */],
            __WEBPACK_IMPORTED_MODULE_42__services_resources_resources_service__["a" /* ResourcesService */]
        ],
        bootstrap: [__WEBPACK_IMPORTED_MODULE_12__app_component__["a" /* AppComponent */]]
    })
], AppModule);

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ "../../../../../src/app/basic-info/basic-info.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"basicInfo\" class=\"container\">\r\n    <div class=\"basic-info\">\r\n        <div class=\"basic-info__heading\">\r\n            <h2 *ngIf=\"requestId; else default\">{{basicInfo.firstname}} {{basicInfo.lastname}}</h2>\r\n            <ng-template #default>\r\n                <h2>{{r.eligibility}}</h2>\r\n            </ng-template>\r\n            <p>{{r.lengthOfService}} {{currentDate | date:'M/d/y'}}</p>\r\n            <p>{{basicInfo.HowLong}}</p>\r\n        </div>\r\n        <div class=\"basic-info__passes\">\r\n            <div class=\"basic-info__passes-item\">\r\n                <h3>{{r.typeOfPassDesc0}}<i class=\"fa fa-info-circle\" [matTooltip]=\"r.typeOfPassInfo0\" matTooltipClass=\"tooltip--bottom\" matTooltipPosition=\"below\"></i></h3>\r\n                <canvas data-passes\r\n                        attr.data-total-passes=\"{{basicInfo.HowManyPassesYouHave}}\"\r\n                        attr.data-pending-passes=\"{{basicInfo.YealyPending }}\"\r\n                        attr.data-available-passes=\"{{basicInfo.HowManyPassesYouHave - basicInfo.YearlyUsed}}\"\r\n                        attr.data-used-passes=\"{{basicInfo.YearlyUsed}}\"\r\n                        width=\"200\" height=\"200\"\r\n                        class=\"img-responsive\">\r\n                    {{basicInfo.HowManyPassesYouHave - basicInfo.YearlyUsed}} {{r.available}} / {{basicInfo.YearlyUsed}} {{r.used}}\r\n                </canvas>\r\n            </div>\r\n\r\n            <div class=\"basic-info__passes-item\">\r\n                <h3>{{r.typeOfPassDesc1}}<i class=\"fa fa-info-circle\" [matTooltip]=\"typeOfPassInfo10\" matTooltipClass=\"tooltip--bottom\" matTooltipPosition=\"below\"></i></h3>\r\n                <canvas data-passes\r\n                        attr.data-total-passes=\"{{basicInfo.BonusEarned}}\"\r\n                        attr.data-pending-passes=\"{{basicInfo.BonusPending}}\"\r\n                        attr.data-available-passes=\"{{basicInfo.BonusEarned - basicInfo.BonusUsed}}\"\r\n                        attr.data-used-passes=\"{{basicInfo.BonusUsed}}\"\r\n                        width=\"200\" height=\"200\"\r\n                        class=\"img-responsive\">\r\n                    {{basicInfo.BonusEarned - basicInfo.BonusUsed}} {{r.available}} / {{basicInfo.BonusUsed}} {{r.used}}\r\n                </canvas>\r\n            </div>\r\n\r\n            <div class=\"basic-info__passes-item\">\r\n                <h3>{{r.typeOfPassDesc2}}<i class=\"fa fa-info-circle\" [matTooltip]=\"r.typeOfPassInfo2\" matTooltipClass=\"tooltip--bottom\" matTooltipPosition=\"below\"></i></h3>\r\n                <canvas data-passes\r\n                        attr.data-available-passes=\"Infinity\"\r\n                        attr.data-pending-passes=\"{{basicInfo.LastPending}}\"\r\n                        attr.data-used-passes=\"{{basicInfo.LastMinuteUsed}}\"\r\n                        width=\"200\" height=\"200\"\r\n                        class=\"img-responsive\">\r\n                    \\u221E {{r.available}} / {{basicInfo.LastMinuteUsed}} {{r.used}}\r\n                </canvas>\r\n            </div>\r\n        </div>\r\n        <div class=\"basic-info__nav\">\r\n            <i class=\"fa fa-arrows-h\" aria-hidden=\"true\"></i>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/basic-info/basic-info.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ":host {\n  display: block;\n  padding: 15px 0;\n  margin-bottom: 15px;\n  background-color: #e5f2f9; }\n  @media (min-width: 1200px) {\n    :host {\n      padding: 15px 0; } }\n\n.basic-info {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap; }\n  .basic-info__heading, .basic-info__passes {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    -ms-flex-align: center;\n        align-items: center; }\n  .basic-info__heading {\n    -ms-flex-direction: column;\n        flex-direction: column;\n    -ms-flex-align: start;\n        align-items: flex-start;\n    width: 100%; }\n    @media (min-width: 992px) {\n      .basic-info__heading {\n        width: 25%; } }\n  .basic-info__passes {\n    width: 100%;\n    overflow-x: scroll;\n    padding-bottom: 30px; }\n    @media (min-width: 768px) {\n      .basic-info__passes {\n        overflow-x: auto;\n        padding-bottom: 0; } }\n    @media (min-width: 992px) {\n      .basic-info__passes {\n        width: 75%; } }\n    .basic-info__passes-item {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n      -ms-flex-align: center;\n          align-items: center;\n      -ms-flex-direction: column;\n          flex-direction: column;\n      width: 100%;\n      padding: 15px 0; }\n      @media (min-width: 768px) {\n        .basic-info__passes-item {\n          width: 75%;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n          -ms-flex-direction: row;\n              flex-direction: row;\n          padding: 0; } }\n  .basic-info__nav {\n    position: absolute;\n    height: 30px;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%); }\n    @media (min-width: 768px) {\n      .basic-info__nav {\n        display: none; } }\n    .basic-info__nav .fa {\n      font-size: 60px;\n      line-height: 30px; }\n\nh2 {\n  font-size: 28px;\n  margin-top: 0; }\n\nh3 {\n  font-size: 22px;\n  font-weight: normal;\n  text-align: center;\n  margin: 0;\n  padding: 0 15px 15px; }\n  @media (min-width: 768px) {\n    h3 {\n      text-align: left;\n      width: 50%;\n      padding-bottom: 0; } }\n  h3 .fa {\n    padding-left: 10px;\n    padding-right: 10px; }\n\np {\n  font-size: 18px;\n  margin: 0; }\n\ncanvas {\n  margin: 0 auto;\n  height: 200px;\n  width: 200px; }\n  @media (min-width: 768px) {\n    canvas {\n      width: 50%;\n      height: 50%; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/basic-info/basic-info.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BasicInfoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var BasicInfoComponent = (function () {
    function BasicInfoComponent(httpClient, router, route, ngZone, authenticationService, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.router = router;
        this.route = route;
        this.ngZone = ngZone;
        this.authenticationService = authenticationService;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.route.params.subscribe(function (params) {
                _this.httpClient.get('api/passesInfo/GetExpiryDateBonus')
                    .toPromise()
                    .then(function (res) {
                    _this.expirydate = JSON.parse(res.text());
                    var strExpiry = /expiryDate/gi;
                    _this.typeOfPassInfo10 = _this.r.typeOfPassInfo1.replace(strExpiry, _this.expirydate);
                })
                    .catch(function (e) {
                    console.log('error ' + e);
                });
            });
            _this.initCanvas();
        });
    }
    BasicInfoComponent.prototype.ngOnInit = function () {
        this.currentDate = __WEBPACK_IMPORTED_MODULE_6_moment__();
    };
    BasicInfoComponent.prototype.initCanvas = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.requestId = _this.route.snapshot.params['requestId'];
            // If an employee ID is passed in
            if (!_this.requestId) {
                _this.subscription = _this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.basicInfo = userInfo.basicInfo; });
                _this.ngZone.onStable.first().subscribe(function () {
                    _this.drawCanvas();
                });
            }
            else {
                _this.httpClient.get('api/passesInfo/GetBasicInfoByRequestId?RequestId=' + _this.requestId)
                    .toPromise()
                    .then(function (res) {
                    _this.basicInfo = JSON.parse(res.text());
                    _this.ngZone.onStable.first().subscribe(function () {
                        _this.drawCanvas();
                    });
                })
                    .catch(function (e) {
                    console.log('error ' + e);
                });
            }
        });
    };
    BasicInfoComponent.prototype.degreesToRadians = function (degree) {
        return degree * Math.PI / 180;
    };
    BasicInfoComponent.prototype.drawCanvas = function () {
        var passes = Array.from(document.querySelectorAll('canvas[data-passes]'));
        var _loop_1 = function (passIndex) {
            passes[passIndex].setAttribute('id', passIndex);
            var pass = document.getElementById(passIndex);
            var c = pass.getContext('2d');
            var ctxWidth = pass.width;
            var ctxHeight = pass.height;
            var ctxCenter = void 0;
            if (ctxWidth === ctxHeight) {
                ctxCenter = ctxWidth / 2;
            }
            else {
                ctxCenter = 100;
            }
            // Reset Canvas
            c.setTransform(1, 0, 0, 1, 0, 0);
            c.clearRect(0, 0, ctxWidth, ctxHeight);
            c.translate(ctxCenter, ctxCenter - 10);
            var strTotalPasses = pass.getAttribute('data-total-passes');
            var totalPasses = parseInt(strTotalPasses);
            var available = c.strokeStyle = "#396582";
            var strAvailablePasses = pass.getAttribute('data-available-passes');
            var availablePasses = parseInt(strAvailablePasses);
            var strPendingPasses = pass.getAttribute('data-pending-passes');
            var pendingPasses = parseInt(strPendingPasses);
            var strShownAvailablePasses = void 0;
            if (pendingPasses <= availablePasses) {
                var shownAvailablePasses = availablePasses - pendingPasses;
                strShownAvailablePasses = shownAvailablePasses.toString();
            }
            else {
                strShownAvailablePasses = '0';
            }
            var used = c.strokeStyle = "#fff";
            var strUsedPasses = pass.getAttribute('data-used-passes');
            var usedPasses = parseInt(strUsedPasses);
            c.lineWidth = 25;
            c.lineJoin = "miter";
            var radius = ctxCenter - c.lineWidth;
            var defaultStartingAngle = -90;
            // Cache last position the arc ended on
            var lastEndingAngle = -90;
            var startAngle = void 0, endAngle = void 0;
            var drawLineDash = function (segments) {
                try {
                    if (segments) {
                        c.setLineDash([5, 5]);
                    }
                    else {
                        c.setLineDash([]);
                    }
                    c.strokeStyle = '#fff';
                }
                catch (e) {
                    c.strokeStyle = '#ddd';
                }
            };
            // If there are infinite amount of passes available (usecase = Last Mintue Confirmed Passes)
            if (!Number.isFinite(totalPasses)) {
                // Create available ring (Dark blue)
                c.strokeStyle = available;
                c.beginPath();
                c.arc(0, 0, radius, 0, 2 * Math.PI);
                c.stroke();
            }
            else {
                // If there are available passes
                if (totalPasses > 0) {
                    // Create used (unavailable) sections (White)
                    // Loop through used passes
                    c.strokeStyle = used;
                    if (usedPasses) {
                        startAngle = lastEndingAngle;
                        endAngle = ((usedPasses / totalPasses) * 360) + startAngle;
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        lastEndingAngle = endAngle;
                    }
                    if (pendingPasses >= availablePasses) {
                        c.strokeStyle = '#fff';
                        startAngle = lastEndingAngle;
                        endAngle = ((availablePasses / totalPasses) * 360) + startAngle;
                        // Draw pending background first
                        c.strokeStyle = available;
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        // Draw pending passes
                        drawLineDash(true);
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        lastEndingAngle = endAngle;
                        lastEndingAngle = endAngle;
                    }
                    else {
                        // Draw pending passes first
                        startAngle = lastEndingAngle;
                        endAngle = (pendingPasses / totalPasses * 360) + startAngle;
                        // Draw pending background first
                        c.strokeStyle = available;
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        // Draw pending passes
                        drawLineDash(true);
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        lastEndingAngle = endAngle;
                        // Draw remaining passes
                        drawLineDash(false);
                        c.strokeStyle = available;
                        startAngle = lastEndingAngle;
                        endAngle = ((availablePasses - pendingPasses) / totalPasses * 360) + startAngle;
                        c.beginPath();
                        c.arc(0, 0, radius, this_1.degreesToRadians(startAngle), this_1.degreesToRadians(endAngle));
                        c.stroke();
                        lastEndingAngle = endAngle;
                    }
                }
                else {
                    // There are no available passes - create used (unavailable) sections (White)
                    c.strokeStyle = used;
                    c.beginPath();
                    c.arc(0, 0, radius, 0, 2 * Math.PI);
                    c.stroke();
                }
            }
            // Add "#" Available Text in the Middle of the Circle
            c.textAlign = "center";
            c.font = "bold 90px PT Sans, Arial, sans serif";
            // If the number of available passes is inifite
            if (!Number.isFinite(availablePasses)) {
                c.font = "bold 120px Arial";
                c.fillText("\u221E", 0, 35);
            }
            else {
                c.fillText(strShownAvailablePasses, 0, 15);
            }
            c.font = "normal 20px PT Sans, Arial, sans serif";
            c.fillText(this_1.r.available, 0, 40);
            // Add "#" Used Text at the bottom right corner of the canvas
            // Move origin point to bottom right
            c.translate(ctxCenter, ctxCenter);
            c.textAlign = "right";
            c.font = "bold 30px PT Sans, Arial, sans serif";
            c.fillText(strUsedPasses, -5, -15);
            c.font = "normal 20px PT Sans, Arial, sans serif";
            c.fillText(this_1.r.used, -5, 5);
            if (pendingPasses > 0) {
                // Add "#" Used Text at the bottom right corner of the canvas
                // Move origin point to bottom left
                c.translate(-ctxCenter * 2, 0);
                c.textAlign = "left";
                c.font = "bold 30px PT Sans, Arial, sans serif";
                c.fillText(strPendingPasses, 5, -15);
                c.font = "normal 20px PT Sans, Arial, sans serif";
                c.fillText(this_1.r.pending, 5, 5);
            }
        };
        var this_1 = this;
        for (var passIndex = 0; passIndex < passes.length; passIndex++) {
            _loop_1(passIndex);
        }
        ;
    };
    return BasicInfoComponent;
}());
BasicInfoComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'basic-info',
        template: __webpack_require__("../../../../../src/app/basic-info/basic-info.component.html"),
        styles: [__webpack_require__("../../../../../src/app/basic-info/basic-info.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _f || Object])
], BasicInfoComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=basic-info.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/footer/footer.component.html":
/***/ (function(module, exports) {

module.exports = "<footer>\r\n    <section class=\"footer__nav\">\r\n        <h1 class=\"sr-only\">{{r.footerNav}}</h1>\r\n        <nav class=\"container\">\r\n            <ul class=\"footer__nav-list\">\r\n                <li class=\"footer__nav-list-item\"><a href=\"https://sunwing.ca/\" target=\"_blank\">{{r.sunwing_ca}}</a></li>\r\n                <li class=\"footer__nav-list-item\"><a href=\"https://vip.sunwing.ca\">{{r.fnf}}</a></li>\r\n                <li class=\"footer__nav-list-item\" *ngIf=\"userInfo.isLoggedIn\"><a routerLink=\"/faq\">{{r.policy}}</a></li>\r\n                <li class=\"footer__nav-list-item\"><a href=\"{{r.touUrl}}\">{{r.tou}}</a></li>\r\n                <li class=\"footer__nav-list-item\"><a href=\"#\" (click)=\"switchLanguage()\">{{r.switchLanguage}}</a></li>\r\n            </ul>\r\n        </nav>\r\n    </section>\r\n    <div class=\"footer__copyright\">\r\n        <div class=\"container\">\r\n            <p class=\"footer__copyright-text\">\r\n                {{r.copyright}} <a href=\"http://sunwingtravelgroup.com/\" target=\"_blank\">{{r.stg}}</a>. {{r.rightsReserved}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/components/common/footer/footer.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".footer__nav {\n  background-color: #f2f2f2;\n  padding: 30px 0;\n  border-top: 3px solid #e4e4e4; }\n\n.footer__nav-list {\n  list-style-type: none;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n  padding: 0;\n  margin: 0 -15px; }\n\n.footer__nav-list-item {\n  -ms-flex-preferred-size: 100%;\n      flex-basis: 100%;\n  text-align: center; }\n\n.footer__copyright {\n  background-color: #e4e4e4; }\n\n.footer__copyright-text {\n  margin: 20px auto;\n  text-align: center;\n  font-size: 0.7em; }\n\n@media (min-width: 768px) {\n  .footer__nav-list {\n    -ms-flex-wrap: nowrap;\n        flex-wrap: nowrap; }\n  .footer__nav-list-item {\n    -ms-flex-preferred-size: auto;\n        flex-basis: auto; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/footer/footer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FooterComponent = (function () {
    function FooterComponent(authenticationService, resourcesService) {
        var _this = this;
        this.authenticationService = authenticationService;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.userInfo = userInfo; });
    }
    FooterComponent.prototype.ngOnInit = function () { };
    FooterComponent.prototype.switchLanguage = function () {
        if (this.resourcesService.cultrue == 'en-CA')
            this.resourcesService.setCookie('culture', 'fr-CA', 365);
        else
            this.resourcesService.setCookie('culture', 'en-CA', 365);
        document.location.reload();
    };
    return FooterComponent;
}());
FooterComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-footer',
        template: __webpack_require__("../../../../../src/app/components/common/footer/footer.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/footer/footer.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], FooterComponent);

var _a, _b;
//# sourceMappingURL=footer.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/header/header.component.html":
/***/ (function(module, exports) {

module.exports = "<a class=\"skip-navigation\" href=\"#main-content\" title=\"Skip Navigation\" tabindex=\"0\">{{r.skipNav}}</a>\r\n<header>\r\n    <div class=\"container mobile-full-container\">\r\n        <div class=\"header__wrapper\">\r\n            <a routerLink=\"/\" class=\"header__logo\" title=\"Sunwing.ca - Experience the Difference\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1504.58 526.81\" class=\"header__logo-svg\">\r\n                    <g fill=\"#fff\" data-name=\"Sunwing.ca - Experience the Difference\">\r\n                        <path d=\"M852.86 0l5.98 1.3 1.82 2.08-.53 4.69-.78 36.91-2.07.26-5.72-14.05-2.08-13.25.78-13.25 2.6-4.69m34.58 74.88l17.42-12.47 9.35-4.43 9.11-5.97 8.57-2.1 2.34 6.77-7.02 5.2-15.59 11.44-4.95.78-7.79 2.86-7.29 1.3-4.15-3.38m18.97 25.73l.78-4.41 25.75-2.34 14.81-.26 6.77 2.08 3.89 1.55-.26 4.43-2.85 2.85-16.13.27-16.9-1.05-10.39-1.55-5.47-1.57m-24.17 34.58l1.81-2.34 2.35 1.82-.26 7.54 7.79 15.34 3.64 10.14 1.06 3.64.25 13.78-3.64.52-5.46-7.28-3.64 1.3-2.6-1.82-.26-10.4-1.56-1.55-.52-22.63 1.04-8.06m-60.07 16.12l13.79-16.64 4.68-1.55 3.38.25-3.65 11.19-8.05 16.63-5.98 5.98-3.9 1.04-1.56-1.3 1.29-15.6m-75.14-20.01l11.19-4.42 21.07-3.12 11.44-.79 2.32-2.33v5.71l-9.62 5.21-21.31 8.58-12.74 3.63-5.72-4.15.26-7.03 3.11-1.29m18.47-68.38l18.46-2.86 16.64 5.47 13.79 6.75 3.38 2.61-1.31 1.8-16.64.27-15.6-2.6-12.73-4.69-6.25-4.41.26-2.34m76.18 11.96l17.42 2.32 4.68 2.6 6.24 9.88 3.13 12.21-1 8.06-11.23 2.89-15.59-8.33-6.5-9.62-4.17-8.05 2.35-8.58zM831.02 65l-7.28 7.8-1 10.67 1.56 7.27 9.36 19.75 2.59 2.09 1.57 3.64 10.66 6 12.74.26 19.7-2.37 5.72-4.68.78-3.37 1.57-5.21-1.31-8.06-2.6-14.29-11.7-13.53-12.21-6.5-18.47-2.34zM12.68 350.71c10.14 5.06 29.34 12.3 46.36 12.3 14.48 0 22.09-7.24 22.09-15.93s-5.79-14.85-22.09-22.81c-20.28-10.15-37.31-25-37.31-47.09 0-36.9 32.23-61.16 77.86-61.16 20.64 0 36.94 4.35 45.27 9.06l-12.31 36.94a88 88 0 0 0-35.49-7.61c-13.76 0-22.81 5.79-22.81 15.54 0 7.23 7.25 13.39 21.36 19.91 19.56 9.76 39.84 24.25 39.84 48.88 0 40.55-34.41 62.65-81.49 62.29-22.09-.36-43.45-6.16-54-13.76zM338.23 220l-22.45 119.47c-4.34 22.46-7.24 41.65-9.78 57.58h-46l3.26-28.61-.72-.37c-18.1 23.19-39.46 33-60.84 33-28.61 0-45.63-15.94-45.63-49.62a162.87 162.87 0 0 1 3.62-32.59l18.84-98.82h52.14l-18.1 94.84a144.42 144.42 0 0 0-2.53 23.54c0 11.22 4.7 20.28 17.74 20.28 17.74 0 36.22-21.37 42.74-56.49l15.56-82.18zm-.36 177.05l22.45-119.51c4.35-22.41 7.25-41.6 9.42-57.54h46l-3.26 29.33h.73c16.66-22.8 38.75-33.31 61.92-33.31 29 0 45.63 17.74 45.63 48.52 0 7.94-1.45 21-2.9 29.66l-19.57 102.85h-52.14l18.47-98.13a116.47 116.47 0 0 0 1.8-19.55c0-12.66-4.35-21.32-17.74-21.32-17 0-36.58 21.32-44.18 60.44l-14.48 78.56zM597.15 220l.36 75.29c.37 19.92-.36 36.57-1.44 56.12h.73c6.12-18.82 14.12-36.56 21.36-54.31l35.13-77.09h42.37l4.35 74.56c1.09 21 1.81 38 .73 56.85h1.08c5.79-19.55 12-36.93 19.18-57.57l30.43-73.84h52.49l-86.19 177h-48.87l-5.07-61.57c-1.45-18.46-1.45-35.47-1.45-56.48h-1.09c-9.4 25-13.39 38-21 54l-30.06 64.1H561.3l-16.66-177zm188.3 177.05L819.14 220h51.78L837.6 397.05h-52.15m85.11 0l22.45-119.51c4.34-22.41 7.25-41.6 9.41-57.54h46l-3.26 29.33h.73c16.66-22.8 38.75-33.31 61.93-33.31 29 0 45.62 17.74 45.62 48.52 0 7.94-1.43 21-2.89 29.66l-19.56 102.85h-52.15l18.46-98.13a115.48 115.48 0 0 0 1.82-19.55c0-12.66-4.34-21.32-17.75-21.32-17 0-36.58 21.32-44.17 60.44l-14.49 78.58zm204.61 24.63c9.77 5.79 31.14 9.78 46.35 9.78 26.07 0 45.26-11.59 52.87-47.08l2.89-15.2h-.73c-13.75 18.11-29.68 26.44-50.7 26.44-35.12 0-56.49-28.61-56.85-63.38-.37-58.29 41.65-116.21 118.79-116.21a173.36 173.36 0 0 1 65.53 12.31l-26.79 145.86c-6.16 32.59-16.3 61.57-37.3 78.59-19.19 15.21-44.91 19.92-68.44 19.92-23.91 0-45.62-4.34-57.94-11.22zm121.68-162.56c-4-1.81-11.6-3.26-18.83-3.26-31.51 0-53.95 35.09-53.95 68.41 0 18.1 8 31.14 23.89 31.14 17 0 34-19.2 39.85-48.89zm72.74 136.29c-11.19 0-18.64-7.86-18.64-18.62 0-12.34 9.09-22.88 22.61-22.88 11.41 0 19.34 7.85 19.34 19.07 0 13.23-9.78 22.43-23.07 22.43zm111.02-5.65c-7 3.39-18.32 5.87-31.45 5.87-27.37 0-46.6-16.71-46.6-45.39 0-39.3 30.09-70 72.16-70a66.45 66.45 0 0 1 22.39 3.62l-7.92 25.07a37.47 37.47 0 0 0-14.92-2.71c-23.3 0-37.55 19.65-37.55 40.42 0 15.13 9.5 22.81 21.71 22.81a55.91 55.91 0 0 0 21.94-4.51zm78.39 3.44c.22-6.55.9-14 1.56-21.91h-.64c-10.05 18.3-23.91 24.4-36.65 24.4-19.66 0-33.06-15.36-33.06-38.4 0-37.26 24.35-77 78.2-77a128.82 128.82 0 0 1 36.2 5.42l-11.69 57.75c-2.68 14.23-4.7 35.91-4.25 49.69zm9.38-87.41a49.43 49.43 0 0 0-8.71-.9c-20.78 0-36 25.74-36 46.3 0 10.84 4.25 18.29 13.19 18.29 9.6 0 21.44-11.07 26.36-38.17zM40.23 473.11H15.47v23.09h27.7v6.93H7.12v-63.98h34.63v6.93H15.47v20.21h24.76zm15.46-15.91l6.55 9.87c1.71 2.56 3.13 4.84 4.65 7.5h.28c1.52-2.75 3-5.12 4.65-7.59l6.36-9.77h9.11l-15.66 22.2 16 23.72h-9.49l-6.74-10.34c-1.8-2.66-3.32-5.22-4.93-8h-.19c-1.52 2.75-3.13 5.22-4.84 8l-6.64 10.34h-9.2l16.32-23.47-15.53-22.46zm38.23 15c0-5.88-.1-10.63-.38-15h7.5l.47 7.88h.19c3.32-5.69 8.82-8.92 16.22-8.92 11.2 0 19.54 9.39 19.54 23.34 0 16.51-10.15 24.67-20.87 24.67-6.17 0-11.39-2.66-14.14-7.21h-.19v25h-8.34zm8.35 12.24a13.48 13.48 0 0 0 .38 3.42 12.78 12.78 0 0 0 12.43 9.77c8.82 0 13.95-7.21 13.95-17.74 0-9.2-4.74-17.08-13.57-17.08a13.32 13.32 0 0 0-12.71 10.34 20 20 0 0 0-.47 3.32zm48.58-2.79c.19 11.2 7.31 15.84 15.66 15.84a29.87 29.87 0 0 0 12.71-2.37l1.52 6a37.41 37.41 0 0 1-15.37 2.94c-14 0-22.58-9.39-22.58-23.15s8.25-24.76 21.63-24.76c15 0 18.88 13.19 18.88 21.63a20.34 20.34 0 0 1-.28 3.89zm24.38-6c.09-5.31-2.18-13.57-11.48-13.57-8.54 0-12.14 7.78-12.81 13.57zm16.6-4.15c0-5.41-.1-10.06-.38-14.33h7.31l.38 9h.28c2.09-6.17 7.21-10.06 12.81-10.06a17 17 0 0 1 2.28.19v7.9a23.82 23.82 0 0 0-2.85-.19c-5.88 0-10.06 4.46-11.2 10.63a25.93 25.93 0 0 0-.28 3.89v24.57h-8.35zm33.59-22.11a5 5 0 0 1-5-5.12 5.17 5.17 0 1 1 5.12 5.12zm-4 53.7V457.2h8.35v45.92zm25.06-21.44c.19 11.2 7.31 15.84 15.66 15.84a29.87 29.87 0 0 0 12.71-2.37l1.52 6a37.41 37.41 0 0 1-15.37 2.94c-14 0-22.58-9.39-22.58-23.15s8.25-24.76 21.63-24.76c15 0 18.88 13.19 18.88 21.63a20.35 20.35 0 0 1-.28 3.89zm24.38-6c.09-5.31-2.18-13.57-11.48-13.57-8.54 0-12.14 7.78-12.81 13.57zm16.6-6.05c0-4.84-.1-8.63-.38-12.43h7.4l.47 7.5h.19a17 17 0 0 1 15.18-8.54c6.36 0 16.22 3.79 16.22 19.54v27.42h-8.35v-26.47c0-7.4-2.75-13.66-10.63-13.66a12 12 0 0 0-11.2 8.54 12.42 12.42 0 0 0-.57 3.89v27.71h-8.35zm83.59 31.79a32.28 32.28 0 0 1-13.19 2.66c-13.85 0-22.87-9.39-22.87-23.44s9.68-24.48 24.67-24.48a26.29 26.29 0 0 1 11.58 2.47l-1.9 6.36a20.45 20.45 0 0 0-9.68-2.18c-10.53 0-16.22 7.88-16.22 17.36 0 10.63 6.83 17.17 15.94 17.17a23.9 23.9 0 0 0 10.25-2.18zm12.05-19.74c.19 11.2 7.31 15.84 15.66 15.84a29.87 29.87 0 0 0 12.71-2.37l1.52 6a37.41 37.41 0 0 1-15.37 2.94c-14 0-22.58-9.39-22.58-23.15s8.25-24.76 21.63-24.76c15 0 18.88 13.19 18.88 21.63a20.34 20.34 0 0 1-.28 3.89zm24.38-6c.09-5.31-2.18-13.57-11.48-13.57-8.54 0-12.14 7.78-12.81 13.57zm40.76-18.24v8.79h9.59v5.1h-9.59v19.8c0 4.57 1.29 7.16 5 7.16a12.51 12.51 0 0 0 3.88-.46l.3 5.1a18.26 18.26 0 0 1-5.94.91 9.56 9.56 0 0 1-7.23-2.82c-1.83-2.06-2.59-5.33-2.59-9.67v-20h-5.71v-5.12h5.71v-6.78zm15.61-8.38h6.7v23h.15a11.93 11.93 0 0 1 4.8-4.72 13 13 0 0 1 6.85-1.9c4.95 0 12.87 3 12.87 15.76v21.93h-6.7v-21.25c0-5.94-2.21-10.89-8.53-10.89a9.7 9.7 0 0 0-9 6.7 8.11 8.11 0 0 0-.46 3.2v22.23h-6.7zm44.62 36.86c.15 9 5.86 12.72 12.56 12.72a24 24 0 0 0 10.2-1.9l1.22 4.8a30 30 0 0 1-12.33 2.36c-11.27 0-18.12-7.54-18.12-18.58s6.62-19.87 17.36-19.87c12 0 15.15 10.58 15.15 17.36a16.33 16.33 0 0 1-.23 3.12zm19.57-4.8c.08-4.26-1.75-10.89-9.21-10.89-6.85 0-9.75 6.24-10.28 10.89z\" />\r\n                        <path d=\"M559.66 440.09a116.57 116.57 0 0 1 19.45-1.42c12.24 0 20.21 2.28 26.28 6.83 6.64 4.93 10.82 12.71 10.82 24.1 0 12.24-4.46 20.68-10.53 25.9-6.74 5.6-17.08 8.25-29.6 8.25a124.19 124.19 0 0 1-16.41-.95zm14.42 52.11a27.17 27.17 0 0 0 5 .28c13.19.1 21.82-7.12 21.82-22.39 0-13.28-7.78-20.3-20.3-20.3a30.8 30.8 0 0 0-6.55.57zm56.74-41.19a7.11 7.11 0 0 1-7.5-7.21c0-4.08 3-7.21 7.68-7.21s7.5 3.13 7.59 7.21-2.94 7.21-7.68 7.21zm-7.12 52.09v-46.4h14.42v46.4zm55.12-.01v-35.76h-14.8v35.77H649.6v-35.77h-6.17V456.7h6.17v-.66c0-5.6 1.42-11.2 5.31-15.08 3-3.13 7.59-5.12 14.14-5.12a17.87 17.87 0 0 1 6.17 1.14l-2 10.63a11.63 11.63 0 0 0-3.7-.66c-4.27 0-5.6 3.6-5.6 8.35v1.42h14.9v-1.8c0-5.6 1.71-11.77 5.79-15.56a19 19 0 0 1 12.9-4.65 31.63 31.63 0 0 1 7.59.95l-.57 11.1a15.62 15.62 0 0 0-4.65-.66c-4.74 0-6.74 3.7-6.74 8.25v2.37h9.3v10.63h-9.2v35.77zm38.99-18.59c.47 6 6.36 8.82 13.09 8.82a38.22 38.22 0 0 0 12.81-2l1.9 9.77a43.87 43.87 0 0 1-16.79 2.94c-15.75 0-24.76-9.11-24.76-23.62 0-11.77 7.4-24.76 23.44-24.76 15 0 20.68 11.67 20.68 23.15a34.21 34.21 0 0 1-.47 5.69zm17-9.87c0-3.51-1.52-9.39-8.06-9.39-6.17 0-8.63 5.6-9 9.39zm20.19-2.66c0-6.83-.1-11.29-.38-15.28h12.3l.57 8.63h.43c2.37-6.83 8-9.68 12.52-9.68a14.38 14.38 0 0 1 3 .28v13.57a21.48 21.48 0 0 0-3.89-.38c-5.31 0-8.92 2.75-9.87 7.31a16.26 16.26 0 0 0-.29 3.23v23.44H755zm44.59 12.53c.47 6 6.36 8.82 13.09 8.82a38.22 38.22 0 0 0 12.81-2l1.9 9.77a43.87 43.87 0 0 1-16.79 2.94c-15.75 0-24.76-9.11-24.76-23.62 0-11.77 7.4-24.76 23.44-24.76 15 0 20.68 11.67 20.68 23.15a34.27 34.27 0 0 1-.47 5.69zm17-9.87c0-3.51-1.52-9.39-8.06-9.39-6.17 0-8.63 5.6-9 9.39zm20.19-3.13c0-5.79-.19-10.63-.38-14.8h12.52l.66 6.45h.34a16.66 16.66 0 0 1 14.33-7.5c9.49 0 16.6 6.36 16.6 20v27.42h-14.47v-25.69c0-6-2.09-10.06-7.31-10.06a7.92 7.92 0 0 0-7.4 5.41 10.38 10.38 0 0 0-.47 3.61v26.76h-14.42zm88.62 30.36c-2.56 1.23-7.4 2.18-12.9 2.18-15 0-24.57-9.2-24.57-23.72 0-13.47 9.3-24.57 26.57-24.57a33.45 33.45 0 0 1 11 1.8l-2.28 10.72a19.72 19.72 0 0 0-8.06-1.42c-7.59 0-12.52 5.41-12.43 12.9 0 8.54 5.69 13 12.71 13a20.35 20.35 0 0 0 8.25-1.52zm16.22-17.36c.47 6 6.36 8.82 13.09 8.82a38.22 38.22 0 0 0 12.81-2l1.9 9.77a43.87 43.87 0 0 1-16.79 2.94c-15.75 0-24.76-9.11-24.76-23.62 0-11.77 7.4-24.76 23.44-24.76 15 0 20.68 11.67 20.68 23.15a34.27 34.27 0 0 1-.47 5.69zm17-9.87c0-3.51-1.52-9.39-8.07-9.39-6.17 0-8.63 5.6-9 9.39zm33.69-25.98v4.34h-6.24v16.37h-5.33v-16.37h-6.17v-4.34zm22.39 20.71l-.53-10.43c-.08-2 0-4.34-.08-7.08h-.3c-.61 2.36-1.22 5.1-1.75 7.23l-2.89 10h-5.23l-2.67-10.13c-.38-1.83-.91-4.72-1.37-7.08h-.3c-.08 2.44-.08 4.95-.23 7.08l-.53 10.43h-5.1l1.37-20.71h8.22l2.36 7.39c.38 1.6.76 3.2 1.29 6h.08c.53-2.21 1-4.19 1.45-5.94l2.44-7.46h7.69l1.29 20.71z\" />\r\n                    </g>\r\n                </svg>\r\n            </a>\r\n            <div class=\"header__message\">\r\n                <h1>{{r.staffTravel}}</h1>\r\n                <span *ngIf=\"userInfo.isLoggedIn\">{{r.hi}} {{ userInfo.basicInfo.firstname }}, {{r.welcomeTo}} {{r.staffTravel}}</span>\r\n            </div>\r\n            <div class=\"header__nav\" *ngIf=\"userInfo.isLoggedIn\" [ngClass]=\"checkAdditionalRoles(userInfo.roles) ? 'nav--admin' : 'nav--user' \">\r\n                <button type=\"button\" class=\"nav__toggle\" [attr.aria-expanded]=\"toggleState\" (click)=\"toggleNav()\" >\r\n                    <span class=\"sr-only\">{{r.toggleNav}}</span>\r\n                    <span class=\"icon-bar one\"></span>\r\n                    <span class=\"icon-bar two\"></span>\r\n                    <span class=\"icon-bar three\"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n<app-nav-menu *ngIf=\"userInfo.isLoggedIn\" [userRoles]=\"userInfo.roles\" [ngClass]=\"checkAdditionalRoles(userInfo.roles) ? 'nav--admin' : 'nav--user'\" [class.active]=\"toggleState\"></app-nav-menu>"

/***/ }),

/***/ "../../../../../src/app/components/common/header/header.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".skip-navigation {\n  position: absolute;\n  z-index: 9999;\n  background: #fff;\n  color: #f36f21;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n  padding: 3px 10px; }\n\n.skip-navigation:focus,\n.skip-navigation:active {\n  left: 0;\n  outline-offset: 4px;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto; }\n\nheader {\n  background-color: #f36f21; }\n\n.header__wrapper {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  text-align: center;\n  padding-bottom: 15px; }\n  @media (min-width: 768px) {\n    .header__wrapper {\n      padding-top: 15px;\n      -ms-flex-wrap: nowrap;\n          flex-wrap: nowrap; } }\n\n.header__logo {\n  display: block;\n  text-align: left;\n  -ms-flex-preferred-size: 50%;\n      flex-basis: 50%;\n  -ms-flex-order: 2;\n      order: 2;\n  padding-left: 15px; }\n  @media (min-width: 768px) {\n    .header__logo {\n      -ms-flex-preferred-size: auto;\n          flex-basis: auto;\n      -ms-flex-order: initial;\n          order: initial;\n      padding-left: 0; } }\n  .header__logo-svg {\n    width: 200px;\n    height: 70px; }\n    @media (min-width: 768px) {\n      .header__logo-svg {\n        width: 260px;\n        height: 90px; } }\n\n.header__message {\n  display: block;\n  -ms-flex: 0 1 100%;\n      flex: 0 1 100%;\n  -ms-flex-order: 1;\n      order: 1;\n  padding: 10px 15px;\n  margin-bottom: 15px;\n  -ms-flex-item-align: center;\n      -ms-grid-row-align: center;\n      align-self: center;\n  text-align: center;\n  background-color: #fff; }\n  @media (min-width: 768px) {\n    .header__message {\n      -ms-flex-preferred-size: auto;\n          flex-basis: auto;\n      -ms-flex-order: 2;\n          order: 2;\n      margin: 0;\n      margin-left: auto;\n      padding: 0;\n      text-align: right;\n      background-color: transparent; } }\n  .header__message h1 {\n    margin: 0;\n    color: #565656;\n    font-size: 14px;\n    font-weight: 700;\n    text-align: left; }\n    @media (min-width: 768px) {\n      .header__message h1 {\n        font-size: 28px;\n        color: #fff;\n        text-align: right; } }\n  .header__message span {\n    display: none;\n    color: #fff;\n    font-size: 14px; }\n    @media (min-width: 768px) {\n      .header__message span {\n        display: block;\n        font-size: 18px; } }\n\n.header__nav {\n  display: block;\n  -ms-flex-order: 3;\n      order: 3;\n  padding-left: 30px;\n  -ms-flex-item-align: center;\n      -ms-grid-row-align: center;\n      align-self: center;\n  padding-right: 15px; }\n  .header__nav .nav__toggle {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    border: 0;\n    padding: 10px;\n    background-color: transparent !important;\n    outline: 0; }\n    .header__nav .nav__toggle .icon-bar {\n      display: block;\n      width: 40px;\n      height: 2px;\n      margin: 2px 0;\n      border-radius: 4px;\n      border-top: 3px solid #fff;\n      border-bottom: 3px solid #fff;\n      background-color: #fff;\n      transition: all 0.5s cubic-bezier(0.15, 1.43, 0.46, 1.25); }\n    .header__nav .nav__toggle[aria-expanded=\"true\"] .icon-bar.one {\n      transform-origin: 15% 3%;\n      transform: rotate(45deg) translateY(-6px) translateX(8px); }\n    .header__nav .nav__toggle[aria-expanded=\"true\"] .icon-bar.two {\n      border-color: transparent;\n      opacity: 0; }\n    .header__nav .nav__toggle[aria-expanded=\"true\"] .icon-bar.three {\n      transform-origin: 20% 0%;\n      transform: rotate(-45deg) translateY(3px) translateX(4px); }\n  @media (min-width: 992px) {\n    .header__nav.nav--admin {\n      display: none;\n      padding-right: 0; } }\n  @media (min-width: 768px) {\n    .header__nav.nav--user {\n      display: none;\n      padding-right: 0; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/header/header.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HeaderComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HeaderComponent = (function () {
    function HeaderComponent(authenticationService, router, resourcesService) {
        var _this = this;
        this.authenticationService = authenticationService;
        this.router = router;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.userInfo = userInfo; });
        this.router.events.subscribe(function (data) {
            if (data instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* RoutesRecognized */]) {
                _this.allowAnonymous = data.state.root.firstChild.data.allowAnonymous === '1';
                _this.checkAuthorization();
                _this.toggleState = false;
            }
        });
    }
    HeaderComponent.prototype.ngOnInit = function () {
        // Nav toggle is closed by default
        this.toggleState = false;
    };
    HeaderComponent.prototype.checkAdditionalRoles = function (userRoles) {
        return JSON.stringify(userRoles).includes('true');
    };
    HeaderComponent.prototype.toggleNav = function () {
        this.toggleState = !this.toggleState;
    };
    HeaderComponent.prototype.checkAuthorization = function () {
        if (!this.userInfo.isLoggedIn && !this.allowAnonymous) {
            //TESTING - print debug info 
            //console.log('Kicked out. isLoggedIn=' + this.userInfo.isLoggedIn + ' allowAnonymous=' + this.allowAnonymous)
            this.router.navigate(['/login-register']);
        }
    };
    return HeaderComponent;
}());
HeaderComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-header',
        template: __webpack_require__("../../../../../src/app/components/common/header/header.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/header/header.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object])
], HeaderComponent);

var _a, _b, _c;
//# sourceMappingURL=header.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-flight/add-flight.component.html":
/***/ (function(module, exports) {

module.exports = "<header class=\"dialog-header\">\n    <h2>{{r.addFlight}}</h2>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dialogRef.close()\">\n        <span aria-hidden=\"false\">\n            <i class=\"fa fa-times fa-fw\" aria-hidden=\"false\"></i>\n        </span>\n    </button>\n</header>\n<main class=\"dialog-content\">\n    <mat-dialog-content class=\"dialog-content\">\n        <form class=\"request-form\" #requestForm=\"ngForm\">\n            <div class=\"request-form__section\">\n                <div class=\"request-form__row request-form__row--collapse-md\">\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"departingFrom.errors && (departingFrom.dirty || departingFrom.touched)\">\n                        <label>{{r.departFrom}}</label>\n                        <input name=\"departingFrom\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"departingFromAC\" (ngModelChange)=\"filteredAvailableGateways = filterAvailableGateways($event)\"\n                            [(ngModel)]=\"data.departFrom\" [attr.disabled]=\"!gatewaysListReady?'true':null\" required #departingFrom=\"ngModel\"\n                            maxlength=\"50\" autocomplete=\"off\">\n                        <mat-autocomplete #departingFromAC=\"matAutocomplete\" (optionSelected)=\"gatewayChanged($event)\">\n                            <mat-option *ngFor=\"let option of filteredAvailableGateways\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"departingFrom.errors && (departingFrom.dirty || departingFrom.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"departTo.errors && (departTo.dirty || departTo.touched)\">\n                        <label>{{r.departTo}}</label>\n                        <input name=\"departTo\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"departToAC\" (ngModelChange)=\"filteredAvailableDestinations = filterAvailableDestinations($event)\"\n                            [(ngModel)]=\"data.departTo\" [attr.disabled]=\"!destinationsListReady?'true':null\" required #departTo=\"ngModel\"\n                            maxlength=\"50\" autocomplete=\"off\">\n                        <mat-autocomplete #departToAC=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let option of filteredAvailableDestinations\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"departTo.errors && (departTo.dirty || departTo.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3 clear-left\" [class.form-error]=\"departDate.errors && (departDate.dirty || departDate.touched)\">\n                        <label>{{r.departDate}}</label>\n                        <input name=\"departDate\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.departDate\" [textMask]=\"{mask:dateMask}\" [placeholder]=\"r.dateFormat\"\n                            required #departDate=\"ngModel\" />\n                        <div *ngIf=\"departDate.errors && (departDate.dirty || departDate.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\">\n                        <label>{{r.flightNum}}\n                            <span class=\"label-note\">{{r.optional}}</span>\n                        </label>\n                        <input name=\"departFlight\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.departFlight\" maxlength=\"50\" />\n                    </div>\n                </div>\n\n                <div class=\"request-form__row request-form__row--collapse-md\">\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"returnFrom.errors && (returnFrom.dirty || returnFrom.touched)\">\n                        <label>{{r.returnFrom}}</label>\n                        <input name=\"returnFrom\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"returnFromAC\" (ngModelChange)=\"filteredAvailableReturnDestinations = filterAvailableDestinations($event)\"\n                            [(ngModel)]=\"data.returnFrom\" [attr.disabled]=\"!destinationsListReady?'true':null\" required #returnFrom=\"ngModel\"\n                            maxlength=\"50\" autocomplete=\"off\">\n                        <mat-autocomplete #returnFromAC=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let option of filteredAvailableReturnDestinations\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"returnFrom.errors && (returnFrom.dirty || returnFrom.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"returnTo.errors && (returnTo.dirty || returnTo.touched)\">\n                        <label>{{r.returnTo}}</label>\n                        <input name=\"returnTo\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"returnToAC\" (ngModelChange)=\"filteredAvailableReturnGateways = filterAvailableGateways($event, true)\"\n                            [(ngModel)]=\"data.returnTo\" [attr.disabled]=\"!gatewaysListReady?'true':null\" required #returnTo=\"ngModel\"\n                            maxlength=\"50\" autocomplete=\"off\">\n                        <mat-autocomplete #returnToAC=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let option of filteredAvailableReturnGateways\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"returnTo.errors && (returnTo.dirty || returnTo.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3 clear-left\" [class.form-error]=\"returnDate.errors && (returnDate.dirty || returnDate.touched)\">\n                        <label>{{r.returnDate}}</label>\n                        <input name=\"returnDate\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.returnDate\" [textMask]=\"{mask:dateMask}\" [placeholder]=\"r.dateFormat\"\n                            required #returnDate=\"ngModel\" />\n                        <div *ngIf=\"returnDate.errors && (returnDate.dirty || returnDate.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-6 col-md-3\">\n                        <label>{{r.flightNum}}\n                            <span class=\"label-note\">{{r.optional}}</span>\n                        </label>\n                        <input name=\"returnFlight\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.returnFlight\" maxlength=\"50\" />\n                    </div>\n                </div>\n\n            </div>\n            <div *ngIf=\"dateError\" class=\"alert alert-danger\">\n                <span>{{r.ERR_InvalidDateInFuture}}</span>\n            </div>\n        </form>\n    </mat-dialog-content>\n</main>\n<footer class=\"dialog-footer\">\n    <button type=\"button\" class=\"btn btn-secondary btn-wide\" (click)=\"update()\" [disabled]=\"requestForm.invalid\">Update</button>\n</footer>"

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-flight/add-flight.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".dialog-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  padding: 15px;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  background-color: #e5f2f9; }\n  .dialog-header h2 {\n    margin: 0; }\n  .dialog-header .close {\n    float: none;\n    font-size: 1.5em;\n    line-height: 1.3em;\n    border: 2px solid #007cc3;\n    background-color: #e5f2f9;\n    color: #007cc3;\n    opacity: 1;\n    outline: none;\n    border-radius: 0;\n    margin-top: 0; }\n\n.dialog-content {\n  padding: 15px; }\n\n.mat-dialog-content {\n  padding: 0;\n  margin: 0; }\n\n.request-form__row {\n  position: relative; }\n  .request-form__row::after, .request-form__row::before {\n    display: table;\n    content: \" \"; }\n  .request-form__row::after {\n    clear: both; }\n  @media (min-width: 768px) {\n    .request-form__row--collapse-sm {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 992px) {\n    .request-form__row--collapse-md {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 1200px) {\n    .request-form__row--collapse-lg {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  .request-form__row > div[class^=\"col-\"] {\n    padding: 0; }\n    .request-form__row > div[class^=\"col-\"] > .field-group {\n      display: block; }\n      @media (min-width: 768px) {\n        .request-form__row > div[class^=\"col-\"] > .field-group {\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex: 0 1 auto;\n              flex: 0 1 auto; } }\n      .request-form__row > div[class^=\"col-\"] > .field-group > input {\n        width: 100%; }\n        @media (min-width: 768px) {\n          .request-form__row > div[class^=\"col-\"] > .field-group > input {\n            -ms-flex: 1 0 auto;\n                flex: 1 0 auto;\n            width: auto; } }\n\n.dialog-footer {\n  padding: 0 15px 15px;\n  text-align: right; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-flight/add-flight.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddFlightComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__models_flight__ = __webpack_require__("../../../../../src/app/models/flight.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var AddFlightComponent = (function () {
    function AddFlightComponent(dialogRef, data, resourcesService, httpClient) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.resourcesService = resourcesService;
        this.httpClient = httpClient;
        this.dateValid = true;
        this.r = {};
        this.typeOfPassEnum = __WEBPACK_IMPORTED_MODULE_1__models_enums__["g" /* TypeOfPassEnum */];
        this.dateMask = [
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            /\d/,
            /\d/
        ];
        this.gatewaysAPI = 'api/Resource/GetGatewayforBrandAsync?language={0}&brand=SWG';
        this.destinationsAPI = 'api/Resource/GetDestCode?language={0}&brand=SWG&gateway={1}&searchType=RE';
        this.gatewaysListReady = false;
        this.destinationsListReady = false;
        this.dateError = false;
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
        this.initLists();
    }
    AddFlightComponent.prototype.initLists = function () {
        var _this = this;
        this.availableGateways = new Array();
        //load the list of available gateways
        this.httpClient
            .get(this.gatewaysAPI.replace('{0}', 'en'))
            .toPromise()
            .then(function (res) {
            var tempObjArr;
            tempObjArr = JSON.parse(res.json());
            tempObjArr.forEach(function (o) {
                return _this.availableGateways.push(o.name + ' ' + '(' + o.code + ')');
            });
            _this.availableGateways.sort();
            _this.filteredAvailableGateways = _this.availableGateways;
            _this.filteredAvailableReturnGateways = _this.availableGateways;
            _this.gatewaysListReady = true;
        });
    };
    AddFlightComponent.prototype.gatewayChanged = function (selectedValue) {
        var _this = this;
        var gateway;
        var tempObjArr;
        //disable destinations until the new list is ready
        this.destinationsListReady = false;
        this.availableDestinations = [];
        //reset destination lists
        this.data.departTo = '';
        this.data.returnFrom = '';
        this.filteredAvailableDestinations = [];
        this.filteredAvailableReturnDestinations = [];
        //airport code
        gateway = selectedValue.option.value.substr(selectedValue.option.value.length - 4, 3);
        this.httpClient
            .get(this.destinationsAPI.replace('{0}', 'en').replace('{1}', gateway))
            .toPromise()
            .then(function (res) {
            _this.availableDestinations = new Array();
            tempObjArr = JSON.parse(res.json());
            tempObjArr.forEach(function (d) {
                if (d.destinationName)
                    _this.availableDestinations.push(d.destinationName);
            });
            _this.availableDestinations.sort();
            _this.destinationsListReady = true;
            _this.filteredAvailableDestinations = _this.availableDestinations;
            _this.filteredAvailableReturnDestinations = _this.availableDestinations;
        }); //end response
    };
    AddFlightComponent.prototype.validateDate = function (valueEntered) {
        var dateValid = true;
        var tempMoment = __WEBPACK_IMPORTED_MODULE_2_moment__(valueEntered, 'MM/DD/YYYY', true);
        if (tempMoment.isValid()) {
            var now = __WEBPACK_IMPORTED_MODULE_2_moment__({ hour: 0, minute: 0, seconds: 0, milliseconds: 0 });
            var diff = tempMoment.diff(now, 'days');
            if (diff < 0) {
                return false;
            }
            else {
                return true;
            }
        }
        else {
            return false;
        }
    };
    AddFlightComponent.prototype.update = function () {
        if (this.validateDate(this.data.departDate) &&
            this.validateDate(this.data.returnDate))
            this.dialogRef.close(this.data);
        else
            this.dateError = true;
    };
    AddFlightComponent.prototype.filterAvailableGateways = function (valueEntered, returnField) {
        if (returnField === void 0) { returnField = false; }
        if (!returnField) {
            //disable the hotels list until it is ready and reset value
            this.destinationsListReady = false;
            this.data.departFrom = '';
        }
        return this.availableGateways.filter(function (gateway) { return gateway.toLowerCase().indexOf(valueEntered.toLowerCase()) === 0; });
    };
    AddFlightComponent.prototype.filterAvailableDestinations = function (valueEntered) {
        return this.availableDestinations.filter(function (destination) {
            return destination.toLowerCase().indexOf(valueEntered.toLowerCase()) === 0;
        });
    };
    return AddFlightComponent;
}());
AddFlightComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-add-flight',
        template: __webpack_require__("../../../../../src/app/components/common/modals/add-flight/add-flight.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/modals/add-flight/add-flight.component.scss")]
    }),
    __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["d" /* MatDialogRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["d" /* MatDialogRef */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_6__models_flight__["a" /* Flight */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__models_flight__["a" /* Flight */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _d || Object])
], AddFlightComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=add-flight.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.html":
/***/ (function(module, exports) {

module.exports = "<header class=\"dialog-header\">\n    <h2>{{r.addHotel}}</h2>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dialogRef.close()\">\n        <span aria-hidden=\"false\">\n            <i class=\"fa fa-times fa-fw\" aria-hidden=\"false\"></i>\n        </span>\n    </button>\n</header>\n<main class=\"dialog-content\">\n    <mat-dialog-content class=\"dialog-content\">\n        <form class=\"request-form\" #requestForm=\"ngForm\">\n            <div class=\"request-form__section\">\n                <div class=\"request-form__row request-form__row--collapse-md\">\n                    <div class=\"col-xs-12 col-sm-9 col-md-2\" [class.form-error]=\"checkInDate.errors && (checkInDate.dirty || checkInDate.touched)\">\n                        <label>{{r.checkInDate}}</label>\n                        <input name=\"checkInDate\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.checkInDate\" [textMask]=\"{mask:dateMask}\" [placeholder]=\"r.dateFormat\"\n                            required #checkInDate=\"ngModel\" />\n                        <div *ngIf=\"checkInDate.errors && (checkInDate.dirty || checkInDate.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-sm-3 col-md-2\" [class.form-error]=\"duration.errors && (duration.dirty || duration.touched)\">\n                        <label>{{r.duration}}</label>\n                        <input name=\"duration\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.duration\" required #duration=\"ngModel\" [textMask]=\"{mask:maxValueMask, guide:false}\"\n                        />\n                        <div *ngIf=\"duration.errors && (duration.dirty || duration.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-md-2\" [class.form-error]=\"destination.errors && (destination.dirty || destination.touched)\">\n                        <label>{{r.destination}}</label>\n                        <input name=\"destination\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"destinationAC\" (ngModelChange)=\"filteredDestinations = filterDestinations($event)\"\n                            [(ngModel)]=\"data.destination\" [attr.disabled]=\"!hotelDestinationsListReady?'true':null\" required\n                            #destination=\"ngModel\">\n                        <mat-autocomplete #destinationAC=\"matAutocomplete\" (optionSelected)=\"hotelDestinationChanged($event)\">\n                            <mat-option *ngFor=\"let option of filteredDestinations\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"destination.errors && (destination.dirty || destination.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-md-4\" [class.form-error]=\"name.errors && (name.dirty || name.touched)\">\n                        <label>{{r.hotelName}}</label>\n                        <input name=\"name\" class=\"form-control\" type=\"text\" matInput [matAutocomplete]=\"hotelAC\" (ngModelChange)=\"filteredHotels = filterHotels($event)\"\n                            [(ngModel)]=\"data.name\" [attr.disabled]=\"!hotelsListReady?'true':null\" required #name=\"ngModel\" maxlength=\"50\">\n                        <mat-autocomplete #hotelAC=\"matAutocomplete\">\n                            <mat-option *ngFor=\"let option of filteredHotels\" [value]=\"option\">\n                                {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                        <div *ngIf=\"name.errors && (name.dirty || name.touched)\" class=\"form-error__message\">\n                            <span>{{r.ERR_Required}}</span>\n                        </div>\n                    </div>\n                    <div class=\"col-xs-12 col-md-2\">\n                        <label>{{r.roomType}}</label>\n                        <input name=\"roomType\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.roomType\" maxlength=\"50\" />\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"dateError\" class=\"alert alert-danger\">\n                <span>{{r.ERR_InvalidDateInFuture}}</span>\n            </div>\n        </form>\n    </mat-dialog-content>\n</main>\n<footer class=\"dialog-footer\">\n    <button type=\"button\" class=\"btn btn-secondary btn-wide\" (click)=\"update()\" [disabled]=\"requestForm.invalid\">Update</button>\n</footer>"

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".dialog-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  padding: 15px;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  background-color: #e5f2f9; }\n  .dialog-header h2 {\n    margin: 0; }\n  .dialog-header .close {\n    float: none;\n    font-size: 1.5em;\n    line-height: 1.3em;\n    border: 2px solid #007cc3;\n    background-color: #e5f2f9;\n    color: #007cc3;\n    opacity: 1;\n    outline: none;\n    border-radius: 0;\n    margin-top: 0; }\n\n.dialog-content {\n  padding: 15px; }\n\n.mat-dialog-content {\n  padding: 0;\n  margin: 0; }\n\n.request-form__row {\n  position: relative; }\n  .request-form__row::after, .request-form__row::before {\n    display: table;\n    content: \" \"; }\n  .request-form__row::after {\n    clear: both; }\n  @media (min-width: 768px) {\n    .request-form__row--collapse-sm {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 992px) {\n    .request-form__row--collapse-md {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 1200px) {\n    .request-form__row--collapse-lg {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  .request-form__row > div[class^=\"col-\"] {\n    padding: 0; }\n    .request-form__row > div[class^=\"col-\"] > .field-group {\n      display: block; }\n      @media (min-width: 768px) {\n        .request-form__row > div[class^=\"col-\"] > .field-group {\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex: 0 1 auto;\n              flex: 0 1 auto; } }\n      .request-form__row > div[class^=\"col-\"] > .field-group > input {\n        width: 100%; }\n        @media (min-width: 768px) {\n          .request-form__row > div[class^=\"col-\"] > .field-group > input {\n            -ms-flex: 1 0 auto;\n                flex: 1 0 auto;\n            width: auto; } }\n\n.dialog-footer {\n  padding: 0 15px 15px;\n  text-align: right; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddHotelComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_hotel__ = __webpack_require__("../../../../../src/app/models/hotel.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var AddHotelComponent = (function () {
    function AddHotelComponent(dialogRef, data, resourcesService, httpClient) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.resourcesService = resourcesService;
        this.httpClient = httpClient;
        this.dateMask = [
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            /\d/,
            /\d/
        ];
        this.maxValueMask = [/\d/, /\d/];
        this.svHotelDestinationsAPI = 'api/Resource/GetDestCode?language={0}&brand=SWG&gateway={1}';
        this.svHotelsAPI = 'api/Resource/GetSVHotelList?language={0}&brand=SWG&gateway=YYZ&destination={1}';
        this.r = {};
        this.hotelDestinationsListReady = false;
        this.hotelsListReady = false;
        this.dateError = false;
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
        this.initLists();
    }
    AddHotelComponent.prototype.initLists = function () {
        var _this = this;
        this.hotelDestinations = new Array();
        this.hotelDestinationsID = new Map();
        this.httpClient
            .get(this.svHotelDestinationsAPI.replace('{0}', 'en').replace('{1}', 'YYZ'))
            .toPromise()
            .then(function (res) {
            var tempObjArr;
            tempObjArr = JSON.parse(res.json());
            //foreach group
            tempObjArr.forEach(function (g) {
                //foreach destination in group
                g.destination.forEach(function (d) {
                    if (d.destName) {
                        _this.hotelDestinations.push(d.destName);
                        _this.hotelDestinationsID.set(d.destName, d.destCode);
                    }
                }); //end foreach destination in group
            }); //end foreach group
            _this.hotelDestinations.sort();
            _this.filteredDestinations = _this.hotelDestinations;
            _this.hotelDestinationsListReady = true;
        }); // end response
    };
    AddHotelComponent.prototype.hotelDestinationChanged = function (selectedValue) {
        var _this = this;
        //destination codes are comma separated, replace with underscore
        var destcode = this.hotelDestinationsID
            .get(selectedValue.option.value)
            .replace(/,/g, '_');
        var tempObjArr;
        //disable the hotels list until it is ready and reset value
        this.hotelsListReady = false;
        this.availableResorts = [];
        //initiate the call to hotellist
        this.httpClient
            .get(this.svHotelsAPI.replace('{0}', 'en').replace('{1}', destcode))
            .toPromise()
            .then(function (res) {
            tempObjArr = JSON.parse(res.json());
            tempObjArr[0].hotels.forEach(function (h) {
                var idx = h.indexOf('--xx--');
                var hotelName = h.substring(0, idx);
                var hotelId = h.substring(idx + 6);
                if (hotelName && hotelId.split('_').length == 1)
                    _this.availableResorts.push(hotelName);
            });
            _this.availableResorts.sort();
            _this.hotelsListReady = true;
            _this.filteredHotels = _this.availableResorts;
        });
    };
    AddHotelComponent.prototype.validateDate = function (valueEntered) {
        var tempMoment = __WEBPACK_IMPORTED_MODULE_1_moment__(valueEntered, 'MM/DD/YYYY', true);
        if (tempMoment.isValid()) {
            var now = __WEBPACK_IMPORTED_MODULE_1_moment__({ hour: 0, minute: 0, seconds: 0, milliseconds: 0 });
            var diff = tempMoment.diff(now, 'days');
            if (diff < 0) {
                return false;
            }
            else {
                return true;
            }
        }
        else {
            return false;
        }
    };
    AddHotelComponent.prototype.update = function () {
        if (this.validateDate(this.data.checkInDate))
            this.dialogRef.close(this.data);
        else
            this.dateError = true;
    };
    AddHotelComponent.prototype.filterDestinations = function (valueEntered) {
        //disable the hotels list until it is ready and reset value
        this.hotelsListReady = false;
        this.data.name = '';
        return this.hotelDestinations.filter(function (destination) {
            return destination.toLowerCase().indexOf(valueEntered.toLowerCase()) === 0;
        });
    };
    AddHotelComponent.prototype.filterHotels = function (valueEntered) {
        return this.availableResorts.filter(function (hotel) { return hotel.toLowerCase().indexOf(valueEntered.toLowerCase()) === 0; });
    };
    return AddHotelComponent;
}());
AddHotelComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-add-hotel',
        template: __webpack_require__("../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.scss")]
    }),
    __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["d" /* MatDialogRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["d" /* MatDialogRef */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__models_hotel__["a" /* Hotel */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__models_hotel__["a" /* Hotel */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _d || Object])
], AddHotelComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=add-hotel.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/confirmation/confirmation.component.html":
/***/ (function(module, exports) {

module.exports = "<header class=\"dialog-header\">\r\n    <h2>\r\n        <i class=\"fa\" [ngClass]=\"data.type == 'success' ? 'fa-check-circle' : data.type == 'error' ? 'fa-exclamation-triangle' : 'fa-info-circle' \"></i>{{ data.heading }}\r\n    </h2>\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dialogRef.close()\">\r\n        <span aria-hidden=\"false\">\r\n            <i class=\"fa fa-times fa-fw\" aria-hidden=\"false\"></i>\r\n        </span>\r\n    </button>\r\n</header>\r\n<main class=\"dialog-content\">\r\n    <mat-dialog-content class=\"dialog-content\">\r\n        <p>{{ data.message }}</p>\r\n    </mat-dialog-content>\r\n</main>\r\n<footer class=\"dialog-footer\">\r\n    <button type=\"button\" class=\"btn btn-secondary btn-wide\" data-dismiss=\"modal\" attr.aria-label=\"{{data.cancel}}\" (click)=\"dialogRef.close()\">{{data.cancel}}</button>\r\n    <button type=\"button\" class=\"btn btn-primary btn-wide\" [mat-dialog-close]=\"true\">{{data.confirm}}</button>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/components/common/modals/confirmation/confirmation.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".dialog-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  padding: 25px 25px 0;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between; }\n  .dialog-header h2 {\n    margin: 0;\n    color: #333; }\n    .dialog-header h2 .fa {\n      padding-right: 15px; }\n      .dialog-header h2 .fa.fa-check-circle {\n        color: #367f46; }\n      .dialog-header h2 .fa.fa-exclamation-triangle {\n        color: #ba1b14; }\n      .dialog-header h2 .fa.fa-info-circle {\n        color: #277bc3; }\n  .dialog-header .close {\n    float: none;\n    font-size: 1.5em;\n    line-height: 1.3em;\n    color: #333;\n    opacity: 1;\n    outline: none;\n    border-radius: 0;\n    margin-top: 0; }\n\n.dialog-content {\n  padding: 25px; }\n\n.mat-dialog-content {\n  padding: 0;\n  margin: 0; }\n\n.dialog-footer .btn:nth-of-type(1) {\n  margin-bottom: 15px; }\n\n@media (min-width: 768px) {\n  .dialog-footer {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 0 auto;\n        flex: 1 0 auto;\n    -ms-flex-pack: justify;\n        justify-content: space-between; }\n    .dialog-footer .btn:nth-of-type(1) {\n      margin-bottom: 0; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/modals/confirmation/confirmation.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfirmationComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var ConfirmationComponent = (function () {
    function ConfirmationComponent(dialogRef, data, resourcesService) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
    }
    return ConfirmationComponent;
}());
ConfirmationComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-confirmation',
        template: __webpack_require__("../../../../../src/app/components/common/modals/confirmation/confirmation.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/modals/confirmation/confirmation.component.scss")]
    }),
    __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["d" /* MatDialogRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_material_dialog__["d" /* MatDialogRef */]) === "function" && _a || Object, Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], ConfirmationComponent);

var _a, _b;
//# sourceMappingURL=confirmation.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/edit/edit.component.html":
/***/ (function(module, exports) {

module.exports = "<header class=\"dialog-header\">\r\n    <h2>Edit passenger</h2>\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dialogRef.close()\">\r\n        <span aria-hidden=\"false\"><i class=\"fa fa-times fa-fw\" aria-hidden=\"false\"></i></span>\r\n    </button>\r\n</header>\r\n<main class=\"dialog-content\">\r\n    <mat-dialog-content class=\"dialog-content\">\r\n        <div class=\"request-form__section\">\r\n            <div class=\"request-form__row request-form__row--collapse-sm\">\r\n                <div class=\"col-xs-12 col-sm-9\">\r\n                    <label>{{r.passengerName}}</label>\r\n                    <div class=\"field-group\">\r\n                        <input name=\"firstName\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.firstName\" [placeholder]=\"r.firstName\" />\r\n                        <input name=\"middleName\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.middleName\" [placeholder]=\"r.middleName\" />\r\n                        <input name=\"lastName\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.lastName\" [placeholder]=\"r.lastName\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-xs-12 col-sm-3\" [class.form-error]=\"!dateValid\">\r\n                    <label>{{r.dob}}</label>\r\n                    <input name=\"DOB\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.DOB\" [textMask]=\"{mask:dateMask}\" [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(data.DOB, false, true)\" />\r\n                    <div *ngIf=\"!dateValid\" class=\"form-error__message\"><span>{{dateInvalidMessage}}</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"request-form__row request-form__row--collapse-sm\">\r\n                <div class=\"col-xs-12 col-sm-4 col-md-3\">\r\n                    <label>{{r.typeOfPass}}</label>\r\n                    <select class=\"form-control\" name=\"typeOfPass\" disabled>\r\n                        <option selected>{{typeOfPassEnum[data.typeOfPass]}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"col-xs-12 col-sm-4 col-md-3\">\r\n                    <label>{{r.phoneNumber}}</label>\r\n                    <input name=\"phoneNumber\" class=\"form-control\" type=\"text\" [(ngModel)]=\"data.phoneNumber\" />\r\n                </div>\r\n                <div class=\"col-xs-12 col-sm-4 col-md-6\">\r\n                    <label>{{r.email}}</label>\r\n                    <input name=\"email\" class=\"form-control\" type=\"email\" [(ngModel)]=\"data.email\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </mat-dialog-content>\r\n</main>\r\n<footer class=\"dialog-footer\">\r\n    <button type=\"button\" class=\"btn btn-secondary btn-wide\" (click)=\"dialogRef.close(data)\">Update</button>\r\n</footer>"

/***/ }),

/***/ "../../../../../src/app/components/common/modals/edit/edit.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".dialog-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  padding: 15px;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  background-color: #e5f2f9; }\n  .dialog-header h2 {\n    margin: 0; }\n  .dialog-header .close {\n    float: none;\n    font-size: 1.5em;\n    line-height: 1.3em;\n    border: 2px solid #007cc3;\n    background-color: #e5f2f9;\n    color: #007cc3;\n    opacity: 1;\n    outline: none;\n    border-radius: 0;\n    margin-top: 0; }\n\n.dialog-content {\n  padding: 15px; }\n\n.mat-dialog-content {\n  padding: 0;\n  margin: 0; }\n\n.request-form__row {\n  position: relative; }\n  .request-form__row::after, .request-form__row::before {\n    display: table;\n    content: \" \"; }\n  .request-form__row::after {\n    clear: both; }\n  @media (min-width: 768px) {\n    .request-form__row--collapse-sm {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 992px) {\n    .request-form__row--collapse-md {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 1200px) {\n    .request-form__row--collapse-lg {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  .request-form__row > div[class^=\"col-\"] {\n    padding: 0; }\n    .request-form__row > div[class^=\"col-\"] > .field-group {\n      display: block; }\n      @media (min-width: 768px) {\n        .request-form__row > div[class^=\"col-\"] > .field-group {\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex: 0 1 auto;\n              flex: 0 1 auto; } }\n      .request-form__row > div[class^=\"col-\"] > .field-group > input {\n        width: 100%; }\n        @media (min-width: 768px) {\n          .request-form__row > div[class^=\"col-\"] > .field-group > input {\n            -ms-flex: 1 0 auto;\n                flex: 1 0 auto;\n            width: auto; } }\n\n.dialog-footer {\n  padding: 0 15px 15px;\n  text-align: right; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/modals/edit/edit.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var EditComponent = (function () {
    function EditComponent(dialogRef, data, resourcesService) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.resourcesService = resourcesService;
        this.dateValid = true;
        this.r = {};
        this.typeOfPassEnum = __WEBPACK_IMPORTED_MODULE_1__models_enums__["g" /* TypeOfPassEnum */];
        this.dateMask = [/\d/, /\d/, '/', /\d/, /\d/, '/', /\d/, /\d/, /\d/, /\d/];
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
    }
    EditComponent.prototype.validateDate = function (valueEntered, futureDate, pastDate) {
        if (futureDate === void 0) { futureDate = false; }
        if (pastDate === void 0) { pastDate = false; }
        this.dateValid = true;
        var tempMoment = __WEBPACK_IMPORTED_MODULE_2_moment__(valueEntered, 'MM/DD/YYYY', true);
        if (tempMoment.isValid()) {
            var now = __WEBPACK_IMPORTED_MODULE_2_moment__();
            var diff = tempMoment.diff(now, 'days');
            if (futureDate && diff <= 0) {
                this.dateInvalidMessage = this.r.ERR_InvalidDateInFuture;
                this.dateValid = false;
            }
            if (pastDate && diff >= 0) {
                this.dateInvalidMessage = this.r.ERR_InvalidDateInPast;
                this.dateValid = false;
            }
        }
        else {
            this.dateInvalidMessage = this.r.ERR_InvalidDateFormat;
            this.dateValid = false;
        }
        return this.dateValid;
    };
    return EditComponent;
}());
EditComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'modal-edit',
        template: __webpack_require__("../../../../../src/app/components/common/modals/edit/edit.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/modals/edit/edit.component.scss")]
    }),
    __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["d" /* MatDialogRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_material_dialog__["d" /* MatDialogRef */]) === "function" && _a || Object, Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], EditComponent);

var _a, _b;
//# sourceMappingURL=edit.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__edit_edit_component__ = __webpack_require__("../../../../../src/app/components/common/modals/edit/edit.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__edit_edit_component__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__message_message_component__ = __webpack_require__("../../../../../src/app/components/common/modals/message/message.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__message_message_component__["a"]; });


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/modals/message/message.component.html":
/***/ (function(module, exports) {

module.exports = "<header class=\"dialog-header\">\r\n    <h2><i class=\"fa\" [ngClass]=\"data.type == 'success' ? 'fa-check-circle' : data.type == 'error' ? 'fa-exclamation-triangle' : 'fa-info-circle' \"></i>{{ data.heading }}</h2>\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dialogRef.close()\">\r\n        <span aria-hidden=\"false\"><i class=\"fa fa-times fa-fw\" aria-hidden=\"false\"></i></span>\r\n    </button>\r\n</header>\r\n<main class=\"dialog-content\">\r\n    <mat-dialog-content class=\"dialog-content\">\r\n        <p>{{ data.message }}</p>\r\n    </mat-dialog-content>\r\n</main>"

/***/ }),

/***/ "../../../../../src/app/components/common/modals/message/message.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".dialog-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  padding: 25px 25px 0;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between; }\n  .dialog-header h2 {\n    margin: 0;\n    color: #333; }\n    .dialog-header h2 .fa {\n      padding-right: 15px; }\n      .dialog-header h2 .fa.fa-check-circle {\n        color: #367f46; }\n      .dialog-header h2 .fa.fa-exclamation-triangle {\n        color: #ba1b14; }\n      .dialog-header h2 .fa.fa-info-circle {\n        color: #277bc3; }\n  .dialog-header .close {\n    float: none;\n    font-size: 1.5em;\n    line-height: 1.3em;\n    color: #333;\n    opacity: 1;\n    outline: none;\n    border-radius: 0;\n    margin-top: 0; }\n\n.dialog-content {\n  padding: 25px; }\n  .dialog-content p {\n    white-space: pre-line; }\n\n.mat-dialog-content {\n  padding: 0;\n  margin: 0; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/modals/message/message.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var MessageComponent = (function () {
    function MessageComponent(dialogRef, data, resourcesService) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
    }
    return MessageComponent;
}());
MessageComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'modal-message',
        template: __webpack_require__("../../../../../src/app/components/common/modals/message/message.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/modals/message/message.component.scss")]
    }),
    __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["a" /* MAT_DIALOG_DATA */])),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["d" /* MatDialogRef */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_material_dialog__["d" /* MatDialogRef */]) === "function" && _a || Object, Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], MessageComponent);

var _a, _b;
//# sourceMappingURL=message.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/requests-nav/requests-nav.component.html":
/***/ (function(module, exports) {

module.exports = "<p class=\"current-request\">({{ currentPendingRequest + 1 }} / {{ totalPendingRequests }})</p>\r\n<div class=\"current-request-nav\">\r\n\r\n<button class=\"btn btn-secondary btn-wide\" [disabled]=\"isFirstRequest\" (click)=\"goToPreviousRequest()\"><i class=\"fa fa-angle-left fa-lg\" aria-hidden=\"true\"></i> {{r.reviewPreviousRequest}} </button>\r\n<button class=\"btn btn-secondary btn-wide\" (click)=\"goToRequestList()\">{{r.backToRequestsList}}</button>\r\n<button class=\"btn btn-secondary btn-wide\" [disabled]=\"noRequestsLeft\" (click)=\"goToNextRequest()\">{{r.reviewNextRequest}} <i class=\"fa fa-angle-right fa-lg\" aria-hidden=\"true\"></i></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/components/common/requests-nav/requests-nav.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ":host {\n  display: block;\n  margin-top: 30px;\n  margin-bottom: 30px; }\n  @media (min-width: 768px) {\n    :host {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n      -ms-flex-pack: center;\n          justify-content: center; } }\n  :host .current-request {\n    text-align: center;\n    font-size: 24px;\n    color: #007cc3;\n    margin-bottom: 15px; }\n    @media (min-width: 768px) {\n      :host .current-request {\n        max-width: 100%;\n        -ms-flex-preferred-size: 100%;\n            flex-basis: 100%; } }\n  :host .btn {\n    font-size: 24px;\n    max-width: 100%;\n    white-space: normal; }\n    @media (min-width: 768px) {\n      :host .btn {\n        font-size: 20px; } }\n    @media (min-width: 1200px) {\n      :host .btn {\n        font-size: 24px; } }\n  :host .btn + .btn {\n    margin-top: 15px; }\n    @media (min-width: 768px) {\n      :host .btn + .btn {\n        margin-top: 0;\n        border-left-width: 0; } }\n  @media (min-width: 768px) {\n    :host .btn:disabled + .btn {\n      border-left-width: 2px; } }\n  :host .current-request-nav {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n    -ms-flex-pack: center;\n        justify-content: center; }\n    @media (min-width: 768px) {\n      :host .current-request-nav {\n        -ms-flex-wrap: nowrap;\n            flex-wrap: nowrap; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/requests-nav/requests-nav.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestsNavComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RequestsNavComponent = (function () {
    function RequestsNavComponent(httpClient, route, router, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.route = route;
        this.router = router;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
        this.noRequestsLeft = false;
        this.isFirstRequest = false;
    }
    RequestsNavComponent.prototype.ngOnInit = function () {
        var _this = this;
        switch (this.type) {
            case 'manager':
                this.getRequestsAPI = 'api/request/GetTeamList/';
                this.listRouteUrl = '/team-requests';
                this.reviewUrl = '/manager-review/';
                break;
            case 'admin':
                this.getRequestsAPI = 'api/request/GetAdminList/';
                this.listRouteUrl = '/all-requests';
                this.reviewUrl = '/admin-review/';
                break;
            case 'payload':
                this.getRequestsAPI = 'api/request/GetPayloadListFNav';
                this.listRouteUrl = '/all-flightonly-requests';
                this.reviewUrl = '/payload-review/';
                break;
            default:
                this.getRequestsAPI = 'api/Request/GetRequestsList';
                this.listRouteUrl = '/my-requests';
                this.reviewUrl = '/request-progress/';
        }
        this.route.params.subscribe(function (params) {
            _this.httpClient.get(_this.getRequestsAPI)
                .toPromise()
                .then(function (res) {
                return res.json().filter(function (list) { return list.Status === __WEBPACK_IMPORTED_MODULE_4__models_enums__["e" /* StatusEnum */].Pending; });
                ;
            })
                .then(function (list) {
                _this.totalPendingRequests = list.length;
                _this.currentPendingRequest = list.findIndex(_this.getRequestIndex, params['requestId']);
                var nextRequestIndex = _this.currentPendingRequest + 1;
                var previousRequestIndex = _this.currentPendingRequest - 1;
                // If no more "next" pending tasks -> Go back to first pending
                if (list[nextRequestIndex] === undefined) {
                    _this.noRequestsLeft = true;
                    _this.nextPendingId = null;
                }
                else {
                    _this.noRequestsLeft = false;
                    _this.nextPendingId = list[nextRequestIndex].RequestId;
                }
                // If no more "next" pending tasks -> Go back to first pending
                if (list[previousRequestIndex] === undefined) {
                    _this.isFirstRequest = true;
                    _this.previousId = null;
                }
                else {
                    _this.isFirstRequest = false;
                    _this.previousId = list[previousRequestIndex].RequestId;
                }
            });
        });
    };
    RequestsNavComponent.prototype.getRequestIndex = function (list) {
        return list.RequestId == this;
    };
    RequestsNavComponent.prototype.goToRequestList = function () {
        this.router.navigate([this.listRouteUrl]);
    };
    RequestsNavComponent.prototype.goToNextRequest = function () {
        if (this.nextPendingId === null) {
            // Fallback if not disabled correctly
            this.goToRequestList();
        }
        else {
            this.router.navigate([this.reviewUrl, this.nextPendingId]);
        }
    };
    RequestsNavComponent.prototype.goToPreviousRequest = function () {
        if (this.previousId === null) {
            // Fallback if not disabled correctly
            this.goToRequestList();
        }
        else {
            this.router.navigate([this.reviewUrl, this.previousId]);
        }
    };
    return RequestsNavComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], RequestsNavComponent.prototype, "type", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Number)
], RequestsNavComponent.prototype, "requestId", void 0);
RequestsNavComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'requests-nav',
        template: __webpack_require__("../../../../../src/app/components/common/requests-nav/requests-nav.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/requests-nav/requests-nav.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], RequestsNavComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=requests-nav.component.js.map

/***/ }),

/***/ "../../../../../src/app/components/common/status-toggle/status-toggle.component.html":
/***/ (function(module, exports) {

module.exports = "<input class=\"status__selector\" type=\"radio\"\r\n       name=\"status-{{id}}\"\r\n       id=\"status_deny-{{id}}\"\r\n       [value]=\"2\"\r\n       [(ngModel)]=\"approvalStatus\"\r\n       (change)=\"updateRequest()\"\r\n       [disabled]=\"readOnly || linkedStatus == 0\" />\r\n<label *ngIf=\"type == 'action'\" for=\"status_deny-{{id}}\">{{r.cancel}}</label>\r\n<label *ngIf=\"type != 'action'\" for=\"status_deny-{{id}}\">{{r.denied}}</label>\r\n\r\n<input class=\"status__selector\" type=\"radio\"\r\n       name=\"status-{{id}}\"\r\n       [value]=\"0\"\r\n       [(ngModel)]=\"approvalStatus\"\r\n       disabled />\r\n<label *ngIf=\"!readOnly && linkedStatus != 0\">{{r.pending}}</label>\r\n<label *ngIf=\"readOnly || linkedStatus == 0\" class=\"read-only\">{{r.processing}}</label>\r\n\r\n<input class=\"status__selector\" type=\"radio\"\r\n       name=\"status-{{id}}\"\r\n       id=\"status_approve-{{id}}\"\r\n       [value]=\"1\"\r\n       [(ngModel)]=\"approvalStatus\"\r\n       (change)=\"updateRequest()\"\r\n       [disabled]=\"readOnly || linkedStatus == 0\" />\r\n<label *ngIf=\"type == 'action'\" for=\"status_approve-{{id}}\">{{r.confirm}}</label>\r\n<label *ngIf=\"type != 'action'\" for=\"status_approve-{{id}}\">{{r.approved}}</label>\r\n\r\n<span [class]=\"readOnly ? 'status__selected status__selected--disabled' : 'status__selected'\">\r\n    <span class=\"status__selected-toggle\"></span>\r\n</span>"

/***/ }),

/***/ "../../../../../src/app/components/common/status-toggle/status-toggle.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ":host {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 0 0 auto;\n      flex: 0 0 auto;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n  position: relative;\n  min-width: 150px;\n  border-radius: 15px;\n  border: 5px solid #e4e4e4;\n  overflow: hidden; }\n  :host[ng-reflect-status=\"1\"] label:first-of-type {\n    -ms-flex-preferred-size: 100%;\n        flex-basis: 100%; }\n\n.status__selector {\n  display: none; }\n  .status__selector + label {\n    z-index: 5;\n    position: relative;\n    -ms-flex-preferred-size: 50%;\n        flex-basis: 50%;\n    width: 100%;\n    text-align: center;\n    color: #fff;\n    opacity: 0.01;\n    margin: 0;\n    font-size: 14px;\n    cursor: pointer;\n    white-space: nowrap; }\n  .status__selector:nth-of-type(1):checked + label {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    opacity: 1;\n    z-index: 2; }\n    .status__selector:nth-of-type(1):checked + label ~ label {\n      -ms-flex-preferred-size: 100%;\n          flex-basis: 100%; }\n  .status__selector:nth-of-type(1):checked ~ .status__selected {\n    background-color: #515151;\n    background-position: 0 0; }\n    .status__selector:nth-of-type(1):checked ~ .status__selected .status__selected-toggle {\n      background-color: #fff;\n      border: 1px solid #515151;\n      left: 0;\n      animation: toggle-off 0.5s linear forwards; }\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    .status__selector .status__selector:nth-of-type(1):not(:checked) + label {\n      -ms-flex-preferred-size: 100%;\n          flex-basis: 100%; } }\n  .status__selector:nth-of-type(2) + label {\n    width: 0;\n    display: none; }\n  .status__selector:nth-of-type(2):checked + label {\n    z-index: 5;\n    position: absolute;\n    display: block;\n    opacity: 1;\n    margin-top: 0;\n    left: 50%;\n    top: 50%;\n    width: 25px;\n    height: 25px;\n    transform: translate(-50%, -50%);\n    text-indent: -9999px;\n    border-radius: 50%;\n    border: 2px solid #fff;\n    background-color: #007cc3;\n    color: #646464; }\n    .status__selector:nth-of-type(2):checked + label.read-only {\n      width: auto;\n      margin-top: 1px;\n      text-indent: 0;\n      background: 0;\n      border: 0; }\n  .status__selector:nth-of-type(2):checked ~ .status__selected {\n    background: #ccc; }\n  .status__selector:nth-of-type(3):checked + label {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    opacity: 1;\n    z-index: 2; }\n    .status__selector:nth-of-type(3):checked + label ~ .status__selected {\n      background-color: #2d7e49;\n      background-position: -100% 0; }\n      .status__selector:nth-of-type(3):checked + label ~ .status__selected .status__selected-toggle {\n        background-color: #fff;\n        border: 1px solid #2d7e49;\n        right: 0;\n        animation: toggle-on 0.5s linear forwards; }\n  .status__selector[disabled] + label {\n    cursor: default; }\n\n.status__selected {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 0;\n  z-index: 1;\n  width: 10px;\n  height: 100%;\n  display: block;\n  background-size: 200% 100%;\n  background-image: linear-gradient(to right, #515151 50%, #2d7e49 50%);\n  transition: background-position 0.5s linear;\n  width: 100%;\n  border: 1px solid #333;\n  border-radius: 15px;\n  background-clip: padding-box;\n  border: 1px solid #fff;\n  background-color: #ccc; }\n  .status__selected-toggle {\n    position: absolute;\n    display: block;\n    height: 25px;\n    width: 25px;\n    border-radius: 50%;\n    top: 50%;\n    transform: translateY(-50%); }\n  .status__selected--disabled .status__selected-toggle {\n    display: none; }\n\n@keyframes toggle-on {\n  0% {\n    right: auto;\n    left: 0; }\n  100% {\n    left: calc(100% - 25px); } }\n\n@keyframes toggle-off {\n  0% {\n    left: auto;\n    right: 0; }\n  100% {\n    right: calc(100% - 25px); } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/components/common/status-toggle/status-toggle.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StatusToggleComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var StatusToggleComponent = (function () {
    function StatusToggleComponent(resourcesService) {
        var _this = this;
        this.resourcesService = resourcesService;
        this.statusChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    StatusToggleComponent.prototype.ngOnInit = function () {
        this.approvalStatus = this.status;
    };
    StatusToggleComponent.prototype.updateRequest = function () {
        this.statusChange.emit(this.approvalStatus);
    };
    StatusToggleComponent.prototype.ngOnChanges = function () {
        this.approvalStatus = this.status;
    };
    return StatusToggleComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__models_enums__["e" /* StatusEnum */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__models_enums__["e" /* StatusEnum */]) === "function" && _a || Object)
], StatusToggleComponent.prototype, "status", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], StatusToggleComponent.prototype, "statusChange", void 0);
StatusToggleComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'status-toggle',
        template: __webpack_require__("../../../../../src/app/components/common/status-toggle/status-toggle.component.html"),
        styles: [__webpack_require__("../../../../../src/app/components/common/status-toggle/status-toggle.component.scss")],
        inputs: ['id', 'type', 'linkedStatus', 'readOnly']
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], StatusToggleComponent);

var _a, _b;
//# sourceMappingURL=status-toggle.component.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.assets.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulAssets; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__ = __webpack_require__("../../../../../src/app/contentful/src/services/contentful.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ContentfulAssets = (function () {
    function ContentfulAssets(contentfulService, router) {
        this.contentfulService = contentfulService;
        this.router = router;
    }
    ContentfulAssets.prototype.ngOnInit = function () {
        var _this = this;
        if (this.contentfulService.isServiceConfigured()) {
            this.contentfulService
                .create()
                .getAssets()
                .commit()
                .subscribe(function (value) {
                _this.assets = value.items;
            });
        }
        else {
            this.router.navigateByUrl('');
        }
    };
    return ContentfulAssets;
}());
ContentfulAssets = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        template: "\n    <h2>Assets</h2>\n    <div class=\"error\" *ngIf=\"error\">\n      {{ error }}\n    </div>\n    <div>\n      <ul>\n        <li *ngFor=\"let asset of assets\">\n          <a *ngIf=\"asset?.fields?.file?.url\" href=\"{{ asset.fields.file.url }}\">\n            {{ asset.fields.title }}\n          </a>\n        </li>\n      </ul>\n    </div>\n  "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object])
], ContentfulAssets);

var _a, _b;
//# sourceMappingURL=contentful.assets.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".slider-container {\n  position: relative; }\n\n.slider-container .bx-container {\n  display: none; }\n\n.slider-container .bx-wrapper {\n  list-style-type: none;\n  padding: 0;\n  position: relative;\n  height: 420px !important;\n  display: none; }\n\n.slider-container .bx-viewport {\n  z-index: 0; }\n\n.slider-container .primary-slider {\n  position: relative;\n  width: 100%;\n  height: inherit;\n  margin: 0;\n  padding: 0; }\n\n.slider-container .primary-slider li, .slider-container .primary-slider li a, .slider-container .primary-slider li > span nav ul {\n  display: inline;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  width: 60px; }\n\n.slider-container .primary-slider li {\n  display: none; }\n\n.slider-container .slider-heading-container {\n  position: absolute;\n  top: 60px;\n  left: 85px;\n  font-family: inherit;\n  color: #fff;\n  pointer-events: none;\n  font-size: .8em;\n  text-shadow: 3px 3px 3px #333; }\n\n.slider-container .slider-heading-container .title {\n  display: block;\n  font-size: 6.7em;\n  font-weight: 700;\n  line-height: 1em; }\n\n.slider-container .slider-heading-container .sub-title {\n  display: block;\n  font-size: 1.75em;\n  line-height: 1em; }\n\n.slider-container .primary-slider li, .slider-container .primary-slider li a, .slider-container .primary-slider li > span {\n  width: 100% !important;\n  background-repeat: no-repeat;\n  background-position: 45%;\n  height: 420px;\n  display: block; }\n\n.slider-container .bx-controls {\n  float: left;\n  width: 100%;\n  opacity: 0;\n  transition: opacity .5s ease-out; }\n\n.slider-container .bx-controls-direction a {\n  position: absolute;\n  top: 50%;\n  margin-top: -1.175em;\n  outline: 0;\n  font-size: 2em;\n  color: #0078c5;\n  background-color: #fff;\n  width: 1em;\n  height: 2.25em;\n  opacity: .7;\n  transition: all .5s ease-out; }\n\n.slider-container .bx-prev {\n  left: 0; }\n\n.slider-container .bx-prev i {\n  position: absolute;\n  top: 50%;\n  left: 3px;\n  margin-top: -.45em; }\n\n.slider-container .bx-next {\n  right: 0; }\n\n.slider-container .bx-next i {\n  position: absolute;\n  top: 50%;\n  right: 3px;\n  margin-top: -.45em; }\n\n.slider-container .bx-controls-auto {\n  display: none; }\n\n.slider-container .bx-pager {\n  position: relative;\n  display: table;\n  margin-top: -2.5em;\n  margin-left: auto;\n  margin-right: auto;\n  z-index: 3;\n  text-align: center; }\n\n.slider-container .bx-pager a {\n  margin: 0 3px;\n  background-color: #d3e4ed;\n  border: 2px solid #fff;\n  width: 1.25em;\n  height: 1.3em;\n  display: inline-block;\n  font-size: 1em; }\n\n.slider-container .bx-pager a.active {\n  border: 2px solid #fff;\n  background-color: #007cc3; }\n\n.slider-container .mobile-slider {\n  position: relative; }\n\n.slider-container .mobile-primary-slider {\n  position: relative;\n  width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0; }\n\n.slider-container .mobile-primary-slider li, .slider-container .mobile-primary-slider li a, .slider-container .mobile-primary-slider li > span {\n  width: 100% !important;\n  height: auto;\n  display: block; }\n\n@media (min-width: 768px) {\n  .slider-container {\n    margin-bottom: 15px; }\n  .slider-container .bx-container {\n    display: block; }\n  .slider-container .mobile-slider {\n    display: none; }\n  .slider-container .mobile-primary-slider li {\n    display: none; } }\n\n@media (min-width: 768px) and (max-width: 991px) {\n  .slider-container .primary-slider li a, .slider-container .primary-slider li > span {\n    background-position: 32%; } }\n\n@media (min-width: 992px) and (max-width: 1200px) {\n  .slider-container .primary-slider li a, .slider-container .primary-slider li > span {\n    background-position: 41%; } }\n\n@media (min-width: 2048px) {\n  .slider-container .primary-slider li a, .slider-container .primary-slider li > span {\n    background-size: cover; } }\n\n.mobile-primary-slider img {\n  width: 100%;\n  height: auto;\n  display: block; }\n\nnav li {\n  display: inline; }\n\nnav li.active {\n  background-color: lightgray; }\n\na.disabled {\n  pointer-events: none;\n  cursor: not-allowed; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__ = __webpack_require__("../../../../../src/app/contentful/src/services/contentful.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ContentfulComponent = (function () {
    function ContentfulComponent(contentfulService) {
        this.contentfulService = contentfulService;
    }
    return ContentfulComponent;
}());
ContentfulComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'swcontentful',
        styles: [__webpack_require__("../../../../../src/app/contentful/contentful.component.scss")],
        template: "\n    <header>\n    <nav>\n      <h1>NG2 Contentful demo</h1>\n      <ul>\n        <li>\n          <a [routerLink]=\" [''] \">Assets</a>\n        </li>\n        <li>\n          <a [routerLink]=\" ['/content-types'] \">Content types</a>\n        </li>\n      </ul>\n    </nav>\n    </header>\n    <router-outlet></router-outlet>\n  "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */]) === "function" && _a || Object])
], ContentfulComponent);

var _a;
//# sourceMappingURL=contentful.component.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.entries.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"slider-container\">\r\n    <div class=\"bx-container\">\r\n        <ul class=\"primary-slider\">\r\n            <li #allslides *ngFor=\"let entry of entries; let last = last; \">\r\n                <div class=\"slider-heading-container\">\r\n                    <span class=\"title\">{{entry.fields?.mainTitle}}</span>\r\n                    <span class=\"sub-title\">{{entry.fields?.subTitle}}</span>\r\n                </div>\r\n                <a [title]=\"entry.fields?.mainTitle\" [target]=\"entry.fields?.target\" [href]=\"entry.fields?.urlLink\" style.background-image=\"url({{entry.fields.imageLink.fields.file.url}})\" (click)=\"canslide(entry)\" [class.disabled]=\"!canslide(entry)\"></a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n\r\n    <div class=\"mobile-slider\" id=\"slider-mobile\">\r\n        <div id=\"mobile-slider-bx-container\" class=\"mobile-bx-container\">\r\n\r\n            <ul class=\"mobile-primary-slider\">\r\n                <li *ngFor=\"let entry of entries\">\r\n                    <div class=\"slider-heading-container\">\r\n                        <span class=\"title\">{{entry.fields?.mainTitle}}</span>\r\n                        <span class=\"sub-title\">{{entry.fields?.SubTitle}}</span>\r\n                    </div>\r\n                    <a href={{entry.fields?.urlLink}} target={{entry.fields?.target}} title={{entry.fields?.mainTitle}}> <img src={{entry.fields.imageLinkMobile.fields.file.url}} alt={{entry.fields?.mainTitle}} /></a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.entries.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulEntries; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__ = __webpack_require__("../../../../../src/app/contentful/src/services/contentful.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ContentfulEntries = (function () {
    function ContentfulEntries(router, contentfulService, resourcesService) {
        this.resourcesService = resourcesService;
        this.router = router;
        this.contentfulService = contentfulService;
        this.culture = resourcesService.getCookie('culture');
    }
    ContentfulEntries.prototype.canslide = function (slide) {
        if (slide.fields && slide.fields.urlLink && slide.fields.urlLink.length > 0)
            return true;
        else
            return false;
    };
    ContentfulEntries.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.allslides.changes.subscribe(function (t) {
            _this.contentfulService.setSharedData("slidesRendered", true);
        });
    };
    ContentfulEntries.prototype.ngOnInit = function () {
        var _this = this;
        if (this.contentfulService.isServiceConfigured()) {
            var contentType = 'itemDescription'; //this.router.url.split('/').pop();
            var today = new Date().toJSON().slice(0, 10);
            this.contentfulService
                .create()
                .searchEntries(contentType, { param: 'fields.promotionCategory[in]', value: 'stafftravel' }, { param: 'fields.status', value: 'Active' }, { param: 'fields.startDateTime[lte]', value: today }, { param: 'fields.toDateTime[gte]', value: today }, { param: 'include', value: '3' }, { param: 'limit', value: '5' }, { param: 'locale', value: this.culture }, { param: 'order', value: '-fields.genericFlag,fields.priority' })
                .commit()
                .subscribe(function (value) {
                _this.entries = value.items;
                if (_this.entries.length == 0)
                    _this.contentfulService.setSharedData("slidesRendered", true);
            });
            //this.resources.getResources().then(res => {
            //        this.resourcesData = res; 
            //        this.contentfulService
            //            .create()
            //            .searchEntries(contentType, 
            //                { param: 'fields.promotionCategory[in]', value: 'friendsandfamily' },
            //                { param: 'fields.status', value: 'Active' },
            //                { param: 'fields.startDateTime[lte]', value: today },
            //                { param: 'fields.toDateTime[gte]', value: today },
            //                { param: 'include', value: '3' },
            //                { param: 'limit', value: '5' },
            //                {param: 'locale', value: this.resourcesData['locale'] },
            //                { param: 'order', value: '-fields.genericFlag,fields.priority' }
            //            )
            //            //.getEntriesByType(contentType)
            //            .commit()
            //            .subscribe((value) => {
            //                this.entries = value.items;
            //                if (this.entries.length == 0)
            //                    this.resources.setSharedData("slidesRendered", true);
            //                });
            //});
        }
        else {
            this.router.navigateByUrl('');
        }
    };
    return ContentfulEntries;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('allslides'),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"]) === "function" && _a || Object)
], ContentfulEntries.prototype, "allslides", void 0);
ContentfulEntries = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'contentfulentries',
        styles: [__webpack_require__("../../../../../src/app/contentful/contentful.component.scss")],
        template: __webpack_require__("../../../../../src/app/contentful/contentful.entries.html"),
        providers: [__WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */]]
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__src_services_contentful_service__["a" /* ContentfulService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], ContentfulEntries);

var _a, _b, _c, _d;
//# sourceMappingURL=contentful.entries.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/contentful.types.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulTypes; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__src_services_contentful_service__ = __webpack_require__("../../../../../src/app/contentful/src/services/contentful.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ContentfulTypes = (function () {
    function ContentfulTypes(contentfulService, router) {
        this.contentfulService = contentfulService;
        this.router = router;
    }
    ContentfulTypes.prototype.ngOnInit = function () {
        var _this = this;
        if (this.contentfulService.isServiceConfigured()) {
            this.contentfulService
                .create()
                .getContentTypes()
                .commit()
                .subscribe(function (value) {
                _this.contentTypes = value.items;
            });
        }
        else {
            this.router.navigateByUrl('');
        }
    };
    return ContentfulTypes;
}());
ContentfulTypes = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["Component"])({
        template: "\n    <h2>Content types</h2>\n    <div class=\"error\" *ngIf=\"error\">\n      {{ error }}\n    </div>\n    <div>\n      <ul>\n        <li *ngFor=\"let contentType of contentTypes\">\n          <a [routerLink]=\"['/entries', contentType.sys.id ]\">\n            {{ contentType.name }}\n          </a>\n        </li>\n      </ul>\n    </div>\n  "
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__src_services_contentful_service__["a" /* ContentfulService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__src_services_contentful_service__["a" /* ContentfulService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _b || Object])
], ContentfulTypes);

var _a, _b;
//# sourceMappingURL=contentful.types.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/custom/custom.src.js":
/***/ (function(module, exports) {

var customsrcObject = (function () {
    return {
        init: function () {
            // original strarts		


            /*//////////////////////////////////////////////////////////////////////////////////
            // GLOBAL Scoped Declarations & Events
            //////////////////////////////////////////////////////////////////////////////////*/

            currentViewPort = "lg";
            browser = {};
            signOut = {};

            updateGateway = function (gatewayCode) {
                "use strict";

                $.cookie("SunwingGateway", gatewayCode, {
                    expires: 30,
                    domain: ".sunwing.ca",
                    path: "/"
                });

                var url = $(location).attr("href");

                if (url.indexOf("promotion") !== -1) {

                    if (url.substring(url.length - 3, url.length - 4) === "/") {
                        url = url.substring(0, url.length - 4);
                    }

                    location.href = url + "/" + gatewayCode;

                } else {

                    location.reload();
                }
            };

            // IIFE Closure
            (function ($, viewport, app) {
                "use strict";

                $(document).ready(function () {

                    /*//////////////////////////////////////////////////////////////////////////////////
                    // GLOBAL: Constants, Events, and Functions
                    //////////////////////////////////////////////////////////////////////////////////*/

                    var scriptLoaded = false;

                    // Page Variables
                    var thisWindow = $(window);
                    var browserDOMTarget = navigator.userAgent.toLowerCase().indexOf("webkit") > -1 ? "body" : "html";
                    var viewportObj = $(browserDOMTarget);

                    // Header Search Box
                    var headerSearchBoxObj = $(".hotel-search > input.search");
                    var headerSearchBoxExists = (headerSearchBoxObj.length > 0) ? true : false;
                    var headerSearchBoxService = (typeof hotelServicesURL !== "undefined") ? hotelServicesURL : "";

                    // Hotel Page Template
                    var hotelURL = "/hotel/";

                    // Scroll Tracking
                    var windowScrollTop = thisWindow.scrollTop(), windowScrollTopPrev = 0;
                    var windowScrollHeight;
                    var moveDirection = null;

                    // Scroll to Top
                    var backToTopObj = $("#back-to-top");
                    var backToTopExists = (backToTopObj.length > 0) ? true : false;
                    var backToTopLoaded = false;
                    var backToTopToggleDirection = -1;
                    var backToTopInit = true;

                    // ViewPort Tracking
                    var prevViewPort = "";
                    var viewPortWidth = 0;
                    var viewPortChange = false;

                    // Error Tooltips
                    var errorToolTip = ".form-error-container .haspopover span.fa";

                    // URL Query Storage
                    var allURLVars = {
                        "queries": [],
                        "hash": ""
                    };

                    // Video Display
                    var displayVideo = true; // global toggle switch
                    var playVideo = false; // detected video player state
                    var videoPlayer, videoAccount, videoPlayList; // video player requirements

                    /*/////////////////////////////////////////
                    // Component Class Variables
                    /////////////////////////////////////////*/

                    // Primary Slider (bxSlider)
                    var sliderObj = $(".slider-container");
                    var sliderExists = ($.fn.bxSlider && sliderObj.length > 0) ? true : false;
                    var bxSliderPluginObj, slideShowObj;
                    var sliderPager = "bx-pager";
                    var sliderWrapperClass = "bx-wrapper";
                    var sliderContainerClass = "bx-container";
                    var sliderLoadedFlag = false;

                    // Primary Mobile Slider (bxSlider)
                    var mobileSliderObj = $(".slider-container .mobile-slider");
                    var mobileSliderExists = ($.fn.bxSlider && mobileSliderObj.length > 0 && !mobileSliderObj.hasClass("over-ride")) ? true : false;
                    var bxSliderMobilePluginObj, mobileSlideShowObj;
                    var mobileSliderPager = "mobile-bx-pager";
                    var mobileSliderWrapperClass = "bx-wrapper";
                    var mobileSliderContainerClass = "mobile-bx-container";
                    var mobileSliderLoadedFlag = false;
                    var mobileSliderRatio = (720 / 420).toFixed(2);

                    // Sign-up #1ToTheSun Promotion
                    var signUpNo1ToTheSunObj = $("#signup-no1-to-the-sun");
                    var signUpNo1ToTheSunExists = (signUpNo1ToTheSunObj.length > 0) ? true : false;
                    var slideState = false;
                    var slideVorH; // values: "horizontal" or "vertical"
                    var signUpInputFlag = false;

                    // Sticky Effect Init
                    var signUpFormToggleDirection = -1;
                    var signUpFormInit = true;
                    var signUpStickyOn = false; // default value for when the signUp sticky footer is activated

                    var searchBoxBottomPosition = 0;
                    var signUpNo1ToTheSunTopPosition = 0;

                    // Search Box (Inline Tabbed Booking Engine)
                    var searchBoxObj = $("#search-box");
                    var searchBoxExists = (searchBoxObj.length) ? true : false;
                    var defaultTab = ($("html").data("page-template")) ? $("html").data("page-template") : false;

                    var searchBoxArray = ["packages", "flights", "hotels", "cruises", "cars"];
                    var pageTemplate;

                    // Flights autocomplete inputs
                    var departureGatewayObj;
                    var arrivalGatewayObj;

                    // Cars autocomplete inputs
                    var pickUpGatewayObj;
                    var dropOffGatewayObj;

                    // DatePicker Options
                    var datePickerOptions;

                    // Ad Module 
                    var adModuleObj = $(".promo-module");
                    var adModuleExists = (adModuleObj.length > 0) ? true : false;
                    var adModuleDDObj = $(".promo-module .promo-module-tab-container > ul > li.dropdown");
                    var adModuleTabLimit = (adModuleTabLimit) ? parseInt(adModuleTabLimit, 10) : 4;

                    // Sunwing Mobile App Slider (bxSlider)
                    var mobileAppSliderObj = $("#swg-mobile-app .bxslider");
                    var mobileAppSliderExists = ($.fn.bxSlider && mobileAppSliderObj.length > 0) ? true : false;
                    var mobileAppSliderWrapperClass = "swg-app-bx-wrapper";
                    var mobileAppSlideShowObj;
                    var mobileAppSliderPager = "swg-app-bx-pager";
                    var mobileAppSliderPluginObj;

                    // LPC Search Box
                    var lpcSearchBoxObj = $("#lpc-search-box");
                    var lpcSearchBoxExists = (lpcSearchBoxObj.length) ? true : false;

                    var lpcSliderImgObj = $("#lpc-slider-carousel");
                    var lpcSliderImgObjExists = (lpcSliderImgObj.length) ? true : false;

                    // Multiple Slider Carousel (bxSlider)
                    var slideCarouselObj = $(".slider-carousel");
                    var slideCarouselExists = ($.fn.bxSlider && slideCarouselObj.length > 0) ? true : false;
                    var slideCarouselPluginObjArray = [];
                    var slideCarouselPrevButton = "carousel-bx-prev";
                    var slideCarouselNextButton = "carousel-bx-next";
                    var slideCarouselPager = "carousel-bx-pager";
                    var slideCarouselControlsClass = "carousel-bx-controls";
                    var slideCarouselLoadedFlag = false;
                    var slideCarouselMargin = 20;

                    // Tab Accordion Hybrid
                    var accordionTabObj = $(".accordion-tab-wrapper");
                    var accordionTabExists = (accordionTabObj.length) ? true : false;
                    var accordionTabArray = [];

                    // Thumbnail Gallery Slider
                    var thumbnailGallerySliderObj = $(".thumbnail-gallery-slider");
                    var thumbnailGallerySliderExists = ($.fn.bxSlider && thumbnailGallerySliderObj.length > 0) ? true : false;
                    var thumbnailGallerySliderPluginObj;

                    // Excursion Step 1 - Multi-Column Table
                    var multiColumnTableObj = $(".multi-column-table");
                    var multiColumnTableExists = (multiColumnTableObj.length > 0) ? true : false;
                    var htmlArray = {}, destinationMax = 0, countryTotal = 0;
                    var excursionStep1Data;
                    var tableScrollerObj = null;

                    // Excursion Step 2 - Filter Listing
                    var filterContentObj = $(".filter-content");
                    var filterTabMenuObj = $(".filter-tab-menu");
                    var filterWrapperObj = $(".filter-tab-wrapper");
                    var filterDDMenuObj = $(".filter-dd-menu");
                    var filterListObj = $(".filter-list");
                    var filterContentExists = (filterContentObj.length) ? true : false;

                    // Excursion Step 3
                    var excursionPageDataObj = $(".excursion-s3-data");
                    var excursionPageDataExists = (excursionPageDataObj.length) ? true : false;
                    var excursionGalleryObj = $(".thumbnail-gallery-slider");
                    var excursionGalleryExists = (excursionGalleryObj.length > 0 && thumbnailGallerySliderExists) ? true : false;
                    var exCodeURL = (typeof exCode !== "undefined") ? exCode : "";

                    // Destinations Step 1
                    var animateWallObj = $(".animate-wall");
                    var animateWallExists = (animateWallObj.length) ? true : false;

                    // Destination Step 1 & 2 Navigation
                    var scrollNavigationObj = $(".media-navigation-container .nav-wrapper");
                    var scrollNavigationExists = (scrollNavigationObj.length) ? true : false;
                    var scrollMoreObj = scrollNavigationObj.find(".more");
                    var scrollMoreNavigationObj = scrollNavigationObj.find(".more-navigation");

                    // Sticky Navigation
                    var scrollStickyNavigationObj = $(".sticky-navigation-anchor");
                    var scrollStickyNavigationExists = (scrollStickyNavigationObj.length) ? true : false;
                    var scrollStickyTabListObj = scrollStickyNavigationObj.find(".navigation");
                    var toggleScroll = false;
                    var horizontalMenuInstance;

                    var stickySideNavigationExists = scrollStickyNavigationObj.hasClass("side");

                    // Hotel Filter Application
                    var productGroupObj = $(".product-container-group");

                    // Destination Weather
                    var weatherCalendarObj = $(".weather-calendar");
                    var weatherCalendarExists = (weatherCalendarObj.length > 0) ? true : false;
                    var weatherCalendarControlsObj = weatherCalendarObj.find(".weather-controls");

                    // Things to do 
                    var horizontalTabMenuInstance;

                    var destinationTabRequirement = {
                        "tours-excursions": {
                            "serviceAPI": "excursionsCountryDestination",
                            "country": "",
                            "destination": "",
                            "callback": "appendExcursionData",
                            //"itemInterval": 0,
                            "itemCounter": 0,
                            "itemLimit": 6,
                            "moreCTA": false
                        },
                        "golf": {
                            "serviceAPI": "destinationGolfInfo",
                            "code": "",
                            "callback": "appendGolfData",
                            "itemInterval": 6,
                            "itemCounter": 0,
                            "itemLimit": null,
                            "moreCTA": true
                        },
                        "spas": {
                            "serviceAPI": "destinationSpaInfo",
                            "code": "",
                            "callback": "appendSpaData",
                            "itemInterval": 9,
                            "itemCounter": 0,
                            "itemLimit": null,
                            "moreCTA": true
                        },
                        "casinos": {
                            "serviceAPI": "destinationCasinoInfo",
                            "code": "",
                            "callback": "appendCasinoData",
                            "itemInterval": 6,
                            "itemCounter": 0,
                            "itemLimit": null,
                            "moreCTA": true
                        }
                    };

                    // Load internal page anchor scrolling
                    var scrollIDObj = viewportObj.find("[data-scroll-id='true']");
                    var scrollIDsExist = (scrollIDObj.length > 0) ? true : false;

                    // Load scrolling tabs Sly plugin
                    var scrollingTabsObj = $(".scrolling-tabs");
                    var scrollingTabsExists = (scrollingTabsObj.length > 0) ? true : false;
                    var scrollingTabInstanceArray = [];

                    // Load single thumbnail in modal window
                    var modalThumbnailObj = $(".modal-thumbnail");
                    var modalThumbnailExists = (modalThumbnailObj.length > 0) ? true : false;
                    var modalWindowObj = $("#generic-modal");
                    var modalWindowExists = (modalWindowObj.length > 0) ? true : false;

                    // Generic Pop-over DOM element
                    var popOverObj = $(".popover-container");

                    // Pop-over DOM trigger element
                    var popOverTriggerObj = popOverObj.find(".popover-trigger");
                    var popOverTriggerExists = (popOverTriggerObj.length > 0) ? true : false;

                    // Vacation Finder Tab DOM element
                    var vacationFinderTabObj = $("#vacation-finder-tab");
                    var vacationFinderTabExists = (vacationFinderTabObj.length > 0) ? true : false;
                    var vacationFinderInit = false;
                    var vacationFinderDisplay = false;

                    // Homepage Feature Recommendations
                    var featureRecommendationsObj = $("#feature-recommendations.rules .recommendation-item");
                    var featureRecommendationsExists = (featureRecommendationsObj.length > 0) ? true : false;

                    // Rules Slider (bxSlider)
                    var featureRuleSliderObj = $("#feature-recommendations.rules .recommendation-item .rule-wrapper");
                    var featureRuleSliderExists = ($.fn.bxSlider && featureRuleSliderObj.length > 0) ? true : false;
                    var featureRuleSliderPager = "feature-rule-bx-pager";
                    var featureRuleSliderWrapperClass = "rule-wrapper";
                    var featureRuleSlideShowObj;
                    var featureRuleSliderPluginObj;
                    var featureRuleSliderInstanceArray = [], featureRuleSliderInstanceCounterArray = [];

                    // Application Private Namespace
                    var SWGApplication = {};

                    app.SWGApplication = {

                        dataModel: {
                            language: "", // values: en, fr
                            locale: "", // values: en-ca, fr-ca
                            template: "", // display types: homepage, promotionpage, hotelpage
                            brand: "", // value: sunwing
                            protocol: "",
                            query: [], // value: object properties: hash, queries
                            queryList: {
                                "queryArray": ["excursion-code", "excursion-dest"]
                            },
                            viewPortChange: "",
                            excursionStep3Array: [{
                                "shortDescription": [{
                                    "heading": "description",
                                    "domElement": "short-description"
                                }]
                            },
                            {
                                "longDescription": [{
                                    "heading": "description",
                                    "domElement": "long-description"
                                }]
                            },
                            {
                                "inclusions": [{
                                    "heading": "inclusions",
                                    "domElement": "inclusions"
                                }]
                            },
                            {
                                "duration": [{
                                    "heading": "duration",
                                    "domElement": "duration"
                                }]
                            },
                            {
                                "departureTimeAndLocation": [{
                                    "heading": "departure",
                                    "domElement": "departure"
                                }]
                            },
                            {
                                "dropOffTimeAndLocation": [{
                                    "heading": "drop-off",
                                    "domElement": "drop-off"
                                }]
                            },
                            {
                                "notes": [{
                                    "heading": "notes",
                                    "domElement": "notes"
                                }]
                            },
                            {
                                "frequency": [{
                                    "heading": "frequency",
                                    "domElement": "frequency"
                                }]
                            }],
                            galleryImages: [],
                            excursionFeatures: [],
                            urlConversionDictionary: {
                                // Punctuation Combination Chars
                                "\'": " ",
                                "\"": "_",
                                // Punctuation Single Chars
                                "": "_",
                                "": "_",
                                "": "_",
                                "": "_",
                                ".": "_",
                                "&": "and",
                                "/": " ",
                                "?": "_",
                                "!": "_",
                                ":": " ",
                                ";": " ",
                                "(": "_",
                                ")": "_",
                                "[": "_",
                                "]": "_"
                            },
                            classConversionDictionary: {
                                // Letters
                                "": "a", "": "a", "": "a",
                                "": "c",
                                "": "e", "": "e", "": "e", "": "e",
                                "": "i", "": "i",
                                "": "o",
                                "": "u", "": "u", "": "u",
                                // Punctuation Combination Chars
                                "\'": " ",
                                "\"": "_",
                                // Punctuation Single Chars
                                "": "_",
                                "": "_",
                                "": "_",
                                "": "_",
                                ".": "_",
                                "&": "and",
                                "/": " ",
                                "?": "_",
                                "!": "_",
                                ":": " ",
                                ";": " ",
                                "(": "_",
                                ")": "_",
                                "[": "_",
                                "]": "_"
                            },
                            videoPlayer: {
                                "brightCove": {
                                    "playerID": "3769567102001",
                                    "playerKey": "AQ~~,AAACAjbl3IE~,5ak6eABhcgEpQCgEMoAmo0XJp4lI3ZUU",
                                    "playList": []
                                },
                                "brightCove-SSL": {
                                    "player": "H1KdEl4Hg",  // Bk7oo10zW
                                    "account": "2208534224001",
                                    "playList": []
                                },

                            },
                            templateList: ["/attractions", "/cars", "/cruises", "/destinations", "/error", "/excursions", "/grouptravel", "/hotel", "/hoteldesc", "/lowestpricecalendar", "/promotions", "/search"]

                        },

                        dataView: {
                            init: function () {

                                /*//////////////////////////////////////////////////////////////////////////////////
                                // Page Load Sequence 
                                //////////////////////////////////////////////////////////////////////////////////*/

                                app.SWGApplication.dataController.initSettings();
                                app.SWGApplication.dataController.loadHeaderScripts();

                                // Load Non-AJAX modules
                                app.SWGApplication.dataView.loadStaticSequence();

                            },

                            loadStaticSequence: function () {

                                /*//////////////////////////////////////////////////////////////////////////////////
                                // Load Static Body Content & Components
                                //////////////////////////////////////////////////////////////////////////////////*/

                                // Inline Search Box (Booking Engine)
                                if (searchBoxExists) app.SWGApplication.dataController.loadSearchBox();

                                // Lowest Price Calendar Search Box (Booking Engine)
                                if (lpcSearchBoxExists) app.SWGApplication.dataController.loadLPCSearchBox();

                                // Lowest Price Calendar Carousel Slider
                                if (lpcSliderImgObjExists) app.SWGApplication.dataController.loadLPCSliderImg();

                                // Promotion Ad Module
                                if (adModuleExists) app.SWGApplication.dataController.loadAdModule();

                                // Sunwing Mobile App bxSlider Plugin
                                if (mobileAppSliderExists) app.SWGApplication.dataController.loadSWGMobileAppSlider();

                                // Back to top
                                if (backToTopExists) app.SWGApplication.dataController.loadBackToTop();

                                // Load all Thumbnails in the generic modal window
                                if (modalThumbnailExists && modalWindowExists) app.SWGApplication.dataController.loadModalThumbnail();

                                if (popOverTriggerExists) app.SWGApplication.dataController.loadModalPopOver();

                                // Scan DOM for scrollable navigation
                                if (scrollIDsExist) app.SWGApplication.dataView.displayScrollNavigation();

                                /*//////////////////////////////////////////////////////////////////////////////////
                                // Load Global Events
                                //////////////////////////////////////////////////////////////////////////////////*/

                                loadWindowsEvents();

                                /*//////////////////////////////////////////////////////////////////////////////////
                                // Load Body Content Requiring Global Events 
                                //////////////////////////////////////////////////////////////////////////////////*/

                                // Sign Up Form: #1 to the Sun
                                if (signUpNo1ToTheSunExists) {

                                    if (currentViewPort !== "xs" && currentViewPort !== "sm") {
                                        setTimeout(function () {
                                            app.SWGApplication.dataController.loadSignUpNo1ToTheSun();
                                        }, 2000);
                                    } else {
                                        app.SWGApplication.dataController.loadSignUpNo1ToTheSun();
                                    }

                                }

                                /*//////////////////////////////////////////////////////////////////////////////////
                                // Load Hacks
                                //////////////////////////////////////////////////////////////////////////////////*/

                                // jQuery UI Autocomplete Hacks
                                if (!$.isEmptyObject($.ui)) {
                                    if (!$.isEmptyObject($.ui.autocomplete)) {

                                        // Monkey Patch hack to make drop-downs responsive
                                        $.ui.autocomplete.prototype._resizeMenu = function () {
                                            var ul = this.menu.element;
                                            ul.outerWidth(this.element.outerWidth());
                                            ul.offset().top = this.element.offset().top + this.element.height();
                                            ul.offset().left = this.element.offset().left;
                                        };
                                    }
                                }

                            },

                            displayPrimarySlider: function () {
                                // Primary Slider bxSlider Plugin
                                if (sliderExists) app.SWGApplication.dataController.loadPrimarySlider();
                                if (mobileSliderExists && (currentViewPort === "xs")) app.SWGApplication.dataController.loadMobileSlider();
                            },

                            displayCarouselSlider: function () {
                                // Carousel Slider
                                if (slideCarouselExists) app.SWGApplication.dataController.loadCarouselSlider();
                            },

                            displayAccordionTabs: function () {
                                // Tab Accordion
                                if (accordionTabExists) {
                                    app.SWGApplication.dataController.loadAccordionTab();
                                    app.SWGApplication.dataController.reloadAccordionTab();
                                }
                            },

                            displayScrollNavigation: function () {
                                // In-page Navigation Scrolling
                                if (scrollNavigationExists || scrollStickyNavigationExists || scrollIDsExist) app.SWGApplication.dataController.loadScrollableNavigation();
                            },

                            displayExcursionStep1Content: function () {
                                // Load Excursion Step 1 Destination List
                                if (multiColumnTableExists && app.SWGApplication.dataModel.template === "excursions") app.SWGApplication.dataController.loadExcursionStep1Content();
                            },

                            displayExcursionStep2Content: function () {
                                // Load Excursion Step 2 Content
                                if (multiColumnTableExists && app.SWGApplication.dataModel.template === "excursions" && filterContentExists) app.SWGApplication.dataController.loadExcursionStep2Content();
                            },

                            displayExcursionStep3Content: function () {
                                // Load Excursion Step 3 Content
                                if ((excursionGalleryExists || excursionPageDataExists) && app.SWGApplication.dataModel.template === "excursions") app.SWGApplication.dataController.loadExcursionStep3Content();
                            },

                            displayDestinationStep1Content: function () {
                                // Freewall Animate Container
                                if (app.SWGApplication.dataModel.template === "destinations") app.SWGApplication.dataController.loadDestinationsStep1();
                            },

                            displayDestinationStep2Content: function () {
                                if (app.SWGApplication.dataModel.template === "destinations") app.SWGApplication.dataController.loadDestinationsStep2();
                            },

                            displayThumbnailGallery: function (_element, _controls) {
                                // Thumbnail Gallery Slider
                                if (thumbnailGallerySliderExists) app.SWGApplication.dataController.loadThumbnailGallery(_element, _controls);
                            },

                            displayAccordionPanels: function (_id) {
                                // Load all Bootstrap Accordion Panels (Outer & Inner Customized)
                                if ($(_id).length > 0) app.SWGApplication.dataController.loadAccordionPanels(_id);
                            },

                            displayScrollingTabs: function () {
                                // Load all Sly plugin tabs
                                if (scrollingTabsExists) app.SWGApplication.dataController.loadScrollingTabs();
                            },

                            displayItinerary: function (_code) {
                                // Display one tab
                                app.SWGApplication.dataController.showOneItinerary(_code);
                            },

                            displayMultiColumnTable: function () {
                                if (multiColumnTableExists) app.SWGApplication.dataController.loadMultiColumnTable();
                            },

                            displayMultiColumnPlugin: function (_selector, _options) {
                                if ($(_selector).length > 0) {
                                    $(_selector).multiColumnManager(_options);
                                }
                            },

                            displayWeather: function () {
                                if (weatherCalendarExists) app.SWGApplication.dataController.loadWeatherToggle();
                            },

                            displayFeatureRecommendations: function () {
                                // Load Feature Recommendations
                                featureRecommendationsObj = $("#feature-recommendations.rules .recommendation-item");
                                featureRecommendationsExists = (featureRecommendationsObj.length > 0) ? true : false;

                                if (featureRecommendationsExists) app.SWGApplication.dataController.loadFeatureRecommendations();
                            },

                            updateLoader: function (_displayState, _statusCode) {

                                var displayState = (typeof _displayState !== "undefined") ? _displayState : null;
                                var statusCode = (typeof _statusCode !== "undefined") ? _statusCode : null;

                                if (displayState === "show" && statusCode === "loading") {

                                    $(".loader-wrapper").show();
                                    $(".interstitial").show();
                                    $(".interstitial .content.successLoading").show();

                                } else if (displayState === "show" && statusCode === "notfound") {

                                    $(".loader-wrapper").show();
                                    $(".interstitial").show();
                                    $(".interstitial .content.errorLoading").show();

                                    setTimeout(function () {
                                        window.location.href = "/";
                                    }, 5000);

                                } else if (displayState === "hide" && statusCode === "loading") {

                                    $(".interstitial").show();
                                    $(".interstitial .content.successLoading").hide();

                                } else if (displayState === "hide") {
                                    $(".loader-wrapper").hide();
                                }

                            },

                            updateBackToTop: function () {

                                var triggerHeight = Math.round(thisWindow.height());
                                var triggerTop = 0;
                                var bottom = 15;
                                // in the case that there is a searchbox take into account
                                var searchBoxBottomPosition = (searchBoxExists) ? searchBoxObj.offset().top + searchBoxObj.height() : 0;

                                updateDirection();

                                if (windowScrollTop < triggerTop + triggerHeight || windowScrollTop < searchBoxBottomPosition || moveDirection === "down") {

                                    // Hide BackToTop Button
                                    if (backToTopToggleDirection < 0) {
                                        backToTopToggleDirection = 1;

                                        if (backToTopInit) {

                                            backToTopObj.css("bottom", bottom);
                                            backToTopInit = false;

                                            backToTopObj.show();
                                        } else {

                                            backToTopObj.stop().dequeue().animate({
                                                bottom: bottom
                                            }, 800, "easeOutExpo");

                                        }

                                    }

                                } else if (((windowScrollTop > triggerTop + triggerHeight) || moveDirection === "up") && !backToTopObj.is(":animated")) {

                                    // Show BackToTop Button
                                    if (backToTopToggleDirection > 0) {
                                        backToTopToggleDirection = -1;

                                        backToTopObj.stop().animate({
                                            bottom: bottom
                                        }, 1500, "easeInOutBack");

                                    } else if (backToTopInit) {
                                        backToTopToggleDirection = -1;
                                        updateDirection();
                                        backToTopObj.css("bottom", bottom);
                                        backToTopInit = false;

                                        backToTopObj.show();
                                    }
                                }

                                function updateDirection() {

                                    if (backToTopToggleDirection < 0) {
                                        bottom = backToTopToggleDirection * (backToTopObj.outerHeight(true) + bottom);
                                    }

                                }
                            },

                            updateSignUpNo1ToTheSun: function () {

                                var triggerHeight = Math.round(thisWindow.height());
                                var bottom = 0;
                                var footerTop = $("footer").offset().top;

                                searchBoxBottomPosition = searchBoxObj.offset().top + searchBoxObj.height();
                                signUpNo1ToTheSunTopPosition = signUpNo1ToTheSunObj.position().top + parseInt(signUpNo1ToTheSunObj.css("margin-top"), 10) + parseInt(signUpNo1ToTheSunObj.css("padding-top"), 10);

                                function updateDirection() {

                                    if (signUpFormToggleDirection < 0) {
                                        bottom = signUpFormToggleDirection * (signUpNo1ToTheSunObj.outerHeight(true) + bottom);
                                    }

                                }

                                updateDirection();

                                // Update only when user is not inputting content
                                if (!signUpInputFlag) {

                                    if (searchBoxBottomPosition - windowScrollTop >= 0 || footerTop < windowScrollTop + triggerHeight || moveDirection === "up") {

                                        // Hide Form Button
                                        if (signUpFormToggleDirection < 0) {
                                            signUpFormToggleDirection = 1;

                                            if (signUpFormInit) {
                                                updateDirection();
                                                signUpNo1ToTheSunObj.css("bottom", bottom);
                                                signUpFormInit = false;

                                                signUpNo1ToTheSunObj.show();

                                            } else {

                                                signUpNo1ToTheSunObj.stop().dequeue().animate({
                                                    bottom: bottom
                                                }, 800, "easeOutExpo");
                                            }

                                        }

                                    } else if (((windowScrollTop > searchBoxBottomPosition) && moveDirection === "down") && !signUpNo1ToTheSunObj.is(":animated")) {

                                        // Show Form
                                        if (signUpFormToggleDirection > 0) {
                                            signUpFormToggleDirection = -1;

                                            if (signUpFormInit) {
                                                updateDirection();
                                                signUpNo1ToTheSunObj.css("bottom", bottom);
                                                signUpFormInit = false;

                                                signUpNo1ToTheSunObj.show();

                                            } else {

                                                signUpNo1ToTheSunObj.stop().animate({
                                                    bottom: bottom
                                                }, 1500, "easeOutExpo");

                                            }
                                        }
                                    }

                                } else if (signUpInputFlag && (searchBoxBottomPosition - windowScrollTop >= 0 || (footerTop < windowScrollTop + triggerHeight) || moveDirection === "up")) {
                                    signUpInputFlag = false;
                                }

                            }
                        },

                        dataController: {
                            initSettings: function () {
                                this.setSignIn();
                                this.setLanguage();
                                this.getTemplate();
                                this.getBrand();
                                this.getURLQueries();
                                this.autoScrollToSection();
                                this.getProtocol();
                                this.setEnvironment();
                                this.loadDatePickerOptions();
                                this.loadPollyFills();
                            },

                            autoScrollToSection: function () {

                                var targetID = app.SWGApplication.dataModel.query.hash;
                                var anchorTarget = (targetID.length > 1) ? $(app.SWGApplication.dataModel.query.hash) : null;
                                var anchorTriggerObj = null;
                                var anchorTriggerExists = false;
                                var isTab = false;
                                var anchorTriggerToggle, anchorTriggerID;

                                // Intercept browser auto scrolling
                                if (targetID) {
                                    setTimeout(function () {
                                        window.scrollTo(0, 0);
                                    }, 1);
                                }

                                // Delay scrolling once page has loaded
                                setTimeout(function () {

                                    // Target controlled scrolling
                                    if (targetID && anchorTarget.length > 0) {

                                        // Find trigger if exists
                                        var foundTrigger = false;

                                        viewportObj.find("#body-content a").each(function (anchorIndex, anchorElement) {

                                            if ($(anchorElement).attr("href") === targetID && !foundTrigger) {
                                                anchorTriggerExists = true;
                                                anchorTriggerObj = $(anchorElement);
                                                return false;
                                            }

                                        });

                                        // Check if anchor trigger object exists in the DOM
                                        anchorTriggerID = (anchorTriggerObj !== null) ? anchorTriggerObj.data("id") : null;

                                        // Check if anchor trigger object exists as a BS toggle
                                        anchorTriggerToggle = (anchorTriggerObj !== null) ? anchorTriggerObj.data("toggle") : null;

                                        // Check if there is a tab that shares the id, then it needs to be triggered
                                        isTab = (anchorTriggerID === targetID.replace("#", "") || anchorTriggerToggle === "tab") ? true : false;

                                        if (isTab && anchorTriggerExists) {

                                            setTimeout(function () {

                                                app.SWGApplication.dataController.scrollViewport(anchorTriggerObj.offset().top, 2000, ((anchorTriggerToggle === "tab") ? anchorTriggerObj : null), 0, function () {
                                                    setTimeout(function () {
                                                        anchorTriggerObj.trigger("click");
                                                    }, 300);
                                                });

                                            }, 500);

                                        } else if (anchorTriggerExists) {

                                            setTimeout(function () {
                                                anchorTriggerObj.trigger("click");
                                            }, 500);

                                        } else {

                                            setTimeout(function () {
                                                app.SWGApplication.dataController.scrollViewport(targetID.replace("#", ""), 2000, null);
                                            }, 500);

                                        }

                                    }

                                }, 1000);

                            },

                            getURLQueries: function () {

                                var valuePairs = [], query;
                                var hash = window.location.hash;
                                var hashExists = (hash) ? true : false;
                                var pageName = "", pageNameStart = 0, pageNameEnd = 0;

                                var checkForQuery = (window.location.href.indexOf("?") + 1 < window.location.href.length) ? window.location.href.indexOf("?") + 1 : false;

                                if (checkForQuery) {

                                    var queries = window.location.href.replace(hash, "").slice(checkForQuery).split("&");
                                    var tempURLVars = [];

                                    if (!$.isEmptyObject(queries)) {

                                        for (var i = 0; i < queries.length; i++) {
                                            query = queries[i].split("=");
                                            valuePairs[query[0]] = query[1];

                                            if ($.inArray(query[0], app.SWGApplication.dataModel.queryList.queryArray) >= 0) {
                                                tempURLVars[query[0]] = query[1];
                                            }

                                        }

                                        allURLVars.queries.queryArray = tempURLVars;

                                    } else {
                                        allURLVars.queries = null;
                                    }

                                }

                                if (hashExists) {
                                    allURLVars.hash = hash;
                                }

                                // Determine the page name
                                pageNameStart = window.location.href.lastIndexOf("/") + 1;
                                pageNameStart = (pageNameStart !== window.location.href.length) ? pageNameStart : window.location.href.substr(0, pageNameStart - 1).lastIndexOf("/") + 1;

                                pageNameEnd = window.location.href.length;
                                pageNameEnd = (window.location.href.indexOf("?") > -1) ? window.location.href.indexOf("?") + 1 : pageNameEnd;
                                pageName = window.location.href.substring(pageNameStart, pageNameEnd).replace(hash, "");

                                allURLVars.pageName = pageName;

                                app.SWGApplication.dataModel.query = allURLVars;
                            },

                            setSignIn: function () {

                                if ($.cookie("_acswb") === undefined || $.cookie("_acswb") === "XQw0xct0/Mc=") {
                                    // User is not signed in
                                    $("#signIn").removeClass("hide");
                                    $("#signOut").addClass("hide");
                                } else if ($.cookie("_acswb") !== undefined && $.cookie("_acswb") !== "XQw0xct0/Mc=") {
                                    // User is not signed out
                                    $("#signOut").removeClass("hide");
                                    $("#signIn").addClass("hide");
                                } else {
                                    // Fallback for user to sign in
                                    $("#signIn").removeClass("hide");
                                    $("#signOut").addClass("hide");
                                }

                                // Signout cookie management, sets cookie to sign in value
                                signOut = function () {
                                    $.cookie("_acswb", "XQw0xct0/Mc=", { expires: 1, domain: ".sunwing.ca", path: '/' });
                                    $("#signIn").removeClass("hide");
                                    $("#signOut").addClass("hide");
                                }
                            },

                            setLanguage: function () {
                                var lang = $("html").attr("lang") ? $("html").attr("lang").toLowerCase() : "en";
                                app.SWGApplication.dataModel.language = lang;
                                app.SWGApplication.dataModel.locale = lang + "-ca";
                            },

                            getTemplate: function () {
                                var template = $("html").data("template") ? $("html").data("template").toLowerCase() : "promotion";
                                app.SWGApplication.dataModel.template = template;
                            },

                            getBrand: function () {
                                var brand = $("html").data("brand") ? $("html").data("brand").toLowerCase() : "sunwing";
                                app.SWGApplication.dataModel.brand = brand;
                            },

                            getProtocol: function () {
                                var protocol = $(location).attr("protocol");
                                app.SWGApplication.dataModel.protocol = protocol;
                            },

                            setEnvironment: function () {
                                // Set any global settings
                            },

                            loadPollyFills: function () {

                                browser = app.SWGApplication.dataController.getBrowserIE(window.navigator.userAgent.toLowerCase());

                                // Work-around for www.sunwing.ca cross-domain same origin policy for IE9
                                if (browser.ua === "msie" && browser.version < 10 && window.XDomainRequest) {
                                    $.ajaxTransport(function (s) {
                                        if (s.crossDomain && s.async) {
                                            if (s.timeout) {
                                                s.xdrTimeout = s.timeout;
                                                delete s.timeout;
                                            }
                                            var xdr;
                                            return {
                                                send: function (_, complete) {
                                                    function callback(status, statusText, responses, responseHeaders) {
                                                        xdr.onload = xdr.onerror = xdr.ontimeout = $.noop;
                                                        xdr = undefined;
                                                        complete(status, statusText, responses, responseHeaders);
                                                    }
                                                    xdr = new XDomainRequest();
                                                    xdr.onload = function () {
                                                        callback(200, "OK", {
                                                            text: xdr.responseText
                                                        }, "Content-Type: " + xdr.contentType);
                                                    };
                                                    xdr.onerror = function () {
                                                        callback(404, "Not Found");
                                                    };
                                                    xdr.onprogress = $.noop;
                                                    xdr.ontimeout = function () {
                                                        callback(0, "timeout");
                                                    };
                                                    xdr.timeout = s.xdrTimeout || Number.MAX_VALUE;
                                                    xdr.open(s.type, s.url);
                                                    xdr.send((s.hasContent && s.data) || null);
                                                },
                                                abort: function () {
                                                    if (xdr) {
                                                        xdr.onerror = $.noop;
                                                        xdr.abort();
                                                    }
                                                }
                                            };
                                        }
                                    });
                                }

                                if (!Object.keys) {
                                    Object.keys = (function () {

                                        var hasOwnProperty = Object.prototype.hasOwnProperty,
                                            hasDontEnumBug = !({ toString: null }).propertyIsEnumerable("toString"),
                                            dontEnums = [
                                                "toString",
                                                "toLocaleString",
                                                "valueOf",
                                                "hasOwnProperty",
                                                "isPrototypeOf",
                                                "propertyIsEnumerable",
                                                "constructor"
                                            ],
                                            dontEnumsLength = dontEnums.length;

                                        return function (obj) {
                                            if (typeof obj !== "object" && (typeof obj !== "function" || obj === null)) {
                                                throw new TypeError("Object.keys called on non-object");
                                            }

                                            var result = [], prop, i;

                                            for (prop in obj) {
                                                if (hasOwnProperty.call(obj, prop)) {
                                                    result.push(prop);
                                                }
                                            }

                                            if (hasDontEnumBug) {
                                                for (i = 0; i < dontEnumsLength; i++) {
                                                    if (hasOwnProperty.call(obj, dontEnums[i])) {
                                                        result.push(dontEnums[i]);
                                                    }
                                                }
                                            }
                                            return result;
                                        };
                                    }());
                                }

                            },

                            loadHeaderScripts: function () {

                                var searchString = "";
                                var searchSelection = "";
                                var searchHotelCode = "";

                                if (headerSearchBoxExists) {

                                    headerSearchBoxObj.each(function (searchIndex, searchElement) {

                                        var headerSearchBoxButtonObj = $(searchElement).parent().find("button");

                                        $(searchElement).autocomplete({
                                            source: function (request, response) {

                                                $.ajax({
                                                    url: headerSearchBoxService + app.SWGApplication.dataModel.brand + "/" + app.SWGApplication.dataModel.language + "/hotelNameCode/" + request.term,
                                                    dataType: "json",
                                                    crossDomain: true,
                                                    data: {
                                                        maxRows: 12,
                                                        multiple: true,
                                                        multipleSeparator: " ",
                                                        name_startsWith: request.term
                                                    },
                                                    success: function (data) {

                                                        var results = $.map(data, function (items) {
                                                            return {
                                                                label: items.hotelName,
                                                                id: items.regionName.replace(/ /g, "-") + "/" + items.destinationName.replace(/ /g, "-") + "/" + items.hotelName.replace(/ /g, "-")
                                                            };
                                                        });

                                                        response(results);
                                                    }
                                                });
                                            },

                                            minLength: 2,
                                            search: function () {

                                                searchString = $(searchElement).val();
                                                searchSelection = "";
                                                headerSearchBoxButtonObj.removeClass("active");

                                                // Added hack for haptic devices
                                                $(".ui-autocomplete").off("menufocus");
                                            },

                                            close: function () {

                                                if (!searchSelection) {
                                                    $(searchElement).val(searchString);
                                                }

                                                updateInput();
                                            },

                                            focus: function () {
                                                return false;
                                            },

                                            select: function (event, ui) {
                                                searchSelection = ui.item.label;
                                                searchHotelCode = ui.item.id;
                                                $(searchElement).val(searchSelection);
                                                headerSearchBoxButtonObj.addClass("active");
                                                return false;
                                            },
                                            appendTo: ".search-result.instance" + searchIndex
                                        });

                                        /*/////////////////////////////////////////
                                        // Attach header search reset button
                                        /////////////////////////////////////////*/

                                        var clearButton = $(searchElement).parent().children(".input-cancel");

                                        $(searchElement).on("click keyup blur", function (e) {

                                            if (e.type === "blur" && !searchSelection || e.which === 27) {
                                                clearButton.trigger("click");
                                            }

                                            if (e.type === "click") {
                                                $(this).autocomplete("search");
                                            }

                                            updateInput();
                                        });

                                        var updateInput = function () {

                                            if ($.trim($(searchElement).val())) {

                                                clearButton.show();
                                                $(".hotel-search > button").removeClass("disabled");
                                                $(".hotel-search > button").prop("disabled", false);

                                            } else {

                                                clearButton.hide();
                                                $(".hotel-search > button").addClass("disabled");
                                                $(".hotel-search > button").prop("disabled", true);

                                                searchString = "";
                                                searchSelection = "";
                                                searchHotelCode = "";
                                            }
                                        };

                                        clearButton.on("click", function () {
                                            $(this).next().val("");
                                            $(this).hide();
                                            updateInput();
                                            $(searchElement).removeClass("active");
                                        });

                                        /*/////////////////////////////////////////
                                        // Add Results interaction
                                        /////////////////////////////////////////*/

                                        headerSearchBoxObj.on("keydown", function (e) {

                                            if (e.which === 13 && searchSelection) {
                                                headerSearchBoxButtonObj.trigger("click");
                                            }

                                        });

                                        headerSearchBoxButtonObj.on("click", function (e) {
                                            e.preventDefault();

                                            if (searchSelection.trim() && app.SWGApplication.dataModel.template !== "hotelpage") {
                                                window.open("/" + app.SWGApplication.dataModel.language + hotelURL + searchHotelCode.toLowerCase(), "_blank");
                                                clearButton.trigger("click");
                                            } else {
                                                window.open("/" + app.SWGApplication.dataModel.language + hotelURL + searchHotelCode.toLowerCase(), "_self");
                                            }

                                        });

                                    });

                                }
                            },

                            loadDatePickerOptions: function () {

                                /*/////////////////////////////////////////
                                // DateTimePicker Global Options
                                /////////////////////////////////////////*/

                                datePickerOptions = {
                                    format: "YYYY-MM-DD",
                                    widgetPositioning: {
                                        horizontal: "auto",
                                        vertical: "bottom"
                                    },
                                    locale: app.SWGApplication.dataModel.locale,
                                    ignoreReadonly: true
                                };

                                if (Modernizr.touch) {
                                    datePickerOptions.showClose = true;
                                }

                                if (app.SWGApplication.dataModel.language === "fr") {
                                    datePickerOptions.tooltips = {
                                        today: "Aller  Aujourdhui",
                                        clear: "Effacer la slection",
                                        close: "Fermer le slecteur",
                                        selectMonth: "Slectionner un mois",
                                        prevMonth: "Mois prcdent",
                                        nextMonth: "Mois prochain",
                                        selectYear: "Slectionner une anne",
                                        prevYear: "Anne prcdente",
                                        nextYear: "Anne prochaine",
                                        selectDecade: "Slectionner une dcennie",
                                        prevDecade: "Dcennie prcdente",
                                        nextDecade: "Prochaine dcennie",
                                        prevCentury: "Sicle prcdent",
                                        nextCentury: "Prochain sicle"
                                    };
                                }

                            },

                            loadSearchBox: function () {

                                var searchBoxTabObj = searchBoxObj.find(".sb-tab-container .tab");
                                var searchBoxContentObj = searchBoxObj.find(".sb-tab-contents form");
                                var defaultTabIndex = $.inArray(defaultTab, searchBoxArray);
                                var thisTab;

                                var checkin = null;
                                var checkout = null;

                                var todaysDate = moment().format("L");
                                var checkinDate = moment().add(1, "days").format("L");
                                var checkoutDate = moment().add(8, "days").format("L");

                                var pickUpDate = null;
                                var dropOffDate = null;

                                function addTrigger(_checkin, _checkout, _days) {
                                    var minDate;

                                    if (_checkout && _checkin) {

                                        $(_checkin).on("dp.change", function (e) {
                                            minDate = e.date;

                                            $(_checkout).data("DateTimePicker").minDate(minDate);

                                            if ($(_checkin).data("DateTimePicker").date() > $(_checkout).data("DateTimePicker").date()) {
                                                $(_checkout).data("DateTimePicker").date(moment($(_checkin).data("DateTimePicker").date().add(_days, "days").format("L")));
                                            }
                                        });

                                        checkout = null;
                                        checkin = null;
                                    }

                                }

                                searchBoxTabObj.each(function (index, element) {

                                    var initTabs = true;

                                    $(element).on("click.searchBoxTab", function (e) {

                                        e.preventDefault();
                                        e.stopPropagation();

                                        // Query if URL is available
                                        var href = $(this).attr("href").trim();

                                        if (href.length > 1) {
                                            window.open(href, "_blank");
                                            return;
                                        }

                                        // Resume Displaying Content
                                        thisTab = index;
                                        var thisTabContent = searchBoxContentObj.eq(thisTab).get(0);
                                        var searchBoxOptions;

                                        $(element).addClass("active");
                                        $(thisTabContent).closest(".tab-content").removeClass("hideTab").addClass("showTab");
                                        $(thisTabContent).addClass("active");

                                        $(searchBoxContentObj).each(function (oIndex, oElement) {
                                            if (oIndex !== thisTab) {
                                                $(oElement).closest(".tab-content").removeClass("showTab").addClass("hideTab");
                                                $(oElement).removeClass("active");
                                                searchBoxTabObj.eq(oIndex).removeClass("active");
                                            }
                                        });

                                        var thisTabId = $(element).attr("id");
                                        var thisId = thisTabId.substr(thisTabId.lastIndexOf("-") + 1, thisTabId.length);

                                        // initialize all JS events
                                        if (initTabs) {
                                            loadSeachBoxContent(thisId);
                                            initTabs = false;
                                        }

                                        function loadSeachBoxContent(_tabId) {
                                            var tomorrowsDate;

                                            if (_tabId === "packages") {

                                                searchBoxOptions = $.extend({}, datePickerOptions);
                                                tomorrowsDate = moment().add(1, "days").format("YYYY-MM-DD");

                                                if (typeof userDate !== "undefined") {
                                                    if (userDate !== "") tomorrowsDate = userDate;
                                                }

                                                searchBoxOptions.defaultDate = tomorrowsDate;
                                                searchBoxOptions.minDate = tomorrowsDate;
                                                searchBoxOptions.maxDate = moment().add(365, "days");

                                                thisTabContent = searchBoxContentObj.eq(thisTab);

                                                // Initialize calendar instance
                                                thisTabContent.find(".calendar").datetimepicker(searchBoxOptions);

                                                if (!Modernizr.touch) {
                                                    thisTabContent.find(".calendar").removeAttr("readonly");
                                                }

                                                thisTabContent.find(".calendar").on("click", function (e) {
                                                    e.preventDefault();
                                                    e.stopPropagation();
                                                });

                                                // Attach Children Drop-Down Interaction
                                                thisTabContent.find(".childage-wrapper").each(function (index, element) {

                                                    var thisChildAgeObj = $(element);
                                                    var totalChildren = $(element).find(".form-group").children().length;

                                                    var thisForm = "#search-box-form-" + _tabId;
                                                    var closeButton = $(thisForm + " .close");
                                                    var editButton = $(thisForm + " ." + _tabId + "-children .edit");
                                                    var rowPaddingObj = $(thisForm + " .mrow4");

                                                    thisTabContent.find("[name='nb_child']").on("change", function () {

                                                        if ($(this).val() > 0) {

                                                            for (var i = 0; i < totalChildren; i++) {

                                                                if (i < $(this).val()) {
                                                                    thisChildAgeObj.find(".form-group").eq(i).removeClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").prop("disabled", false);

                                                                } else {
                                                                    thisChildAgeObj.find(".form-group").eq(i).addClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").val(0).prop("disabled", true);
                                                                }

                                                            }

                                                            thisChildAgeObj.closest(".mrow3").removeClass("disabled").removeClass("reset");
                                                            editButton.removeClass("disabled");
                                                            rowPaddingObj.addClass("show").removeClass("hide");

                                                        } else {
                                                            thisChildAgeObj.find(".form-group").find("select").val(0).prop("disabled", true);
                                                            thisChildAgeObj.closest(".mrow3").addClass("disabled").addClass("reset");
                                                            editButton.addClass("disabled");
                                                            rowPaddingObj.addClass("hide").removeClass("show");
                                                        }

                                                    });

                                                    closeButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").addClass("disabled");
                                                    });

                                                    editButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").removeClass("disabled");
                                                    });

                                                });

                                            } else if (_tabId === "flights") {

                                                thisTabContent = searchBoxContentObj.eq(thisTab);

                                                searchBoxOptions = $.extend({}, datePickerOptions);
                                                tomorrowsDate = moment().add(1, "days").format("YYYY-MM-DD");

                                                if (typeof userDate !== "undefined") {
                                                    if (userDate !== "") tomorrowsDate = userDate;
                                                }

                                                searchBoxOptions.defaultDate = tomorrowsDate;
                                                searchBoxOptions.minDate = tomorrowsDate;

                                                thisTabContent.find(".calendar").each(function (index, element) {

                                                    checkin = ($(element).attr("class").indexOf("checkin") > -1) ? $(element) : checkin;
                                                    checkout = ($(element).attr("class").indexOf("checkout") > -1) ? $(element) : checkout;

                                                    tomorrowsDate = (checkout) ? checkoutDate : checkinDate;

                                                    if (checkin && checkout) {

                                                        searchBoxOptions.useCurrent = false;
                                                        searchBoxOptions.defaultDate = checkoutDate;
                                                        searchBoxOptions.maxDate = false;

                                                    } else if (checkin) {

                                                        searchBoxOptions.defaultDate = tomorrowsDate;
                                                        searchBoxOptions.maxDate = false;
                                                    }

                                                    // Initialize calendar instance
                                                    $(element).datetimepicker(searchBoxOptions);

                                                    addTrigger(checkin, checkout, 7);

                                                    if (!Modernizr.touch) {
                                                        $(element).removeAttr("readonly");
                                                    }
                                                });

                                                // Attach Children Drop-Down Interaction
                                                thisTabContent.find(".childage-wrapper").each(function (index, element) {

                                                    var thisChildAgeObj = $(element);
                                                    var totalChildren = $(element).find(".form-group").children().length;

                                                    var thisForm = "#search-box-form-" + _tabId;
                                                    var closeButton = $(thisForm + " .close");
                                                    var editButton = $(thisForm + " ." + _tabId + "-children .edit");
                                                    var rowPaddingObj = $(thisForm + " .mrow4");

                                                    thisTabContent.find("[name='nb_child']").on("change", function () {

                                                        if ($(this).val() > 0) {

                                                            for (var i = 0; i < totalChildren; i++) {

                                                                if (i < $(this).val()) {
                                                                    thisChildAgeObj.find(".form-group").eq(i).removeClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").prop("disabled", false);

                                                                } else {
                                                                    thisChildAgeObj.find(".form-group").eq(i).addClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").val(0).prop("disabled", true);
                                                                }

                                                            }

                                                            thisChildAgeObj.closest(".mrow3").removeClass("disabled").removeClass("reset");
                                                            editButton.removeClass("disabled");
                                                            rowPaddingObj.addClass("show").removeClass("hide");

                                                        } else {
                                                            thisChildAgeObj.find(".form-group").find("select").val(0).prop("disabled", true);
                                                            thisChildAgeObj.closest(".mrow3").addClass("disabled").addClass("reset");
                                                            editButton.addClass("disabled");
                                                            rowPaddingObj.addClass("hide").removeClass("show");
                                                        }

                                                    });

                                                    closeButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").addClass("disabled");
                                                    });

                                                    editButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").removeClass("disabled");
                                                    });

                                                });

                                                // Get default Departure value
                                                departureGatewayObj = thisTabContent.find(".departure-gateway .right-inner-icon input");
                                                var departureGatewayToggleObj = thisTabContent.find(".departure-gateway .right-inner-icon .fa");

                                                if (departureGatewayObj.length > 0) {

                                                    var departureGatewayDefault = $.trim(departureGatewayObj.val());
                                                    var departureGatewayValue = departureGatewayDefault;
                                                    var departureGatewayToggle = false;
                                                    var depGToggleFlag = false;
                                                    var depGateToggleInit = false;

                                                    departureGatewayObj.on("click focus blur keydown keyup", function (e) {
                                                        e.stopPropagation();

                                                        if (e.type === "blur") {

                                                            if (!$(this).val()) {
                                                                departureGatewayValue = $.trim($(this).val());
                                                                departureGatewayDefault = (departureGatewayValue) ? departureGatewayValue : departureGatewayDefault;

                                                                $(this).val(departureGatewayDefault);

                                                                if (!depGToggleFlag) {
                                                                    toggleDepartureGateway(departureGatewayToggleObj, false);
                                                                }

                                                            } else {
                                                                toggleDepartureGateway(departureGatewayToggleObj, false);
                                                            }

                                                        } else if (e.type === "focus") {

                                                            departureGatewayDefault = $.trim($(this).val());
                                                            $(this).val("");
                                                            $(this).trigger("keydown", {
                                                                keyCode: 8
                                                            });

                                                            toggleDepartureGateway(departureGatewayToggleObj, true);

                                                            // deactivate arrival DD
                                                            arrGToggleFlag = false;
                                                            arrivalGatewayObj.trigger("blur");

                                                        } else if (e.type === "keyup") {

                                                            if (e.keyCode === 13) {
                                                                departureGatewayObj.trigger("blur");

                                                            } else if (e.keyCode === 9) {
                                                                toggleDepartureGateway(departureGatewayToggleObj, true);
                                                            }

                                                        }

                                                    });

                                                    departureGatewayToggleObj.on("click", function (e) {
                                                        e.stopPropagation();

                                                        if (e.type === "click") {

                                                            if (departureGatewayToggle === true || !depGToggleFlag) {
                                                                departureGatewayObj.trigger("focus");
                                                                departureGatewayObj.trigger("keydown", {
                                                                    keyCode: 8
                                                                });
                                                                depGToggleFlag = true;
                                                            }

                                                            toggleArrow(departureGatewayToggleObj, departureGatewayToggle);
                                                            departureGatewayToggle = !departureGatewayToggle;
                                                        }

                                                    });

                                                    var toggleDepartureGateway = function (_toggleElement, _toggleValue) {
                                                        departureGatewayToggle = (typeof _toggleValue !== "undefined") ? _toggleValue : !departureGatewayToggle;
                                                        toggleArrow(_toggleElement, _toggleValue);
                                                        depGToggleFlag = false;
                                                    };

                                                }

                                                // Get default Arrival value
                                                arrivalGatewayObj = thisTabContent.find(".arrival-gateway .right-inner-icon input");
                                                var arrivalGatewayToggleObj = thisTabContent.find(".arrival-gateway .right-inner-icon .fa");

                                                if (arrivalGatewayObj.length > 0) {

                                                    var arrivalGatewayDefault = $.trim(arrivalGatewayObj.val());
                                                    var arrivalGatewayValue = arrivalGatewayDefault;
                                                    var arrivalGatewayToggle = false;
                                                    var arrGToggleFlag = false;

                                                    arrivalGatewayObj.on("click focus blur keydown keyup", function (e) {

                                                        e.stopPropagation();

                                                        if (e.type === "blur") {

                                                            if (!$(this).val()) {
                                                                arrivalGatewayValue = $.trim($(this).val());
                                                                arrivalGatewayDefault = (arrivalGatewayValue) ? arrivalGatewayValue : arrivalGatewayDefault;

                                                                $(this).val(arrivalGatewayDefault);

                                                                if (!arrGToggleFlag) {
                                                                    toggleArrivalGateway(arrivalGatewayToggleObj, false);
                                                                }

                                                            } else {
                                                                toggleArrivalGateway(arrivalGatewayToggleObj, false);
                                                            }

                                                        } else if (e.type === "focus") {

                                                            arrivalGatewayDefault = $.trim($(this).val());
                                                            $(this).val("");
                                                            $(this).trigger("keydown", {
                                                                keyCode: 8
                                                            });

                                                            toggleArrivalGateway(arrivalGatewayToggleObj, true);

                                                            // deactivate arrival DD
                                                            depGToggleFlag = false;
                                                            departureGatewayObj.trigger("blur");

                                                        } else if (e.type === "keyup") {

                                                            if (e.keyCode === 13) {
                                                                arrivalGatewayObj.trigger("blur");

                                                            } else if (e.keyCode === 9) {
                                                                toggleArrivalGateway(arrivalGatewayToggleObj, true);
                                                            }

                                                        }

                                                    });

                                                    var toggleArrivalGateway = function (_toggleElement, _toggleValue) {
                                                        arrivalGatewayToggle = (typeof _toggleValue !== "undefined") ? _toggleValue : !arrivalGatewayToggle;
                                                        toggleArrow(_toggleElement, _toggleValue);
                                                        arrGToggleFlag = false;
                                                    };

                                                    arrivalGatewayToggleObj.on("click", function (e) {
                                                        e.stopPropagation();

                                                        if (arrivalGatewayToggle === true || !arrGToggleFlag) {
                                                            arrivalGatewayObj.trigger("focus");
                                                            arrivalGatewayObj.trigger("keydown", {
                                                                keyCode: 8
                                                            });
                                                            arrGToggleFlag = true;
                                                        }

                                                        toggleArrow(arrivalGatewayToggleObj, arrivalGatewayToggle);
                                                        arrivalGatewayToggle = !arrivalGatewayToggle;
                                                    });

                                                }

                                                if (departureGatewayObj.length > 0 && arrivalGatewayObj.length > 0) {

                                                    // SHARED //
                                                    var resetFlightsDD = function (_toggleValue) {
                                                        departureGatewayObj.trigger("blur");
                                                        arrivalGatewayObj.trigger("blur");
                                                        toggleDepartureGateway(departureGatewayToggleObj, _toggleValue);
                                                        toggleArrivalGateway(arrivalGatewayToggleObj, _toggleValue);
                                                        depGateToggleInit = false;
                                                    };

                                                    var toggleArrow = function (_toggleObj, _toggleValue) {

                                                        if (_toggleValue === true) {
                                                            _toggleObj.removeClass("fa-angle-down").addClass("fa-angle-up");
                                                        } else {
                                                            _toggleObj.addClass("fa-angle-down").removeClass("fa-angle-up");
                                                        }

                                                    };

                                                    thisWindow.on("click", function () {
                                                        resetFlightsDD(false);
                                                    });

                                                }

                                            } else if (_tabId === "cruises") {

                                                thisTabContent = searchBoxContentObj.eq(thisTab);
                                                tomorrowsDate = moment().add(0, "days").format("YYYY-MM-DD");

                                                var searchBoxOptionsMonth = $.extend({}, datePickerOptions);
                                                searchBoxOptionsMonth.format = "MMMM YYYY";
                                                searchBoxOptionsMonth.defaultDate = tomorrowsDate;
                                                searchBoxOptionsMonth.minDate = tomorrowsDate;
                                                searchBoxOptionsMonth.maxDate = moment().add(365, "days");

                                                var searchBoxOptionsDate = $.extend({}, datePickerOptions);
                                                searchBoxOptionsDate.format = "YYYY-MM-DD";
                                                searchBoxOptionsDate.defaultDate = tomorrowsDate;
                                                searchBoxOptionsDate.minDate = tomorrowsDate;
                                                searchBoxOptionsDate.maxDate = moment().add(365, "days");

                                                // Initialize calendar instance
                                                thisTabContent.find(".cruise-departure-month .calendar").datetimepicker(searchBoxOptionsMonth);
                                                thisTabContent.find(".cruise-departure-date .calendar").datetimepicker(searchBoxOptionsDate);

                                                if (!Modernizr.touch) {
                                                    thisTabContent.find(".calendar").removeAttr("readonly");
                                                }

                                                thisTabContent.find("#cruise-dep-month-toggle").on("click", function (e) {

                                                    $(this).closest(".input-group-wrapper").find(".calendar").prop("disabled", false);
                                                    $(this).closest(".input-group-wrapper").removeClass("disabled-form-input");
                                                    $(this).closest(".mrow2").find(".cruise-departure-date .calendar").prop("disabled", true);
                                                    $(this).closest(".mrow2").find(".cruise-departure-date").closest(".input-group-wrapper").addClass("disabled-form-input");
                                                });

                                                thisTabContent.find("#cruise-dep-date-toggle").on("click", function (e) {

                                                    $(this).closest(".input-group-wrapper").find(".calendar").prop("disabled", false);
                                                    $(this).closest(".input-group-wrapper").removeClass("disabled-form-input");
                                                    $(this).closest(".mrow2").find(".cruise-departure-month .calendar").prop("disabled", true);
                                                    $(this).closest(".mrow2").find(".cruise-departure-month").closest(".input-group-wrapper").addClass("disabled-form-input");

                                                });

                                                // Retrieve active radio / calendar value
                                                $("[name='cruise-dep-group']").each(function (index, element) {

                                                    if ($(element).prop("checked")) {
                                                        return $(element).closest(".input-group-wrapper").find(".calendar").val();
                                                    }

                                                });

                                            } else if (_tabId === "hotels") {

                                                thisTabContent = searchBoxContentObj.eq(thisTab);

                                                searchBoxOptions = $.extend({}, datePickerOptions);
                                                tomorrowsDate = moment().add(1, "days").format("YYYY-MM-DD");

                                                if (typeof userDate !== "undefined") {
                                                    if (userDate !== "") tomorrowsDate = userDate;
                                                }

                                                searchBoxOptions.defaultDate = tomorrowsDate;
                                                searchBoxOptions.minDate = tomorrowsDate;
                                                searchBoxOptions.maxDate = moment().add(365, "days");

                                                thisTabContent.find(".calendar").each(function (index, element) {

                                                    checkin = ($(element).attr("class").indexOf("checkin") > -1) ? $(element) : checkin;
                                                    checkout = ($(element).attr("class").indexOf("checkout") > -1) ? $(element) : checkout;

                                                    tomorrowsDate = (checkout) ? checkoutDate : checkinDate;

                                                    if (checkin && checkout) {

                                                        searchBoxOptions.useCurrent = false;
                                                        searchBoxOptions.defaultDate = checkoutDate;

                                                    } else if (checkin) {

                                                        searchBoxOptions.defaultDate = tomorrowsDate;
                                                    }

                                                    // Initialize calendar instance
                                                    $(element).datetimepicker(searchBoxOptions);

                                                    addTrigger(checkin, checkout, 7);

                                                    if (!Modernizr.touch) {
                                                        $(element).removeAttr("readonly");
                                                    }
                                                });

                                                // Attach Children Drop-Down Interaction
                                                thisTabContent.find(".childage-wrapper").each(function (index, element) {

                                                    var thisChildAgeObj = $(element);
                                                    var totalChildren = $(element).find(".form-group").children().length;

                                                    var thisForm = "#search-box-form-" + _tabId;
                                                    var closeButton = $(thisForm + " .close");
                                                    var editButton = $(thisForm + " ." + _tabId + "-children .edit");
                                                    var rowPaddingObj = $(thisForm + " .mrow4");

                                                    thisTabContent.find("[name='nb_child']").on("change", function () {

                                                        if ($(this).val() > 0) {

                                                            for (var i = 0; i < totalChildren; i++) {

                                                                if (i < $(this).val()) {
                                                                    thisChildAgeObj.find(".form-group").eq(i).removeClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").prop("disabled", false);

                                                                } else {
                                                                    thisChildAgeObj.find(".form-group").eq(i).addClass("disabled");
                                                                    thisChildAgeObj.find(".form-group").eq(i).find("select").val(0).prop("disabled", true);
                                                                }

                                                            }

                                                            thisChildAgeObj.closest(".mrow3").removeClass("disabled").removeClass("reset");
                                                            editButton.removeClass("disabled");
                                                            rowPaddingObj.addClass("show").removeClass("hide");

                                                        } else {
                                                            thisChildAgeObj.find(".form-group").find("select").val(0).prop("disabled", true);
                                                            thisChildAgeObj.closest(".mrow3").addClass("disabled").addClass("reset");
                                                            editButton.addClass("disabled");
                                                            rowPaddingObj.addClass("hide").removeClass("show");
                                                        }

                                                    });

                                                    closeButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").addClass("disabled");
                                                    });

                                                    editButton.on("click", function (e) {
                                                        e.preventDefault();
                                                        thisChildAgeObj.closest(".mrow3").removeClass("disabled");
                                                    });

                                                });

                                            } else if (_tabId === "cars") {

                                                searchBoxOptions = $.extend({}, datePickerOptions);

                                                thisTabContent = searchBoxContentObj.eq(thisTab);

                                                searchBoxOptions.format = "YYYY-MM-DD";
                                                searchBoxOptions.maxDate = moment().add(365, "days");

                                                // Initialize calendar instance
                                                thisTabContent.find(".calendar").each(function (index, element) {

                                                    checkin = ($(element).attr("class").indexOf("pickup") > -1) ? $(element) : checkin;
                                                    checkout = ($(element).attr("class").indexOf("dropoff") > -1) ? $(element) : checkout;

                                                    if (checkin && checkout) {

                                                        searchBoxOptions.useCurrent = false;
                                                        searchBoxOptions.defaultDate = moment().add(1, "days").format("YYYY-MM-DD");

                                                    } else if (checkin) {

                                                        searchBoxOptions.minDate = moment().format("YYYY-MM-DD");
                                                        searchBoxOptions.defaultDate = moment().format("YYYY-MM-DD");
                                                    }

                                                    // Initialize calendar instance
                                                    $(element).datetimepicker(searchBoxOptions);

                                                    addTrigger(checkin, checkout, 1);

                                                    if (!Modernizr.touch) {
                                                        $(element).removeAttr("readonly");
                                                    }

                                                });

                                                $(".car-pickup-date input, .car-dropoff-date input").on("click", function (e) {
                                                    e.stopPropagation();
                                                });

                                                // Get default Departure value
                                                pickUpGatewayObj = thisTabContent.find(".car-pickup-gateway .right-inner-icon input");

                                                var pickUpGatewayToggleObj = thisTabContent.find(".car-pickup-gateway .right-inner-icon .fa");
                                                var initCars = true;

                                                if (pickUpGatewayObj.length > 0) {

                                                    var pickUpGatewayDefault = $.trim(pickUpGatewayObj.val());
                                                    var pickUpGatewayValue = pickUpGatewayDefault;
                                                    var pickUpGatewayToggle = false;
                                                    var pickUpGToggleFlag = false;
                                                    var pickUpGateToggleInit = false;

                                                    pickUpGatewayObj.on("click focus blur keydown keyup", function (e) {
                                                        e.stopPropagation();

                                                        if ($(this).is(":visible")) {

                                                            if (e.type === "blur") {

                                                                if (!$(this).val()) {
                                                                    pickUpGatewayValue = $.trim($(this).val());
                                                                    pickUpGatewayDefault = (pickUpGatewayValue) ? pickUpGatewayValue : pickUpGatewayDefault;

                                                                    $(this).val(pickUpGatewayDefault);

                                                                    if (!pickUpGToggleFlag) {
                                                                        togglePickUpGateway(pickUpGatewayToggleObj, false);
                                                                    }

                                                                } else {
                                                                    togglePickUpGateway(pickUpGatewayToggleObj, false);
                                                                }

                                                                // Show errors when class is added in initGatewayloaded
                                                                if ($(".error-messages.cars").hasClass("show")) initCars = true;

                                                                // Adds same as pick up default value
                                                                if ($.trim(dropOffGatewayObj.val()).length <= 0 && initCars) {

                                                                    dropOffGatewayObj.trigger("focus");
                                                                    dropOffGatewayObj.closest(".form-group").find(".ui-autocomplete").children().eq(0).trigger("click");
                                                                    dropOffGatewayObj.trigger("blur");
                                                                    initCars = false;
                                                                }

                                                            } else if (e.type === "focus") {

                                                                pickUpGatewayDefault = $.trim($(this).val());
                                                                $(this).val("");
                                                                $(this).trigger("keydown", {
                                                                    keyCode: 8
                                                                });

                                                                togglePickUpGateway(pickUpGatewayToggleObj, true);

                                                                // deactivate arrival DD
                                                                dropOffGToggleFlag = false;
                                                                dropOffGatewayObj.trigger("blur");

                                                            } else if (e.type === "keyup") {

                                                                if (e.keyCode === 13) {
                                                                    pickUpGatewayObj.trigger("blur");

                                                                } else if (e.keyCode === 9) {
                                                                    togglePickUpGateway(pickUpGatewayToggleObj, true);
                                                                }

                                                            }

                                                        }

                                                    });

                                                    pickUpGatewayToggleObj.on("click", function (e) {
                                                        e.stopPropagation();

                                                        if ($(this).is(":visible")) {

                                                            if (e.type === "click") {

                                                                if (pickUpGatewayToggle === true || !pickUpGToggleFlag) {
                                                                    pickUpGatewayObj.trigger("focus");
                                                                    pickUpGatewayObj.trigger("keydown", {
                                                                        keyCode: 8
                                                                    });

                                                                    pickUpGToggleFlag = true;
                                                                }

                                                                toggleArrow(pickUpGatewayToggleObj, pickUpGatewayToggle);
                                                                pickUpGatewayToggle = !pickUpGatewayToggle;
                                                            }

                                                        }

                                                    });

                                                    var togglePickUpGateway = function (_toggleElement, _toggleValue) {
                                                        pickUpGatewayToggle = (typeof _toggleValue !== "undefined") ? _toggleValue : !pickUpGatewayToggle;
                                                        toggleArrow(_toggleElement, _toggleValue);
                                                        pickUpGToggleFlag = false;
                                                    };

                                                    /*
                                                    // Adds both default values on init
                                                    setTimeout(function(){
                                                    	
                                                        if (!$.trim(pickUpGatewayObj.val())){
                                                            pickUpGatewayObj.trigger("focus");
                                                            pickUpGatewayObj.closest(".form-group").find(".ui-autocomplete").children().eq(0).trigger("click");
                                                            pickUpGatewayObj.trigger("blur");
                                                        	
                                                            dropOffGatewayObj.trigger("focus");
                                                            dropOffGatewayObj.closest(".form-group").find(".ui-autocomplete").children().eq(0).trigger("click");
                                                            dropOffGatewayObj.trigger("blur");
                                                        }
                                                    	
                                                    }, 100);
                                                    */
                                                }

                                                // Get default Arrival value
                                                dropOffGatewayObj = thisTabContent.find(".car-dropoff-gateway .right-inner-icon input");
                                                var dropOffGatewayToggleObj = thisTabContent.find(".car-dropoff-gateway .right-inner-icon .fa");

                                                $("#car-dropoff-gateway").val("");

                                                if (dropOffGatewayObj.length > 0) {

                                                    var dropOffGatewayDefault = $.trim(dropOffGatewayObj.val());
                                                    var dropOffGatewayValue = dropOffGatewayDefault;
                                                    var dropOffGatewayToggle = false;
                                                    var dropOffGToggleFlag = false;

                                                    dropOffGatewayObj.on("click focus blur keydown keyup", function (e) {

                                                        e.stopPropagation();

                                                        if ($(this).is(":visible")) {

                                                            if (e.type === "blur") {

                                                                if (!$(this).val()) {
                                                                    dropOffGatewayValue = $.trim($(this).val());
                                                                    dropOffGatewayDefault = (dropOffGatewayValue) ? dropOffGatewayValue : dropOffGatewayDefault;

                                                                    $(this).val(dropOffGatewayDefault);

                                                                    if (!dropOffGToggleFlag) {
                                                                        toggleDropOffGateway(dropOffGatewayToggleObj, false);
                                                                    }

                                                                } else {
                                                                    toggleDropOffGateway(dropOffGatewayToggleObj, false);
                                                                }

                                                            } else if (e.type === "focus" && !initCars) {

                                                                dropOffGatewayDefault = $.trim($(this).val());
                                                                $(this).val("");
                                                                $(this).trigger("keydown", {
                                                                    keyCode: 8
                                                                });

                                                                toggleDropOffGateway(dropOffGatewayToggleObj, true);

                                                                // deactivate arrival DD
                                                                pickUpGToggleFlag = false;
                                                                pickUpGatewayObj.trigger("blur");

                                                            } else if (e.type === "keyup") {

                                                                if (e.keyCode === 13) {
                                                                    dropOffGatewayObj.trigger("blur");

                                                                } else if (e.keyCode === 9) {
                                                                    toggleDropOffGateway(dropOffGatewayToggleObj, true);
                                                                }

                                                            }

                                                        }

                                                    });

                                                    var toggleDropOffGateway = function (_toggleElement, _toggleValue) {
                                                        dropOffGatewayToggle = (typeof _toggleValue !== "undefined") ? _toggleValue : !dropOffGatewayToggle;
                                                        toggleArrow(_toggleElement, _toggleValue);
                                                        dropOffGToggleFlag = false;
                                                    };

                                                    dropOffGatewayToggleObj.on("click", function (e) {
                                                        e.stopPropagation();

                                                        if (dropOffGatewayToggle === true || !dropOffGToggleFlag) {
                                                            dropOffGatewayObj.trigger("focus");
                                                            dropOffGatewayObj.trigger("keydown", {
                                                                keyCode: 8
                                                            });

                                                            dropOffGToggleFlag = true;
                                                        }

                                                        toggleArrow(dropOffGatewayToggleObj, dropOffGatewayToggle);
                                                        dropOffGatewayToggle = !dropOffGatewayToggle;
                                                    });

                                                }

                                                if (pickUpGatewayObj.length > 0 && dropOffGatewayObj.length > 0) {

                                                    // SHARED //
                                                    var resetCarsDD = function (_toggleValue) {
                                                        pickUpGatewayObj.trigger("blur");
                                                        dropOffGatewayObj.trigger("blur");
                                                        togglePickUpGateway(pickUpGatewayToggleObj, _toggleValue);
                                                        toggleDropOffGateway(dropOffGatewayToggleObj, _toggleValue);
                                                        pickUpGateToggleInit = false;
                                                    };

                                                    var toggleArrow = function (_toggleObj, _toggleValue) {

                                                        if (_toggleValue === true) {
                                                            _toggleObj.removeClass("fa-angle-down").addClass("fa-angle-up");
                                                        } else {
                                                            _toggleObj.addClass("fa-angle-down").removeClass("fa-angle-up");
                                                        }

                                                    };

                                                    thisWindow.on("click", function () {
                                                        resetCarsDD(false);
                                                    });

                                                }

                                            }
                                        }

                                    });

                                });

                                // Load the appropiate tab, by default
                                if (defaultTabIndex >= 0) {
                                    $(searchBoxTabObj.get(defaultTabIndex)).trigger("click");

                                    pageTemplate = defaultTabIndex;

                                } else {
                                    // Load first tab
                                    $(searchBoxTabObj.get(0)).trigger("click");
                                }

                            },

                            loadAdModule: function () {

                                adModuleObj.each(function (index, element) {

                                    var adModuleTabContainerObj = $(element).find(".promo-module-tab-container");
                                    var pageContentObj = $(element).parent().find(".promo-description .wrapper .text");
                                    var adModuleTabsObj = $(element).find(".promo-module-tab-container > ul > li:not(.dropdown)");
                                    var adModuleDDObj = $(element).find(".promo-module-tab-container > ul > li.dropdown");
                                    var adModuleTabCount = adModuleDDObj.find("ul.dropdown-menu > li").length;
                                    var adModuleDDText = adModuleDDObj.find(".rule-name").text();
                                    var currentRuleHREF = "";
                                    var currentRuleName = "";
                                    var adModuleItem = $(element).find(".promo-module-item");

                                    if (adModuleTabCount <= (adModuleTabLimit - 1)) {
                                        // hide drop-down except for mobile
                                        adModuleDDObj.addClass("hidden-sm hidden-md hidden-lg");
                                        // add right border to count item
                                        adModuleDDObj.prev("li").addClass("border-right");
                                    } else {
                                        // hide count items in drop-down
                                        adModuleDDObj.children("ul.dropdown-menu").children("li:lt(" + (adModuleTabLimit - 1) + ")").addClass("hidden-sm hidden-md hidden-lg");
                                    }

                                    // Loop through each ad module tab item and add click event to update drop-down href attribute
                                    adModuleTabsObj.each(function (liIndex, liElement) {

                                        $(liElement).children("a").on("click", function () {

                                            currentRuleHREF = $(this).attr("href");
                                            currentRuleName = $(this).text();

                                            if (currentRuleName && currentRuleHREF) {
                                                updateAdModuleDD(currentRuleHREF);
                                            }

                                            adModuleDDObj.find(".rule-name").text(adModuleDDText);

                                            updateBodyContent(pageContentObj, liIndex);
                                        });

                                    });

                                    // Loop through each drop-down ad module list item
                                    adModuleDDObj.children("ul.dropdown-menu").children("li").children("a").each(function (liIndex, liElement) {

                                        $(liElement).on("click", function () {

                                            currentRuleHREF = $(this).attr("href");
                                            currentRuleName = $(this).text();

                                            if (currentRuleName && currentRuleHREF) {
                                                updateAdModuleDD(currentRuleHREF, currentRuleName);
                                            }

                                            updateBodyContent(pageContentObj, liIndex);
                                        });

                                        // Add split class
                                        if ((liIndex + 1) === adModuleTabLimit) {
                                            $(liElement).parent("li").addClass("split");
                                        }

                                    });

                                    currentRuleName = adModuleObj.find("li.active a").text();
                                    currentRuleHREF = adModuleObj.find("li.active a").attr("href");
                                    updateAdModuleDD(currentRuleHREF);

                                    adModuleTabContainerObj.delay(250).animate({
                                        opacity: 1
                                    }, 500);

                                    // Add Read more overlay logic
                                    adModuleItem.each(function (index, element) {
                                        var thisElement = element;

                                        var adModuleItemReadMore = $(thisElement).find(".hotel-details .more-details");

                                        adModuleItemReadMore.on("click", function (e) {
                                            e.preventDefault();
                                            // update generic modal
                                            $("#generic-modal .modal-title").html($(thisElement).find(".hotelname a").text());
                                            $("#generic-modal .modal-body").html($(thisElement).find(".hotel-details .text").html());
                                            $("#generic-modal").trigger("click");
                                        });
                                    });

                                    if (typeof hotelCodeArray !== "undefined") {

                                        //ajax to load the images and points, Variables are initialized on promo index page.
                                        $.each(hotelCodeArray, function (key, value) {
                                            $.ajax({
                                                url: promoHotelURL + value,
                                                data: {
                                                    format: "json"
                                                },
                                                error: function () {
                                                    window.console && console.log("Service Failed");
                                                },
                                                dataType: 'json',
                                                success: function (data) {
                                                    if (typeof data.HotelImages !== "undefined" && typeof data.HotelImages.Img16x9 !== "undefined") {
                                                        $('div[data-name=hotelImage_' + value + ']').css('background-image', 'url(' + app.SWGApplication.dataModel.protocol + data.HotelImages.Img16x9[0].substring(5) + ')');
                                                    }
                                                    else {
                                                        $('div[data-name=hotelImage_' + value + ']').addClass("missing");
                                                    }
                                                    if (typeof data.ResortOverview !== "undefined" && typeof data.ResortOverview.Description !== "undefined") {
                                                        $('div[data-name=description_' + value + ']').html(data.ResortOverview.Description);
                                                    }
                                                },
                                                type: "GET"
                                            });
                                        });
                                    }

                                });

                                function updateAdModuleDD(_href, _name) {

                                    if (_href) {
                                        adModuleDDObj.find(".rule-name").attr("data-href", _href);
                                    }

                                    if (_name) {
                                        adModuleDDObj.find(".rule-name").text(_name);
                                    }
                                }

                                function updateBodyContent(_pageContentObj, _item) {

                                    _pageContentObj.children("div").each(function (_index, _element) {

                                        if (_index === _item) {

                                            $(_element).removeClass("hide").addClass("show");
                                        } else {
                                            $(_element).removeClass("show").addClass("hide");
                                        }

                                    });

                                }

                                function updateMobileTab() {

                                    var activeTabHREF = "";
                                    var activeTabName = "";
                                    var activeTabObj = null;

                                    if (viewPortChange && currentViewPort === "xs") {

                                        adModuleObj.each(function (index, element) {
                                            activeTabHREF = $(element).find(".rule-name").attr("data-href");
                                            activeTabObj = $(element).find(".active a[href='" + activeTabHREF + "']");
                                            activeTabName = activeTabObj.text();

                                            $(element).find(".promo-module-tab-container > ul > li.dropdown .dropdown-menu a[href='" + activeTabHREF + "']").trigger("click");
                                        });

                                        updateAdModuleDD(activeTabHREF, activeTabName);

                                    } else if (viewPortChange && currentViewPort !== "xs") {

                                        adModuleObj.each(function (index, element) {
                                            activeTabHREF = $(element).find(".rule-name").attr("data-href");
                                            activeTabObj = $(element).find(".active a[href='" + activeTabHREF + "']");
                                            activeTabName = activeTabObj.text();

                                            var liSelected = $(element).find(".promo-module-tab-container > ul > li:not(.dropdown) a[href='" + activeTabHREF + "']");
                                            if (!liSelected.parent("li").hasClass("active")) {
                                                liSelected.trigger("click");
                                            }

                                        });
                                    }

                                }

                                thisWindow.on("resize", updateMobileTab);
                            },

                            loadSignUpNo1ToTheSun: function () {

                                var signUpContentsObj = signUpNo1ToTheSunObj.find(".signup-container");
                                var signUpContentsSliderObj = signUpContentsObj.find(".form-group-slider");
                                var signUpEmailObj = signUpContentsObj.find("#signUpEmail");
                                var signUpSubmit = signUpContentsSliderObj.find(".cta button");
                                var signUpCloseObj = signUpContentsObj.find("button.close");
                                var slideWidth, slideContainerWidth, slideBorderWidth, slidePercentage;

                                var signUpToggleButtonObj = signUpNo1ToTheSunObj.find(".display-group .toggleButton");
                                var signUpToggleHeadingObj = signUpNo1ToTheSunObj.find(".display-group > .message");
                                var signUpToggleObj = signUpNo1ToTheSunObj.find(".display-group .form-group");

                                function closeSignUp() {
                                    if (Modernizr.touch) {
                                        viewportObj.removeClass("scroll-lock");
                                        signUpNo1ToTheSunObj.closest(".container").removeClass("scroll-lock-bg");
                                        signUpNo1ToTheSunObj.css("position", "");
                                        viewportObj.off("touchmove.lock");
                                    }
                                }

                                signUpToggleHeadingObj.on("click", function () {

                                    if (currentViewPort !== "xs") return;

                                    this.activeState = (typeof this.activeState !== "undefined") ? this.activeState : false;

                                    if (this.activeState) {
                                        // slide down
                                        signUpEmailObj.val("").blur();
                                        signUpToggleObj.slideToggle(function () {
                                            signUpToggleButtonObj.find("i").addClass("fa-chevron-up").removeClass("fa-chevron-down");
                                            signUpInputFlag = false;

                                            closeSignUp();

                                            viewportObj.css("height", "");
                                            thisWindow.trigger("resize");
                                        });

                                    } else {
                                        // slide up
                                        signUpToggleObj.slideToggle(function () {
                                            signUpToggleButtonObj.find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");
                                            signUpInputFlag = true;

                                            if (Modernizr.touch) {
                                                viewportObj.addClass("scroll-lock");
                                                signUpNo1ToTheSunObj.closest(".container").addClass("scroll-lock-bg");
                                                signUpNo1ToTheSunObj.css("position", "fixed");

                                                viewportObj.on("touchmove.lock", function (e) {
                                                    e.preventDefault();
                                                });

                                                viewportObj.css("height", windowScrollTop + Math.round(thisWindow.height()) + "px");
                                            }

                                        });
                                    }

                                    this.activeState = !this.activeState;
                                });

                                // Capture Container clicks so form doesn't close
                                signUpContentsObj.on("click", function (e) {
                                    e.stopPropagation();
                                });

                                // Close dialog box
                                signUpCloseObj.on("click", function () {
                                    signUpContentsObj.fadeOut("fast");
                                    signUpInputFlag = false;
                                    closeSignUp();
                                    viewportObj.css("height", "");
                                    thisWindow.trigger("resize");
                                });

                                // Handle email triggers to display / hide the form
                                signUpEmailObj.on("blur input", function (e) {

                                    if (e.type === "input" && $(this).val()) {
                                        showForm();
                                    } else if (e.type === "blur" && !$(this).val() || e.type === "input" && !$(this).val()) {
                                        hideForm();
                                    }

                                });

                                // Force overflow to avoid having the tooltip error message cut-off when user submits
                                signUpSubmit.on("click", function (e) {

                                    if (slideState) {
                                        signUpNo1ToTheSunObj.css("overflow", "visible");
                                    } else {
                                        e.preventDefault();
                                    }

                                });

                                // Recalculate container widths to correctly display form at all viewport sizes
                                thisWindow.on("resize", updateSlide);

                                function updateSlide() {
                                    updateSlideCalculations();

                                    if (slideState) {
                                        showForm();
                                    }
                                }

                                function updateSlideCalculations() {
                                    slideWidth = parseInt(signUpContentsSliderObj.css("width"), 10);
                                    slideContainerWidth = signUpContentsObj.closest(".container").width();
                                    slideBorderWidth = parseInt(signUpContentsSliderObj.css("border-top-width"), 10);
                                    slidePercentage = ((slideContainerWidth - slideWidth - slideBorderWidth) / slideContainerWidth) * 100;
                                }

                                function showForm() {

                                    if (signUpEmailObj.val()) {
                                        updateSlideCalculations();

                                        if (slideVorH === "horizontal" && !slideState) {

                                            signUpContentsSliderObj.css("opacity", 1);
                                            signUpContentsObj.addClass("open");
                                            signUpContentsSliderObj.fadeIn(0).stop().dequeue().show().animate({
                                                left: slidePercentage + "%"
                                            }, 500, "easeOutExpo", function () {
                                                slideState = true;
                                            });

                                        } else if (slideVorH === "vertical" && !slideState) {

                                            signUpContentsObj.addClass("open");

                                            signUpContentsSliderObj.slideDown(500, function () {

                                                $(this).animate({
                                                    opacity: 1
                                                }, 500, "easeOutExpo", function () {
                                                    $(this).css("display", "inline-block");
                                                    slideState = true;
                                                });

                                            });

                                        } else if (slideVorH === "horizontal" && slideState) {
                                            // if the form is on screen all ready, then just force left property to be full percentage width
                                            updateSlideCalculations();
                                            signUpContentsSliderObj.css("left", slidePercentage + "%");

                                        }
                                    }
                                }

                                function hideForm() {

                                    if (!signUpEmailObj.val()) {

                                        if (slideVorH === "horizontal") {

                                            signUpContentsObj.find(".form-error-container").addClass("hide");
                                            signUpNo1ToTheSunObj.css("overflow", "hidden");

                                            signUpContentsSliderObj.stop().dequeue().animate({
                                                left: "-20%"
                                            }, 500, "easeInOutExpo", function () {
                                                signUpContentsObj.removeClass("open");
                                                $(this).hide();
                                                slideState = false;
                                            });

                                        } else if (slideVorH === "vertical") {

                                            signUpContentsSliderObj.stop().dequeue().animate({
                                                opacity: 0
                                            }, 500, "easeInOutExpo", function () {
                                                signUpContentsObj.removeClass("open");
                                                $(this).slideUp(500);
                                                slideState = false;
                                            });
                                        }

                                    }

                                }

                                viewportObj.on("click", function () {
                                    hideForm();
                                });

                                $(errorToolTip).on("click", function () {
                                    $(this).closest(".form-error-container").hide();
                                });

                                /* START: Input Fields Data and Error handling supplied by Pramod Patel */
                                $("#txtDepCity").val("");

                                $("#txtDepCity").autocomplete({
                                    source: function (request, response) {
                                        $.ajax({
                                            url: gateWayURL + request.term,
                                            dataType: "json",
                                            data: {
                                                maxRows: 12,
                                                name_startsWith: request.term
                                            },
                                            success: function (data) {
                                                response($.map(data, function (items) {
                                                    return {
                                                        id: items.id,
                                                        label: items.label + " (" + items.gatewayCode + ")"
                                                    };
                                                }));
                                            }
                                        });
                                    },
                                    minLength: 3,
                                    select: function (event, ui) {
                                        $("#txtDepCity").val(ui.item.label);
                                        $("#htxtDepCity").val(ui.item.id);
                                        return false;
                                    },
                                });

                                $("#formNewsLetter").submit(function () {
                                    if (app.SWGApplication.dataController.validateSignUp()) {
                                        $.ajax({
                                            header: {
                                                "Accept": "application/json",
                                                "content-Type": "application/json; charset=utf-8",
                                                "Origin": "sunwing.ca",
                                            },
                                            url: "/Home/Signup",
                                            type: "POST",
                                            data: $("#formNewsLetter").serialize(),
                                            dataType: 'JSON',
                                            success: function (response) {
                                                if (response === "Success") {
                                                    $("#formNewsLetter").hide();
                                                    $("#email-instruction").hide();
                                                    $("#email-success").show();

                                                    // Success CSS 
                                                    signUpContentsObj.removeClass("open");
                                                }
                                            },
                                            fail: function (response) {
                                                if (response === "Failed") {
                                                    $("#email-fail").show();
                                                }
                                            },
                                            error: function () {
                                                $("#email-fail").show();
                                            }
                                        });
                                    }

                                    return false;
                                });

                                $("#txtDepCity").keypress(function () {
                                    $("#txtDepCityError").addClass("hide");
                                });

                                $("#signUpEmail").keypress(function () {
                                    $("#signUpEmailError").addClass("hide");
                                });

                                /* END: */

                                // Display Form Animation or show
                                if (currentViewPort !== "xs" && currentViewPort !== "sm") {

                                    signUpNo1ToTheSunObj.css("bottom", "0").css("display", "block");
                                    signUpNo1ToTheSunObj.animate({
                                        opacity: 1,
                                        bottom: 45
                                    }, 1000, "easeOutBack", function () {
                                        $(this).css("bottom", "");
                                    });

                                } else {
                                    signUpNo1ToTheSunObj.css("opacity", "1").css("display", "block");
                                }
                            },

                            validateSignUp: function () {

                                var valid = 0;
                                var test_regex = /^[a-zA-Z(),-\u00E0-\u00FC ]{2,100}$/;
                                var email_regex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;
                                var gateway = $("#txtDepCity").val();
                                var your_email = $("#signUpEmail").val();
                                var hgateway = $("#htxtDepCity").val();
                                $("#signUpEmailError").addClass("hide");
                                $("#txtDepCityError").addClass("hide");

                                if (!gateway.match(test_regex) || hgateway === "") {
                                    $("#txtDepCityError").removeClass("hide");
                                    $("#txtDepCityError").css("display", "block");
                                    $("#txtDepCity").focus();
                                    valid = 2;
                                }

                                if (!your_email.match(email_regex)) {
                                    $("#signUpEmailError").removeClass("hide");
                                    $("#signUpEmailError").css("display", "block");
                                    $("#signUpEmail").focus();
                                    valid = 1;
                                }

                                if (valid !== 0) {
                                    return false;
                                } else {
                                    return true;
                                }

                            },

                            getSlideVorH: function () {
                                slideVorH = (currentViewPort === "xs" || currentViewPort === "sm") ? "vertical" : "horizontal";
                                return slideVorH;
                            },

                            loadBackToTop: function () {

                                var clicked = false;
                                backToTopLoaded = true;

                                backToTopObj.on("click focus", function (e) {
                                    e.preventDefault();
                                    clicked = true;

                                    viewportObj.animate({
                                        scrollTop: 0
                                    }, 1500, "easeOutCirc", function () {
                                        backToTopObj.find("a").blur();
                                        clicked = false;
                                    });

                                });

                                // Stop the animation if the user interacts with the page
                                viewportObj.on("scroll mousedown DOMMouseScroll mousewheel keyup touchstart", function (e) {

                                    if (clicked) {
                                        if (e.which > 0 && e.which !== 13 || e.type === "mousedown" || e.type === "mousewheel" || e.type === "touchstart") {
                                            $(this).stop().dequeue();
                                            backToTopObj.find("a").blur();
                                            clicked = false;
                                        }
                                    }

                                });

                            },

                            checkBrowserWidth: function () {
                                var windowWidth = thisWindow.width();
                                return windowWidth;
                            },

                            updateScroll: function () {
                                windowScrollTop = thisWindow.scrollTop();

                                if (windowScrollTop < windowScrollTopPrev) {
                                    moveDirection = "up";
                                } else if (windowScrollTop > windowScrollTopPrev) {
                                    moveDirection = "down";
                                }

                                windowScrollTopPrev = windowScrollTop;
                            },

                            loadPrimarySlider: function () {

                                var bxSliderCount = sliderObj.find(".primary-slider li").length;

                                var infiniteLoop;
                                var controls;
                                var buttonHTML = "";

                                if (bxSliderCount <= 1) {
                                    infiniteLoop = false;
                                    controls = false;

                                    sliderObj.find(".primary-slider ." + sliderPager).hide();
                                    sliderObj.find(".primary-slider ." + sliderWrapperClass).hide();

                                } else {

                                    slideShowObj = sliderObj.find(".primary-slider").closest("." + sliderContainerClass);

                                    infiniteLoop = true;
                                    controls = true;

                                    slideShowObj.find("." + sliderPager).remove();
                                    slideShowObj.append($("<div>").addClass(sliderPager));

                                    for (var i = 0; i < bxSliderCount; i++) {
                                        buttonHTML += '<a data-slide-index="' + i + '" href></a>';
                                        buttonHTML += '\n'; // add newline character
                                    }

                                    sliderObj.find("." + sliderPager).html(buttonHTML);

                                }

                                bxSliderPluginObj = sliderObj.find(".primary-slider").bxSlider({
                                    auto: true,
                                    autoControls: true,
                                    mode: "fade",
                                    autoResume: true,
                                    useCSS: true,
                                    responsive: true,
                                    pagerCustom: "." + sliderPager,
                                    wrapperClass: sliderWrapperClass,
                                    pause: 5000,
                                    slideMargin: 15,
                                    easing: (Modernizr.csstransitions) ? "ease-in-out" : "swing",
                                    prevText: '<i class="fa fa-chevron-left"></i>',
                                    nextText: '<i class="fa fa-chevron-right"></i>',
                                    infiniteLoop: true,
                                    controls: (bxSliderCount <= 1) ? false : true,
                                    onSliderLoad: function ($thisSlider, currentIndex) {
                                        $thisSlider.closest("." + sliderWrapperClass).show();
                                        sliderLoadedFlag = true;

                                        loadPNTabbing($thisSlider);
                                    }
                                });

                                function loadPNTabbing(_thisSliderObj) {

                                    _thisSliderObj.next().find(".bx-prev").on("focus blur", function (e) {

                                        if (e.type === "focus") {
                                            $(this).closest(".bx-controls").addClass("opacity-full");
                                        } else {
                                            $(this).closest(".bx-controls").removeClass("opacity-full");
                                        }

                                    });

                                    _thisSliderObj.next().find(".bx-next").on("focus blur", function (e) {
                                        if (e.type === "focus") {
                                            $(this).closest(".bx-controls").addClass("opacity-full");
                                        } else {
                                            $(this).closest(".bx-controls").removeClass("opacity-full");
                                        }
                                    });
                                }

                            },

                            unloadPrimarySlider: function () {
                                if (typeof bxSliderPluginObj !== "undefined" && sliderObj.find("." + sliderWrapperClass)) {
                                    bxSliderPluginObj.destroySlider();
                                    sliderLoadedFlag = false;
                                }
                            },

                            loadMobileSlider: function () {

                                var bxSliderCount = mobileSliderObj.find(".mobile-primary-slider li").length;
                                var infiniteLoop;
                                var controls;
                                var buttonHTML = "";

                                if (bxSliderCount <= 1) {
                                    infiniteLoop = false;
                                    controls = false;

                                    mobileSliderObj.find(".mobile-primary-slider ." + mobileSliderPager).hide();
                                    mobileSliderObj.find(".mobile-primary-slider ." + mobileSliderWrapperClass).hide();

                                } else {

                                    mobileSlideShowObj = mobileSliderObj.find(".mobile-primary-slider").closest("." + mobileSliderContainerClass);

                                    infiniteLoop = true;
                                    controls = true;

                                    mobileSlideShowObj.find("." + mobileSliderPager).remove();
                                    mobileSlideShowObj.append($("<div>").addClass(mobileSliderPager));

                                    for (var i = 0; i < bxSliderCount; i++) {
                                        buttonHTML += '<a data-slide-index="' + i + '" href></a>';
                                        buttonHTML += '\n'; // add newline character
                                    }

                                    mobileSliderObj.find("." + mobileSliderPager).html(buttonHTML);

                                }

                                bxSliderMobilePluginObj = mobileSliderObj.find(".mobile-primary-slider").bxSlider({
                                    auto: true,
                                    autoControls: true,
                                    mode: "fade",
                                    autoResume: true,
                                    useCSS: true,
                                    responsive: true,
                                    pagerCustom: "." + mobileSliderPager,
                                    wrapperClass: mobileSliderWrapperClass,
                                    adaptiveHeight: true,
                                    pause: 5000,
                                    slideMargin: 15,
                                    easing: (Modernizr.csstransitions) ? "ease-in-out" : "swing",
                                    prevText: '<i class="fa fa-chevron-left"></i>',
                                    nextText: '<i class="fa fa-chevron-right"></i>',
                                    infiniteLoop: true,
                                    controls: (bxSliderCount <= 1) ? false : true,
                                    onSliderLoad: function ($thisSlider, currentIndex) {

                                        $thisSlider.css("height", mobileSliderObj.width() / mobileSliderRatio);
                                        $thisSlider.closest("." + mobileSliderWrapperClass).show();

                                        mobileSliderLoadedFlag = true;
                                        loadPNTabbing($thisSlider);
                                    }
                                });

                                function loadPNTabbing(_thisSliderObj) {

                                    _thisSliderObj.next().find(".bx-prev").on("focus blur", function (e) {

                                        if (e.type === "focus") {
                                            $(this).closest(".bx-controls").addClass("opacity-full");
                                        } else {
                                            $(this).closest(".bx-controls").removeClass("opacity-full");
                                        }

                                    });

                                    _thisSliderObj.next().find(".bx-next").on("focus blur", function (e) {
                                        if (e.type === "focus") {
                                            $(this).closest(".bx-controls").addClass("opacity-full");
                                        } else {
                                            $(this).closest(".bx-controls").removeClass("opacity-full");
                                        }
                                    });

                                }

                            },

                            unloadMobileSlider: function () {
                                if (typeof bxSliderMobilePluginObj !== "undefined") {
                                    bxSliderMobilePluginObj.destroySlider();
                                    mobileSliderLoadedFlag = false;
                                }
                            },

                            loadSWGMobileAppSlider: function () {

                                var bxSliderCount = $(".swg-app-bx-wrapper .bxslider > li").length;

                                var infiniteLoop;
                                var controls;
                                var buttonHTML = "";

                                if (bxSliderCount <= 1) {
                                    infiniteLoop = false;
                                    controls = false;

                                    $("." + mobileAppSliderPager).hide();
                                    $("." + mobileAppSliderWrapperClass).hide();

                                } else {

                                    mobileAppSlideShowObj = $("." + mobileAppSliderWrapperClass);

                                    infiniteLoop = true;
                                    controls = true;

                                    mobileAppSlideShowObj.find(".buttons").before($("<div>").addClass(mobileAppSliderPager).addClass("col-xs-12"));

                                    for (var i = 0; i < bxSliderCount; i++) {
                                        buttonHTML += '<a data-slide-index="' + i + '" href></a>';
                                        buttonHTML += '\n'; // add newline character
                                    }

                                    $("." + mobileAppSliderPager).html(buttonHTML);

                                }

                                mobileAppSliderPluginObj = mobileAppSliderObj.bxSlider({
                                    auto: true,
                                    autoControls: true,
                                    mode: "fade",
                                    autoResume: true,
                                    useCSS: true,
                                    responsive: true,
                                    hideControlOnEnd: true,
                                    adaptiveHeight: true,
                                    pagerCustom: "." + mobileAppSliderPager,
                                    wrapperClass: mobileAppSliderWrapperClass,
                                    pause: 8000,
                                    speed: 1000,
                                    slideMargin: 15,
                                    easing: (Modernizr.csstransitions) ? "easeOutExpo" : "swing",
                                    prevText: '<i class="fa fa-angle-left"></i>',
                                    nextText: '<i class="fa fa-angle-right"></i>',
                                    infiniteLoop: true,
                                    onSliderLoad: function () {
                                        setTimeout(function () {
                                            mobileAppSliderObj.css("visibility", "visible");
                                        }, 1000);

                                    }
                                });

                            },

                            loadLPCSearchBox: function () {

                                var searchBoxOptions = datePickerOptions;
                                var tomorrowsDate = moment().format("YYYY-MM");

                                if (typeof userDate !== "undefined") {
                                    if (userDate !== "") tomorrowsDate = userDate;
                                }

                                searchBoxOptions.defaultDate = tomorrowsDate;
                                searchBoxOptions.minDate = tomorrowsDate;
                                searchBoxOptions.maxDate = moment().add(334, "days");
                                // 
                                searchBoxOptions.viewMode = "months";
                                searchBoxOptions.format = "MMMM YYYY";

                                // Initialize calendar instance
                                lpcSearchBoxObj.find(".calendar").datetimepicker(searchBoxOptions);

                                if (!Modernizr.touch) {
                                    lpcSearchBoxObj.find(".calendar").removeAttr("readonly");
                                }

                                lpcSearchBoxObj.find(".calendar").on("click", function (e) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                });

                            },

                            loadLPCSliderImg: function () {

                                var hotelImgCodes = "";
                                $(".bxSlider .slide.carousel-feature .feature-item .feature-container").find("img").each(function () {
                                    hotelImgCodes = hotelImgCodes + $(this).attr("data-name") + "|";
                                });

                                if (typeof hotelImgCodes !== "undefined") {
                                    $.ajax({
                                        url: promoHotelURL + hotelImgCodes,
                                        data: {
                                            format: "json"
                                        },
                                        error: function () {
                                            window.console && console.log("Service Failed");
                                        },
                                        dataType: "json",
                                        success: function (data) {

                                            for (var i = 0; i < data.length - 1; i++) {
                                                if (data[i].HotelImages !== null && data[i].HotelImages !== "undefined") {
                                                    $("img[data-name=" + data[i].HotelCode + "]").prop("src", app.SWGApplication.dataModel.protocol + data[i].HotelImages.Img4x3[0].substring(5));
                                                } else {
                                                    $("img[data-name=" + data[i].HotelCode + "]").prop("src", "/Content/images/hotel/error/photo-no-image-" + app.SWGApplication.dataModel.language + ".jpg");
                                                }
                                            }

                                            app.SWGApplication.dataController.loadCarouselSlider();
                                        },
                                        type: "GET"
                                    });

                                }
                            },

                            loadCarouselSlider: function () {

                                var slideMaxSlideCount, slideWidth, sliderOptions, slideTotal, slideMargin;
                                var infiniteLoop = false;
                                var buttonHTML;

                                slideCarouselObj.each(function (index, element) {

                                    buttonHTML = "";
                                    slideMaxSlideCount = $(element).data("max-slides");
                                    slideWidth = $(element).data("slide-width");
                                    slideMargin = $(element).data("slide-margin");
                                    slideTotal = Math.ceil($(element).find(".bxSlider > .slide").length / slideMaxSlideCount);

                                    if (slideTotal <= 1) {
                                        infiniteLoop = false;

                                        $(element).find("." + slideCarouselControlsClass).hide();

                                    } else {

                                        infiniteLoop = true;

                                        for (var i = 0; i < slideTotal; i++) {
                                            buttonHTML += '<a data-slide-index="' + i + '" href></a>';
                                            buttonHTML += '\n'; // add newline character
                                        }

                                        $(element).find("." + slideCarouselPager).html(buttonHTML);
                                    }

                                    sliderOptions = {
                                        auto: false,
                                        autoControls: true,
                                        hideControlOnEnd: true,
                                        autoResume: true,
                                        responsive: true,
                                        pagerCustom: $(element).find("." + slideCarouselPager),
                                        pause: 8000,
                                        speed: 1000,
                                        easing: "easeOutExpo",
                                        prevSelector: $(element).find(".carousel-bx-prev"),
                                        nextSelector: $(element).find(".carousel-bx-next"),
                                        prevText: '<i class="fa fa-angle-left"></i>',
                                        nextText: '<i class="fa fa-angle-right"></i>',
                                        infiniteLoop: false,
                                        useCSS: false,
                                        slideWidth: slideWidth,
                                        minSlides: slideMaxSlideCount,
                                        maxSlides: slideMaxSlideCount,
                                        slideMargin: (typeof slideMargin !== "undefined") ? slideMargin : slideCarouselMargin,
                                        adaptiveHeight: true,
                                        autoHover: true,
                                        onSliderLoad: function () {

                                            setTimeout(function () {
                                                $(element).css("visibility", "visible");
                                            }, 100);

                                        },

                                        // custom settings
                                        slidersTotal: $(element).find(".bxSlider > .slide").length,
                                        pagerHTML: buttonHTML
                                    };


                                    var thisSliderInstance = $(element).find(".bxSlider").bxSlider(sliderOptions);

                                    slideCarouselPluginObjArray.push([thisSliderInstance, sliderOptions]);
                                });

                                slideCarouselLoadedFlag = true;

                                // Reload sliders if loaded in the following viewports
                                if (currentViewPort === "xs" || currentViewPort === "sm") {
                                    app.SWGApplication.dataController.reloadCarouselSlider();
                                }
                            },

                            reloadCarouselSlider: function () {

                                $.each(slideCarouselPluginObjArray, function (pluginIndex, pluginValue) {
                                    var total = pluginValue.length;
                                    var instance, instanceOptions, tempOptions;
                                    var visibleSlides;
                                    var reloadSlider = false;
                                    var buttonHTML = "";

                                    for (var i = 0; i < total; i++) {
                                        if (i === 0) {
                                            instance = pluginValue[i];
                                        } else if (i === 1) {
                                            instanceOptions = pluginValue[i];
                                        }
                                    }

                                    // Check if instance needs to be reloaded by cloning original settings
                                    tempOptions = $.extend(true, {}, instanceOptions);

                                    if (currentViewPort === "xs") {
                                        visibleSlides = 1;

                                        tempOptions.minSlides = visibleSlides;
                                        tempOptions.maxSlides = visibleSlides;
                                        tempOptions.slideWidth = 767;
                                        tempOptions.adaptiveHeight = true;
                                        tempOptions.mode = "fade";

                                        reloadSlider = true;

                                    } else if (currentViewPort === "sm") {
                                        visibleSlides = 2;

                                        tempOptions.minSlides = visibleSlides;
                                        tempOptions.maxSlides = visibleSlides;
                                        reloadSlider = true;

                                    } else if (currentViewPort === "md") {
                                        visibleSlides = 3;

                                        tempOptions.minSlides = visibleSlides;
                                        tempOptions.maxSlides = visibleSlides;
                                        reloadSlider = true;

                                    } else if (currentViewPort === "lg") {
                                        visibleSlides = 3;

                                        tempOptions.minSlides = (instanceOptions.minSlides > visibleSlides) ? instanceOptions.minSlides : visibleSlides;
                                        tempOptions.maxSlides = (instanceOptions.maxSlides > visibleSlides) ? instanceOptions.maxSlides : visibleSlides;
                                        reloadSlider = true;
                                    }

                                    if (tempOptions.slidersTotal > tempOptions.minSlides) {
                                        // Check if infinite sliding is appropriate
                                        //tempOptions.infiniteLoop = true;

                                        $(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselControlsClass).show();

                                        // Remove old pager arrows because plugin appends
                                        tempOptions.prevSelector.empty();
                                        tempOptions.nextSelector.empty();

                                        // Generate new pager HTML based on slides & new minSlide value
                                        tempOptions.slidersTotal = Math.ceil(tempOptions.slidersTotal / tempOptions.minSlides);

                                        for (var j = 0; j < tempOptions.slidersTotal; j++) {
                                            buttonHTML += '<a data-slide-index="' + j + '" href></a>';
                                            buttonHTML += '\n'; // add newline character
                                        }

                                        tempOptions.pagerCustom.html(buttonHTML);

                                    } else {

                                        $(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselControlsClass).hide();
                                    }

                                    if (reloadSlider) {
                                        instance.destroySlider();
                                        instance.reloadSlider(tempOptions);
                                    }

                                    buttonHTML = "";

                                });
                            },

                            updateCarouselPager: function () {

                                if ($.fn.bxSlider && slideCarouselExists) {

                                    if (slideCarouselLoadedFlag) {

                                        $.each(slideCarouselPluginObjArray, function (pluginIndex, pluginValue) {
                                            var total = pluginValue.length;
                                            var instance, instanceOptions;

                                            for (var i = 0; i < total; i++) {
                                                if (i === 0) {
                                                    instance = pluginValue[i];
                                                } else if (i === 1) {
                                                    instanceOptions = pluginValue[i];
                                                }
                                            }

                                            var buttonWidth = 3 * Math.ceil($(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselPrevButton).outerWidth(true));
                                            var pagerWidth = Math.ceil($(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselPager).width());
                                            var containerWidth = $(instance.get(0)).closest(".slider-carousel").width();

                                            if (buttonWidth + pagerWidth <= containerWidth) {
                                                $(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselPager).removeClass("hidden-offscreen");
                                            } else if (buttonWidth + pagerWidth > containerWidth) {
                                                $(instance.get(0)).closest(".slider-carousel").find("." + slideCarouselPager).addClass("hidden-offscreen");
                                            }

                                        });

                                    }

                                }

                            },

                            loadAccordionTab: function () {

                                accordionTabObj.each(function (index, element) {

                                    var tabObj = $(element).find("ul.accordion-tabs > li");
                                    var accordionPanelHeadingObj = $(element).find(".tab-accordion-heading");
                                    var accordionPanelContainerObj = $(element).find(".accordion-panel-container");
                                    var accordionPanelContentObj = $(element).find(".accordion-tab-content");
                                    var accordionPanelReadMoreObj = $(element).find(".read-more");
                                    var activeTab, lastActiveTab, defaultTab;

                                    /* Update tab mode */
                                    tabObj.each(function (indexTab, elementTab) {

                                        var liTabObj = $(elementTab);
                                        var anchorTabObj = liTabObj.find("a");

                                        defaultTab = (liTabObj.hasClass("default")) ? indexTab : defaultTab;

                                        if (indexTab === 0 && tabObj.length === 1) {
                                            accordionTabObj.addClass("one-tab");
                                        }


                                        liTabObj.on("click", function (e) {
                                            e.preventDefault();

                                            activeTab = anchorTabObj.data("id");

                                            if (activeTab === lastActiveTab) return;
                                            lastActiveTab = activeTab;

                                            // Set active tabs
                                            tabObj.removeClass("active");
                                            $(this).addClass("active");

                                            // Update accordion content removal transition
                                            accordionPanelHeadingObj.removeClass("active-panel");

                                            if (currentViewPort === "xs") {
                                                accordionPanelContentObj.slideUp();
                                            } else {
                                                accordionPanelContentObj.hide();
                                            }

                                            // Set active panel and content display transition
                                            accordionPanelContainerObj.find("[data-id='" + activeTab + "']").addClass("active-panel");

                                            if (currentViewPort === "xs") {
                                                accordionPanelContainerObj.find("[id='" + activeTab + "']").slideDown();
                                            } else {
                                                accordionPanelContainerObj.find("[id='" + activeTab + "']").fadeIn();
                                                app.SWGApplication.dataController.reloadAccordionTab();
                                            }

                                        });

                                    });

                                    /* Update accordion mode */
                                    accordionPanelHeadingObj.on("click", function (e) {
                                        e.preventDefault();

                                        activeTab = $(this).data("id");

                                        if (activeTab === lastActiveTab) return;
                                        lastActiveTab = activeTab;

                                        // Update accordion content removal transition
                                        accordionPanelHeadingObj.removeClass("active-panel");

                                        if (currentViewPort === "xs") {
                                            accordionPanelContentObj.slideUp();
                                        } else {
                                            accordionPanelContentObj.hide();
                                        }

                                        // Set active panel and content display transition
                                        $(this).addClass("active-panel");

                                        if (currentViewPort === "xs") {
                                            accordionPanelContainerObj.find("[id='" + activeTab + "']").slideDown();
                                        } else {
                                            accordionPanelContainerObj.find("[id='" + activeTab + "']").fadeIn();
                                        }

                                        // Set active tabs
                                        tabObj.removeClass("active");
                                        tabObj.find("a[data-id='" + activeTab + "']").parent().addClass("active");
                                    });

                                    // Attach click event to all read-more objects
                                    accordionPanelReadMoreObj.on("click", function (e) {
                                        e.preventDefault();

                                        if (typeof this.toggle === "undefined" || !this.toggle) {

                                            $(this).text(CommonDictionary.showLess);
                                            $(this).closest(".accordion-tab-content").removeClass("mask").addClass("show-all");
                                            this.toggle = true;
                                        } else {
                                            $(this).text(CommonDictionary.readMore);
                                            $(this).closest(".accordion-tab-content").addClass("mask").removeClass("show-all");
                                            this.toggle = false;
                                        }

                                    });

                                    // Initialize default tab display
                                    if (defaultTab) {
                                        tabObj.eq(defaultTab).children("a").trigger("click");
                                    } else {
                                        tabObj.first().children("a").trigger("click");
                                    }

                                    accordionTabArray.push($(element));

                                });

                            },

                            reloadAccordionTab: function () {

                                var visibleTab = null;

                                $.each(accordionTabArray, function (index, value) {
                                    if (value.is(":visible")) {
                                        visibleTab = value.find(".accordion-tabs .active > a").data("id");

                                        if ($("[id='" + visibleTab + "']").find(".read-more").length) {
                                            showReadMore(value.find("[id='" + visibleTab + "']"));
                                        }

                                    }
                                });

                                function showReadMore(_this) {

                                    // Display Read More, if required | offset by body font-size in pixels
                                    if ($(_this).outerHeight(true) - parseInt(viewportObj.css("font-size"), 10) < $(_this).get(0).scrollHeight && !$(_this).hasClass("show-all")) {
                                        $(_this).addClass("mask");
                                    }

                                }

                            },

                            loadExcursionStep1Content: function () {
                                this.loadMultiColumnTable();
                            },

                            loadMultiColumnTable: function () {

                                var excursionDataSource = hotelServicesURL + app.SWGApplication.dataModel.language + "/AllHotelDestinationList/";
                                var excursionArray = { "dataList": [] };
                                var listOffset = 2;

                                if ($.isEmptyObject(excursionStep1Data)) {

                                    $.ajax({
                                        type: "GET",
                                        url: excursionDataSource,
                                        dataType: "json",
                                        cache: false,
                                        success: function (excursionData) {

                                            if (!$.isEmptyObject(excursionData)) {

                                                excursionStep1Data = excursionData;
                                                displayMultiColumnData();

                                            } else {
                                                // Excursion data is unavailable
                                                window.console && console.log("Remove excursion destination table - no data");
                                            }
                                        },
                                        error: function (jqXHR, textStatus, errorThrown) {
                                            // excursion service not available
                                            window.console && console.log("Remove excursion destination table - service not available");
                                        }

                                    });

                                } else {
                                    displayMultiColumnData();
                                }

                                function displayMultiColumnData() {
                                    var destinationsTotal = 0;
                                    countryTotal = 0;

                                    $.each(excursionStep1Data, function (index, dataNode) {
                                        excursionArray.dataList[index] = [{ "country": dataNode.countryName }, { "destination": dataNode.destinations }];
                                        countryTotal++;
                                        destinationsTotal = dataNode.destinations.length;

                                        destinationMax = (destinationMax < destinationsTotal) ? destinationsTotal : destinationMax;
                                    });

                                    multiColumnTableObj.each(function (index, element) {
                                        var scrollInterval = 0;
                                        generateHTML();
                                        $(element).closest(".multi-column-table-container").fadeIn(1000);
                                        scrollInterval = updateHTML(element);
                                        app.SWGApplication.dataController.addScrollListener(element, scrollInterval);
                                    });

                                }

                                function generateHTML() {
                                    var htmlString = "";
                                    var counter = 0;

                                    // Create the country and destination HTML sections in the htmlArray, with the elements counter value
                                    $.each(excursionArray.dataList, function (eIndex, eValue) {
                                        var countryURL = app.SWGApplication.dataController.classifyString(eValue[0].country, "urlConversionDictionary");

                                        htmlString += "<span class='country'>" + eValue[0].country + "</span>";
                                        counter++;

                                        $.each(eValue[1].destination, function (dIndex, dValue) {
                                            var destinationURL = app.SWGApplication.dataController.classifyString(dValue, "urlConversionDictionary");

                                            htmlString += "<span class='destination'><a href='/" + app.SWGApplication.dataModel.language + "/excursions/" + countryURL + "/" + destinationURL + "'>" + dValue + "</a></span>";
                                            counter++;
                                        });

                                        // Add HTML to array to analyse later when generating columns
                                        htmlArray[eIndex] = { "html": [htmlString], "count": counter };

                                        htmlString = "";
                                        counter = 0;
                                    });

                                }

                                function updateHTML(_table) {
                                    var htmlString = "";
                                    var counter = 0, total = 0;

                                    // Clear any HTML
                                    $(_table).html("");

                                    // Create columns based on the destinationMax value and htmlArray counter value
                                    // in order to keep all sections from breaking
                                    $.each(htmlArray, function (index, value) {

                                        if (counter + value.count <= destinationMax + listOffset) {
                                            htmlString += value.html[0];
                                            counter += value.count;

                                        } else if (counter + value.count > destinationMax + listOffset) {
                                            total++;
                                            // Append to DOM
                                            $(_table).append("<div class='multi-column'>" + htmlString + "</div>");

                                            // Reset temp variables
                                            htmlString = "";
                                            counter = 0;

                                            htmlString += value.html[0];
                                            counter += value.count;
                                        }

                                        if (index >= countryTotal - 1) {
                                            total++;
                                            $(_table).append("<div class='multi-column'>" + htmlString + "</div>");
                                        }

                                    });

                                    var containerWidth = $(_table).parent().width();
                                    var columnWidth = parseInt($(".multi-column").css("width"), 10);
                                    var tableWidth = (containerWidth > total * columnWidth) ? containerWidth + "px" : total * columnWidth + "px";

                                    $(_table).css("width", tableWidth);
                                    return columnWidth;
                                }

                            },

                            addScrollListener: function (_DOMElement, _interval) {

                                tableScrollerObj = $(_DOMElement).parent();

                                // Unbind scroll and click events
                                $(_DOMElement).parent().off("scroll.scrollerList");
                                $(_DOMElement).closest(".scroll-wrapper").parent().find(".left a").off("click.scrollerList");
                                $(_DOMElement).closest(".scroll-wrapper").parent().find(".right a").off("click.scrollerList");
                                tableScrollerObj.off("scroll mousedown DOMMouseScroll mousewheel keyup touchstart");

                                // Attach click event on left arrow
                                $(_DOMElement).closest(".scroll-wrapper").parent().find(".scroll-indicator .left a").on("click.scrollerList", function (e) {
                                    e.preventDefault();

                                    multiColumnTableObj.parent().stop().dequeue().animate({
                                        scrollLeft: "-=" + _interval
                                    }, 1500, "easeOutExpo");

                                });

                                // Attach click event on right arrow
                                $(_DOMElement).closest(".scroll-wrapper").parent().find(".scroll-indicator .right a").on("click.scrollerList", function (e) {
                                    e.preventDefault();

                                    multiColumnTableObj.parent().stop().dequeue().animate({
                                        scrollLeft: "+=" + _interval
                                    }, 1500, "easeOutExpo");

                                });

                                // Stop the animation if the user interacts with the page
                                tableScrollerObj.on("scroll mousedown DOMMouseScroll mousewheel keyup touchstart", function (e) {

                                    if (e.which > 0 && e.which !== 13 && e.which !== 27 || e.type === "mousedown" || e.type === "mousewheel" || e.type === "touchstart") {
                                        $(this).stop().dequeue();
                                    }
                                });

                                // Attach scroll event on multi column table wrapper object 					
                                tableScrollerObj.on("scroll.scrollerList", function () {
                                    var scrollerWidth = $(this).width() - $(this).children().width();
                                    var indicatorObj = $(this).closest(".scroll-wrapper").parent().find(".scroll-indicator");
                                    var isScrolling = false;

                                    // Check if scrolling and width is scrollable
                                    if (scrollerWidth < 0 && Math.abs(scrollerWidth) > 0) {

                                        indicatorObj.removeClass().addClass("scroll-indicator show");

                                        // Update left gradient
                                        if ($(this).scrollLeft() > 0) {
                                            $(this).closest(".scroll-wrapper").addClass("left");
                                        } else {
                                            $(this).closest(".scroll-wrapper").removeClass("left");
                                        }

                                        // Update right gradient
                                        if ($(this).scrollLeft() >= Math.abs(scrollerWidth)) {
                                            $(this).closest(".scroll-wrapper").removeClass("right");
                                        } else {
                                            $(this).closest(".scroll-wrapper").addClass("right");
                                        }

                                        if (browser.ua === "other") {
                                            // Update Scroll Indicator
                                            if ($(this).scrollLeft() <= 0) {
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".left > a").addClass("disabled");
                                            } else {
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".left > a").removeClass("disabled");
                                            }

                                            if ($(this).scrollLeft() >= Math.abs(scrollerWidth)) {
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".right > a").addClass("disabled");
                                            } else {
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".right > a").removeClass("disabled");
                                            }

                                            if ($(this).scrollLeft() > 0 && $(this).scrollLeft() < Math.abs(scrollerWidth)) {
                                                indicatorObj.removeClass().addClass("scroll-indicator");
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".left > a").removeClass("disabled");
                                                indicatorObj.removeClass().addClass("scroll-indicator").find(".right > a").removeClass("disabled");
                                            }

                                        }

                                    } else {

                                        // No scrolling, update both gradients
                                        $(this).closest(".scroll-wrapper").removeClass("left");
                                        $(this).closest(".scroll-wrapper").removeClass("right");

                                        // Reset Scroll Indicator
                                        if (browser.ua === "other") {
                                            indicatorObj.removeClass().addClass("scroll-indicator hide");
                                        }
                                    }

                                });

                                // Initialize scroller to set up scroll indicators
                                tableScrollerObj.trigger("scroll.scrollerList");
                            },

                            loadExcursionStep2Content: function () {

                                var excursionDataSource = hotelServicesURL + "1/" + app.SWGApplication.dataModel.language + "/excursionsCountryDestination/";
                                var excursionArray = { "dataList": [] };
                                var excursionQuery, excursionStep2Data;
                                var destinationArray = "";
                                var requestHyphenFlag = false;

                                function getJSONRequest() {

                                    if (!$.isEmptyObject(excursionQuery)) {

                                        $.ajax({
                                            type: "GET",
                                            url: excursionDataSource + excursionQuery,
                                            dataType: "json",
                                            cache: false,
                                            success: function (excursionData) {

                                                if (!$.isEmptyObject(excursionData)) {

                                                    excursionStep2Data = excursionData;

                                                    app.SWGApplication.dataController.loadFilteredContent(excursionStep2Data, destinationArray);

                                                } else {
                                                    // Excursion data is unavailable
                                                    window.console && console.log("Excursion data is unavailable");

                                                    // Fallback in case there is a hyphen in the destination name
                                                    if (!requestHyphenFlag) {

                                                        excursionQuery = destinationArray[0] + "/" + destinationArray[1].replace(/[\s]/g, "-");
                                                        getJSONRequest();
                                                        requestHyphenFlag = true;
                                                    } else {
                                                        app.SWGApplication.dataView.updateLoader("hide", "loading");
                                                        app.SWGApplication.dataView.updateLoader("show", "notfound");
                                                    }
                                                }
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                // Excursion service not available
                                                window.console && console.log("Excursion service not available");
                                            }

                                        });

                                    } else {
                                        window.console && console.log("Excursion query is invalid.");
                                    }

                                }

                                destinationArray = [ExcursionDictionary.country, ExcursionDictionary.destination];
                                excursionQuery = destinationArray[0].replace(/[-]/g, " ") + "/" + destinationArray[1].replace(/[-]/g, " ");
                                getJSONRequest();
                            },

                            loadFilteredContent: function (_dataSource, _urlArray) {
                                var htmlString = "", categoriesArray = [];
                                var filterCategoryArray = [];
                                var fwPluginInstance = null; // Freewall Plugin Instance

                                function createFilterClasses() {

                                    var tempClass = "";

                                    $.each(_dataSource, function (catIndex, catValue) {
                                        categoriesArray.push($.trim(catValue.categoryName));
                                    });

                                    categoriesArray = categoriesArray.filter(function (item, i, categoriesArray) {
                                        return i === categoriesArray.indexOf(item);
                                    });

                                    $.each(categoriesArray, function (catIndex, catValue) {
                                        tempClass = app.SWGApplication.dataController.classifyString(catValue, "classConversionDictionary");
                                        filterCategoryArray.push(tempClass);
                                    });

                                }

                                function generateContent() {

                                    $.each(_dataSource, function (catIndex, catValue) {

                                        $.each(catValue.subCategories, function (scIndex, scValue) {

                                            $.each(scValue.excursions, function (exIndex, exValue) {

                                                var imgSource = "";
                                                var description = ((exValue.excursionShortDescription) ? exValue.excursionShortDescription : '<span class="swg-orange">' + ExcursionDictionary.noDescription + '.</span>');
                                                var missingImageFlag = false;
                                                var missingImageClass = " disable-css-zoom";

                                                try {

                                                    imgSource = app.SWGApplication.dataModel.protocol + exValue.excursionImages.Img16X9.substring(5);

                                                } catch (error) {
                                                    missingImageFlag = true;
                                                    //imgSource = "http://redesign.sunwing.ca/Content/images/hotel/error/photo-no-image-" + app.SWGApplication.dataModel.language + ".jpg";
                                                }

                                                // Get index of category
                                                var categoryName = " " + app.SWGApplication.dataController.classifyString(catValue.categoryName, "classConversionDictionary");
                                                var subCategoryName = " " + app.SWGApplication.dataController.classifyString(scValue.subCategoryName, "classConversionDictionary");
                                                var missingImageName = (missingImageFlag) ? missingImageClass : "";

                                                htmlString += '<div class="hover-panel-feature detailed-read-more' + categoryName + subCategoryName + missingImageName + '">';
                                                htmlString += '<div class="feature-item">';
                                                htmlString += '<div class="feature-container">';

                                                htmlString += '<a href="/';
                                                // Dynamic URL 
                                                htmlString += app.SWGApplication.dataModel.language + "/excursions/" + app.SWGApplication.dataController.classifyString(_urlArray[0], "urlConversionDictionary") + "/" + app.SWGApplication.dataController.classifyString(_urlArray[1], "urlConversionDictionary") + "/" + app.SWGApplication.dataController.classifyString(exValue.excursionFullName, "urlConversionDictionary");
                                                htmlString += '" title="' + exValue.excursionName.replace(/[\"]/g, "") + '">';

                                                htmlString += '<span class="heading-description">';
                                                htmlString += '<span class="heading-content">';
                                                htmlString += '<span class="title">' + exValue.excursionName + '</span>';
                                                htmlString += '<span class="sub-title">' + catValue.categoryName + '</span>';
                                                htmlString += '</span>';
                                                htmlString += '</span>';

                                                htmlString += '<span class="image-container"><img src="' + imgSource + '" alt="' + exValue.excursionName.replace(/[\"]/g, "") + '"></span>';

                                                htmlString += '<span class="feature-bg dt">';
                                                htmlString += '<span class="cta-text dtc">';
                                                htmlString += '<span class="text-wrapper">';
                                                htmlString += '<span class="text-description">' + description + '</span>';
                                                htmlString += '</span>';
                                                htmlString += '</span>';
                                                htmlString += '</span>';

                                                htmlString += '<span class="read-more">[<span class="cta">' + CommonDictionary.readMore + '</span>]</span>';

                                                htmlString += '</a>';

                                                htmlString += '</div>';
                                                htmlString += '</div>';
                                                htmlString += '</div>';

                                            });

                                        });
                                    });

                                    filterListObj.html(htmlString);
                                }

                                function generateFilters(fwPluginInstance) {

                                    var htmlString = "";

                                    // Generate Tab HTML
                                    htmlString += '<div class="tab-list dt">';

                                    htmlString += '<span class="tab-item dtc active">';
                                    htmlString += '<a class="filter show-all" data-toggle="tab" href="#">' + ExcursionDictionary.allExcursion + '</a>';
                                    htmlString += '</span>';

                                    $.each(filterCategoryArray, function (filterIndex, filterValue) {

                                        htmlString += '<span class="tab-item dtc">';
                                        htmlString += '<a data-toggle="tab" href="#" class="filter" data-filter=".' + filterValue + '">' + categoriesArray[filterIndex] + '</a>';
                                        htmlString += '</span>';

                                    });

                                    htmlString += '</div>';

                                    filterTabMenuObj.html(htmlString);

                                    // Generate Drop-down HTML
                                    htmlString = "";

                                    htmlString += '<li>';
                                    htmlString += '<a class="filter show-all" href="#">' + ExcursionDictionary.allExcursion + '</a>';
                                    htmlString += '</li>';

                                    $.each(filterCategoryArray, function (filterIndex, filterValue) {

                                        htmlString += '<li>';
                                        htmlString += '<a href="#" class="filter" data-filter=".' + filterValue + '">' + categoriesArray[filterIndex] + '</a>';
                                        htmlString += '</li>';

                                    });

                                    filterDDMenuObj.html(htmlString);

                                    // Initialize Responsive Tabs
                                    app.SWGApplication.dataController.initResponsiveDDTabs(filterWrapperObj);


                                    viewportObj.on("click", ".filter", function (e) {
                                        e.preventDefault();

                                        var filter = $(this).data("filter");

                                        if (filter) {
                                            fwPluginInstance.filter(filter);
                                        } else {
                                            fwPluginInstance.unFilter();
                                        }
                                    });

                                }

                                function setOptions(fwPluginInstance) {

                                    var fwOptions = {
                                        selector: ".hover-panel-feature.detailed-read-more",
                                        cellW: 300,
                                        cellH: 341,
                                        fixSize: false,
                                        delay: 5,
                                        gutterX: 20,
                                        gutterY: 20,
                                        animate: true,
                                        keepOrder: true,
                                        onResize: function (_element) {
                                            this.refresh();
                                            this.fitWidth();
                                        },
                                        onComplete: function (_element, _this) {
                                            setTimeout(function () {
                                                //console.log($(fwOptions.selector + ":visible").length);
                                            }, 1000);

                                        }
                                    };

                                    fwPluginInstance = app.SWGApplication.dataController.initFreewallPlugin(fwPluginInstance, ".hover-panel-container.filter-list", fwOptions);

                                    return fwPluginInstance;
                                }

                                createFilterClasses();
                                generateContent();

                                // Update heading
                                $(".toggle-menu .ws-destination").html((_urlArray[0] !== _urlArray[1]) ? _urlArray[1].replace(/[-]/g, " ") + ", " + _urlArray[0].replace(/[-]/g, " ") : _urlArray[0].replace(/[-]/g, " "));

                                $(".toggle-menu").on("click", function (e) {
                                    e.preventDefault();

                                    if ((typeof this.toggle === "undefined" || !this.toggle) && !$(".toggle-wrapper").is(":animated")) {

                                        $(this).addClass("active");

                                        $(".toggle-wrapper").slideDown(300, "easeInOutQuad", function () {
                                            app.SWGApplication.dataController.loadMultiColumnTable();
                                        });

                                        this.toggle = true;

                                    } else if (this.toggle && !$(".toggle-wrapper").is(":animated")) {

                                        $(this).removeClass("active");
                                        $(".toggle-wrapper").slideUp(300, "easeInOutQuad");

                                        this.toggle = false;
                                    }

                                });

                                $(".excursion-s2-data").fadeIn(1500);

                                fwPluginInstance = setOptions(fwPluginInstance);
                                generateFilters(fwPluginInstance);
                            },

                            initFreewallPlugin: function (fwPluginInstance, _container, _settings) {

                                // Instantiate Freewall Plugin
                                fwPluginInstance = new Freewall(_container);
                                fwPluginInstance.reset(_settings);

                                // Init Plugin Sizing
                                fwPluginInstance.fitWidth();

                                return fwPluginInstance;
                            },

                            initResponsiveDDTabs: function (_DOMElementWrapperDIV) {

                                // Create Tab Object References
                                var tabWrapperObj = _DOMElementWrapperDIV;
                                var tabContainerObj = tabWrapperObj.find("ul");
                                var tabObj = tabContainerObj.find("li");
                                var totalTabs = tabObj.length;

                                if (totalTabs > 2) {
                                    tabWrapperObj.responsiveDDTabManager({
                                        mobileBreakPoint: 475,
                                        menuWidth: 230,
                                        showMobileActiveText: true
                                    });
                                } else {
                                    tabWrapperObj.hide();
                                }

                            },

                            loadExcursionStep3Content: function () {

                                app.SWGApplication.dataView.updateLoader("show", "loading");

                                var excursionJSONData = null;
                                var excursionDataSource = hotelServicesURL + app.SWGApplication.dataModel.brand + "/" + app.SWGApplication.dataModel.language + "/excursionsCountryDestinationExcursion/";
                                var excursionQuery, excursionURL;

                                if (!$.isEmptyObject(exCodeURL)) {
                                    excursionURL = hotelServicesURL + app.SWGApplication.dataModel.brand + "/" + app.SWGApplication.dataModel.language + "/excursion/" + exCodeURL;
                                } else if (typeof ExcursionDictionary.country !== "undefined" && typeof ExcursionDictionary.destination !== "undefined" && typeof ExcursionDictionary.excursionName !== "undefined") {
                                    excursionQuery = ExcursionDictionary.country.replace(/-/g, " ") + "/" + ExcursionDictionary.destination.replace(/-/g, " ") + "/" + ExcursionDictionary.excursionName.replace(/-/g, " ");
                                    excursionURL = excursionDataSource + excursionQuery;
                                }

                                if (typeof excursionURL !== "undefined") {

                                    $.ajax({
                                        type: "GET",
                                        url: excursionURL,
                                        dataType: "json",
                                        cache: false,
                                        success: function (excursionData) {

                                            if (!$.isEmptyObject(excursionData)) {

                                                excursionJSONData = excursionData;

                                                if (excursionPageDataExists) {
                                                    updateExcursionPage();
                                                    updateHeader();
                                                    updateBreadcrumbs();
                                                }

                                                if (excursionGalleryExists) {
                                                    generateGallery();
                                                }

                                                setTimeout(function () {

                                                    app.SWGApplication.dataView.updateLoader("hide");

                                                    // Page Content is updated 
                                                    app.SWGApplication.dataView.loadStaticSequence();

                                                    /* Load Promotion Features */

                                                    // Promotion Features
                                                    var excursionPageFeatureObj = $(".hover-panel-container.excursion-features");
                                                    var excursionPageFeatureExists = (excursionPageFeatureObj.length) ? true : false;

                                                    if (excursionPageFeatureExists) {
                                                        loadExcursionPromotions(excursionPageFeatureObj, 3, excursionJSONData[0].category, excursionJSONData[0].subCategory, excursionJSONData[0].name);
                                                    }

                                                }, 1000);


                                            } else {
                                                // Excursion data is empty
                                                app.SWGApplication.dataView.updateLoader("hide", "loading");
                                                app.SWGApplication.dataView.updateLoader("show", "notfound");
                                            }
                                        },
                                        error: function (jqXHR, textStatus, errorThrown) {
                                            // excursion service not available or failed attempt
                                            app.SWGApplication.dataView.updateLoader("hide", "loading");
                                            app.SWGApplication.dataView.updateLoader("show", "notfound");
                                        }

                                    });

                                } else {
                                    // valid query not passed
                                    app.SWGApplication.dataView.updateLoader("hide", "loading");
                                    app.SWGApplication.dataView.updateLoader("show", "notfound");
                                }

                                function updateHeader() {

                                    var locationString = excursionJSONData[0].country + ", " + excursionJSONData[0].destination;

                                    excursionGalleryObj.find(".blue-header h2").html(excursionJSONData[0].name);
                                    excursionGalleryObj.find(".map-cta .location").html(locationString);

                                }

                                function updateBreadcrumbs() {

                                    var locationString = excursionJSONData[0].destination + ", " + excursionJSONData[0].country;

                                    $(".breadcrumbs .ws-data.location").html(locationString);
                                }

                                function generateGallery() {

                                    excursionGalleryObj.each(function (index, element) {

                                        var loadGalleryStatus = false;

                                        analyzeGalleryData(loadGalleryStatus, element);

                                    });

                                }

                                function checkLoadState(loadGalleryStatus, _element) {

                                    var controls = false;

                                    if (loadGalleryStatus) {
                                        controls = createHTML(_element);
                                        initSlider(_element, controls);

                                    } else {
                                        $(_element).find(".row-slideshow").hide();
                                    }

                                }

                                function analyzeGalleryData(loadGalleryStatus, _element) {

                                    $.each(excursionJSONData, function (index, property) {

                                        if (typeof property.hotelImages === "object") {

                                            $.each(property.hotelImages, function (key, imageArray) {

                                                if (key === "Img16X9") {
                                                    app.SWGApplication.dataModel.galleryImages[key] = imageArray;
                                                    loadGalleryStatus = true;
                                                }

                                            });
                                        }

                                    });

                                    checkLoadState(loadGalleryStatus, _element);
                                }

                                function createHTML(_element) {

                                    var htmlString = "";
                                    var imageCounter = 0, imageTypeCounter = 0;
                                    var imageFlag = false;
                                    var largeImages = app.SWGApplication.dataModel.galleryImages.Img16X9;
                                    var smallImages = app.SWGApplication.dataModel.galleryImages.Img16X9;

                                    if (typeof largeImages !== "undefined" && largeImages !== null) {

                                        htmlString += '<ul class="bxslider">';

                                        if (typeof largeImages === "object") {

                                            imageFlag = true;

                                            $.each(largeImages, function (key, val) {
                                                imageCounter++;
                                                htmlString += '<li><img src="' + app.SWGApplication.dataModel.protocol + val.substring(5) + '" alt="Photo ' + imageCounter + '"></li>';
                                            });

                                        } else {
                                            imageCounter++;
                                            htmlString += '<li><img src="' + app.SWGApplication.dataModel.protocol + largeImages.substring(5) + '" alt="Photo ' + imageCounter + '"></li>';
                                        }

                                        htmlString += '</ul>';

                                        if (imageCounter) {
                                            imageTypeCounter++;
                                        }

                                        $(_element).find(".slideshow").html("");
                                        $(_element).find(".slideshow").html(htmlString);

                                        htmlString = "";
                                        imageCounter = 0;
                                        imageFlag = false;

                                    } else {

                                        // No large images found
                                        htmlString = "";

                                        htmlString += '<ul class="bxslider">';
                                        htmlString += '<li><img src="/Content/images/hotel/error/photo-no-lg-image-' + app.SWGApplication.dataModel.language + '.jpg" alt="Hotel photo placeholder" /></li>';
                                        htmlString += '</ul>';

                                        $(_element).find(".slideshow").html(htmlString);
                                        htmlString = "";
                                        $(_element).find(".thumbs").html(htmlString);
                                    }

                                    if (typeof smallImages !== "undefined" && smallImages !== null) {

                                        htmlString += '<ul id="bx-pager">';

                                        if (typeof smallImages === "object") {

                                            imageFlag = true;

                                            $.each(smallImages, function (key, val) {
                                                htmlString += '<li><a data-slide-index="' + imageCounter + '" href="#"><img src="' + app.SWGApplication.dataModel.protocol + val.substring(5) + '" alt="Hotel photo ' + (imageCounter + 1) + '" /></a></li>';
                                                imageCounter++;
                                            });

                                        } else {
                                            htmlString += '<li><a data-slide-index="' + imageCounter + '" href="#"><img src="' + app.SWGApplication.dataModel.protocol + smallImages.substring(5) + '" alt="Hotel photo ' + (imageCounter + 1) + '" /></a></li>';
                                        }

                                        htmlString += '</ul>';

                                        if (imageCounter) {
                                            imageTypeCounter++;
                                        }

                                        $(_element).find(".thumbs").html("");
                                        $(_element).find(".thumbs").html(htmlString);
                                        htmlString = "";

                                    } else {

                                        // No thumbnail images found
                                        htmlString = "";

                                        htmlString += '<ul class="bxslider">';
                                        htmlString += '<li><img src="/Content/images/hotel/error/photo-no-thumb-image-' + app.SWGApplication.dataModel.language + '.jpg" alt="Hotel photo placeholder" /></li>';
                                        htmlString += '</ul>';

                                        $(_element).find(".slideshow").html(htmlString);
                                        htmlString = "";
                                        $(_element).find(".thumbs").html(htmlString);
                                    }

                                    return imageFlag;
                                }

                                function initSlider(_element, _controls) {

                                    var infiniteFlag = ($(_element).find("li").length > 1) ? true : false;

                                    var settings = {
                                        auto: true,
                                        autoControls: true,
                                        controls: _controls,
                                        mode: "fade",
                                        autoResume: true,
                                        useCSS: true,
                                        captions: true,
                                        pagerCustom: "#bx-pager",
                                        pause: 5000,
                                        easing: (Modernizr.csstransitions) ? "ease-in-out" : "swing",
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        infiniteLoop: infiniteFlag,
                                        onSliderLoad: function ($thisSlider, currentIndex) {
                                            $thisSlider.closest("." + sliderWrapperClass).show();
                                            sliderLoadedFlag = true;

                                            loadPNTabbing($thisSlider);
                                        }
                                    };

                                    $(_element).find(".bxslider").bxSlider(settings);

                                    function loadPNTabbing(_thisSliderObj) {

                                        _thisSliderObj.next().find(".bx-prev").on("focus blur", function (e) {

                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }

                                        });

                                        _thisSliderObj.next().find(".bx-next").on("focus blur", function (e) {
                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }
                                        });
                                    }

                                }

                                function updateExcursionPage() {

                                    $.each(app.SWGApplication.dataModel.excursionStep3Array, function (key, property) {

                                        var serviceKey = Object.keys(property)[0];
                                        var DOMClass, headingClass;
                                        var dataValue = excursionJSONData[0][serviceKey];

                                        $.each(property[serviceKey], function (index, value) {
                                            DOMClass = value.domElement;
                                            headingClass = value.heading;
                                        });

                                        if (dataValue !== "") {
                                            $(".heading." + headingClass).show();
                                            $(".ws-data." + DOMClass).html("<p>" + dataValue + "</p>");

                                        } else {

                                            $(".heading." + headingClass).remove();
                                            $(".ws-data." + DOMClass).remove();
                                        }

                                    });

                                    var columnDIVs = $(".excursion-s3-data div[class*='col-']");

                                    $.each(columnDIVs, function (divIndex, divElement) {
                                        // Check if there are any empty columns
                                        if ($.isEmptyObject($.trim($(divElement).html()))) {
                                            // Remove 50% width classes with rows containing empty columns
                                            if ($(divElement).hasClass("col-sm-6")) {
                                                $(divElement).closest(".row").find(".col-sm-6").each(function (index, element) {
                                                    $(element).removeClass("col-sm-6");
                                                });
                                            }
                                            // Remove all empty columns
                                            $(divElement).remove();
                                        }

                                    });
                                }

                                function loadExcursionPromotions(_containerObj, _rowItems, _categoryGroup, _subCategoryGroup, _name) {

                                    var excursionDataSource = hotelServicesURL + "1/" + app.SWGApplication.dataModel.language + "/excursionsCountryDestination/";
                                    var excursionPromoQuery = excursionQuery.substr(0, excursionQuery.lastIndexOf("/"));
                                    var excursionPromoData;

                                    if (typeof excursionPromoQuery !== "undefined") {

                                        $.ajax({
                                            type: "GET",
                                            url: excursionDataSource + excursionPromoQuery,
                                            dataType: "json",
                                            cache: false,
                                            success: function (excursionData) {
                                                excursionPromoData = excursionData;
                                                analyzeExcursionData(_containerObj, excursionPromoData, _rowItems, _categoryGroup, _subCategoryGroup, _name);
                                            }
                                        });

                                    }
                                }

                                function analyzeExcursionData(_containerObj, _dataSource, _rowItems, _categoryGroup, _subCategoryGroup, _name) {

                                    var categoryMarker = [];
                                    var rowCounter = 0;
                                    var rowExtraSelection = 5;

                                    // Attempt 1: Select items from the same category
                                    $.each(_dataSource, function (catIndex, catValue) {

                                        if (catValue.categoryName === _categoryGroup) {
                                            categoryMarker.push(catIndex);

                                            $.each(catValue.subCategories, function (subIndex, subValue) {
                                                processSubCategory(subIndex, subValue);
                                            });

                                        }

                                    });

                                    // Attempt 2: Select items from different categories
                                    if (rowCounter < _rowItems) {

                                        // Loop through other categories
                                        $.each(_dataSource, function (catIndex, catValue) {

                                            if (catValue.categoryName !== _categoryGroup) {

                                                $.each(catValue.subCategories, function (subIndex, subValue) {
                                                    processSubCategory(subIndex, subValue);
                                                });

                                            }

                                        });

                                    }

                                    function processSubCategory(_subIndex, _subValue) {

                                        $.each(_subValue.excursions, function (exIndex, exValue) {
                                            var imageURL = "";

                                            // Omit any excursion with the same name
                                            if (_name !== exValue.excursionName && rowCounter < _rowItems + rowExtraSelection) {

                                                if (typeof exValue.excursionImages.Img16X9 !== "undefined") {
                                                    imageURL = app.SWGApplication.dataModel.protocol + exValue.excursionImages.Img16X9.substring(5);
                                                } else {
                                                    imageURL = app.SWGApplication.dataModel.protocol + exValue.excursionImages.Img4X3.substring(5);
                                                }

                                                app.SWGApplication.dataModel.excursionFeatures.push([{
                                                    "name": exValue.excursionName,
                                                    "fullName": exValue.excursionFullName,
                                                    "description": exValue.excursionShortDescription,
                                                    "subCategory": _subValue.subCategoryName,
                                                    "image": imageURL
                                                }]);

                                                rowCounter++;
                                            } else {
                                                return;
                                            }

                                        });

                                    }

                                    generateHTML(_containerObj, app.SWGApplication.dataModel.excursionFeatures, _rowItems, _subCategoryGroup);
                                }

                                function generateHTML(_containerObj, _dataSource, _rowItems, _subCategoryGroup) {

                                    var htmlString = "";
                                    var counter = 0;

                                    // Add some randomization to results
                                    _dataSource = app.SWGApplication.dataController.shuffleArray(_dataSource);

                                    // Create features with the same SubCategory
                                    $.each(_dataSource, function (index, value) {

                                        if (counter >= _rowItems) {
                                            return false;

                                        } else if (_subCategoryGroup === value[0].subCategory) {
                                            createHTML(value);
                                        }
                                    });

                                    if (counter < _rowItems) {

                                        // Create features with a different SubCategory
                                        $.each(_dataSource, function (index, value) {

                                            if (counter >= _rowItems) {
                                                return false;

                                            } else if (_subCategoryGroup !== value[0].subCategory) {
                                                createHTML(value);
                                            }
                                        });

                                    }

                                    function createHTML(value) {
                                        htmlString += '<div class="hover-panel-feature">';
                                        htmlString += '<div class="feature-item">';
                                        htmlString += '<div class="feature-container">';

                                        htmlString += '<a href="/' + app.SWGApplication.dataModel.language + '/excursions/' + ExcursionDictionary.country + '/' + ExcursionDictionary.destination + '/' + app.SWGApplication.dataController.classifyString(value[0].fullName, "urlConversionDictionary") + '" class="hover" title="' + value[0].name + '">';
                                        htmlString += '<span class="title-bar">' + value[0].name + '</span>';
                                        htmlString += '<img src="' + value[0].image + '" alt="' + value[0].name + '">';

                                        htmlString += '<span class="feature-bg">';
                                        htmlString += '<span class="cta-text">';
                                        htmlString += '<span class="text-wrapper">';
                                        htmlString += '<span class="text-description">';
                                        htmlString += value[0].description;
                                        htmlString += '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</a>';
                                        htmlString += '</div>';
                                        htmlString += '</div>';
                                        htmlString += '</div>';

                                        counter++;
                                    }

                                    if (counter >= _rowItems) {
                                        _containerObj.attr("data-row-items", _rowItems);
                                        _containerObj.html(htmlString);
                                    } else {
                                        _containerObj.attr("data-row-items", _rowItems);
                                        _containerObj.html(htmlString);
                                    }
                                }

                            },

                            loadDestinationsStep1: function () {

                                // Manual accordion tab load sequence
                                app.SWGApplication.dataView.displayAccordionTabs();

                                app.SWGApplication.dataController.loadDestinationMediaGalleries();

                                if (animateWallExists) app.SWGApplication.dataController.loadResponsiveHoverPanelGrid();

                                app.SWGApplication.dataController.loadResponsiveAdModuleTabs();

                                //app.SWGApplication.dataView.displayScrollNavigation();
                            },

                            loadDestinationsStep2: function () {

                                // Manual accordion tab load sequence
                                app.SWGApplication.dataView.displayAccordionTabs();

                                // Load Weather Tab
                                app.SWGApplication.dataView.displayWeather();

                                // Load media gallery
                                app.SWGApplication.dataController.loadDestinationMediaGalleries();

                                // Load hotel filter application
                                app.SWGApplication.dataController.loadHotelFilterApp();

                                $(".promo-module .show-more-button").on("click", function (e) {
                                    e.preventDefault();
                                });

                                // Attach click events to load dynamic content
                                app.SWGApplication.dataController.attachAjaxLoadEvent();
                                app.SWGApplication.dataView.displayScrollingTabs();

                                // Attach scroll behavior
                                //app.SWGApplication.dataView.displayScrollNavigation();

                                thisWindow.trigger("resize");
                            },

                            attachAjaxLoadEvent: function () {

                                // Loop through each tab and setup AJAX data retrieval routines, as required
                                $("#things-to-do .tab-list a").each(function (tabIndex, tabElement) {

                                    $(tabElement).on("click", { requirements: destinationTabRequirement }, function (e) {
                                        e.preventDefault();

                                        var thisHREF = $(tabElement).attr("href").replace("#", "");
                                        var thisTabData = $(tabElement).closest(".content-wrapper").find(".tab-content #" + thisHREF).data();

                                        // Load data if ajax is required
                                        if (thisTabData.ajax) {

                                            // Update data
                                            $.extend(true, e.data.requirements[thisHREF], thisTabData);

                                            // Load data based on web service call
                                            if (!$.isEmptyObject(e.data.requirements[thisHREF])) {
                                                app.SWGApplication.dataController.delegateDataLoader(e.data.requirements[thisHREF], thisHREF);
                                            }

                                        }

                                    });

                                });

                                // Load default
                                $("#things-to-do .tab-list .active > a").trigger("click");
                            },

                            delegateDataLoader: function (_requirementsArray, _tabID) {

                                switch (_requirementsArray.serviceAPI) {
                                    case "excursionsCountryDestination":
                                        app.SWGApplication.dataController.loadExcursionsLevel2(_requirementsArray, _tabID);
                                        break;

                                    case "destinationGolfInfo":
                                        app.SWGApplication.dataController.loadWebServiceAPI(_requirementsArray, _tabID);
                                        break;

                                    case "destinationSpaInfo":
                                        app.SWGApplication.dataController.loadWebServiceAPI(_requirementsArray, _tabID);
                                        break;

                                    case "destinationCasinoInfo":
                                        app.SWGApplication.dataController.loadWebServiceAPI(_requirementsArray, _tabID);
                                        break;
                                }

                            },

                            loadExcursionsLevel2: function (_requirementsArray, _id) {

                                var excursionDataSource = hotelServicesURL + "1/" + app.SWGApplication.dataModel.language + "/" + _requirementsArray.serviceAPI + "/";
                                var excursionQuery;
                                var destinationArray = "";
                                var requestHyphenFlag = false;

                                function getJSONRequest() {

                                    if (!$.isEmptyObject(excursionQuery)) {

                                        $.ajax({
                                            type: "GET",
                                            url: excursionDataSource + excursionQuery,
                                            dataType: "json",
                                            cache: false,
                                            success: function (data) {

                                                if (!$.isEmptyObject(data)) {
                                                    app.SWGApplication.dataController.displayAjaxTabData(data, _requirementsArray, _id);

                                                } else {
                                                    // Excursion data is unavailable
                                                    window.console && console.log("Excursion data is unavailable");

                                                    // Fallback in case there is a hyphen in the destination name
                                                    if (!requestHyphenFlag) {

                                                        excursionQuery = destinationArray[0] + "/" + destinationArray[1].replace(/[\s]/g, "-");
                                                        getJSONRequest();
                                                        requestHyphenFlag = true;
                                                    } else {
                                                        // Fallback failed
                                                        $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                                    }
                                                }
                                            },
                                            error: function (jqXHR, textStatus, errorThrown) {
                                                // Excursion service not available
                                                window.console && console.log("Excursion service not available");
                                            }

                                        });

                                    } else {
                                        window.console && console.log("Excursion query is invalid.");
                                    }

                                }

                                destinationArray = [_requirementsArray.country, _requirementsArray.destination];
                                excursionQuery = destinationArray[0].replace(/[-]/g, " ") + "/" + destinationArray[1].replace(/[-]/g, " ");
                                getJSONRequest();
                            },

                            displayAjaxTabData: function (_data, _requirementsArray, _id) {

                                // Load custom callback to process and display
                                app.SWGApplication.dataController[_requirementsArray.callback](_data, _requirementsArray, _id);
                            },

                            appendExcursionData: function (_data, _requirementsArray, _id) {

                                var dataArray = [];
                                var imageURL = "";
                                var currentSubCategory = "";
                                var paginationLimit = _requirementsArray.itemLimit;
                                var currentCount = 0, tempCounter = 0;

                                $.each(_data, function (catIndex, catValue) {

                                    $.each(catValue.subCategories, function (subIndex, subValue) {

                                        if (currentCount < paginationLimit) {

                                            $.each(subValue.excursions, function (exIndex, exValue) {

                                                if (tempCounter <= 0) {

                                                    imageURL = "";

                                                    try {

                                                        imageURL = app.SWGApplication.dataModel.protocol + exValue.excursionImages.Img16X9.substring(5);

                                                    } catch (error) {
                                                        // Missing image
                                                    }

                                                    dataArray.push({
                                                        "subCategory": subValue.subCategoryName,
                                                        "fullName": exValue.excursionFullName,
                                                        "description": exValue.excursionShortDescription,
                                                        "image": imageURL
                                                    });

                                                    currentSubCategory = subValue.subCategoryName;
                                                    tempCounter++;

                                                } else {
                                                    return;
                                                }
                                            });

                                            currentCount++;
                                            tempCounter = 0;

                                        } else {
                                            return;
                                        }

                                    });

                                });

                                // Update presentation
                                $(".excursion-tour-container").empty();

                                var htmlString = "";

                                $.each(dataArray, function (dataIndex, dataValue) {

                                    htmlString += '<div class="feature-container col-xs-12 col-md-6">';
                                    htmlString += '<div class="feature-item">';

                                    // START Header
                                    htmlString += '<div class="header">';
                                    htmlString += '<div class="title">' + dataValue.fullName + '</div>';

                                    //htmlString += '<div class="theme-logo">';
                                    //htmlString += '<img src="images/destinations/step2/aquatic-ex-logo.png" alt="Aquatic experiences">';
                                    //htmlString += '</div>';

                                    htmlString += '</div>';
                                    // END Header

                                    // START Content
                                    htmlString += '<div class="content-container dt">';

                                    htmlString += '<div class="image dtc" style="background-image: url(\'' + dataValue.image + '\');" title="' + dataValue.fullName + '"></div>';
                                    htmlString += '<div class="description dtc">';
                                    htmlString += '<div class="copy">';
                                    htmlString += '<p>';
                                    htmlString += dataValue.description;
                                    htmlString += '</p>';
                                    htmlString += '</div>';

                                    htmlString += '<div class="cta-btn">';
                                    htmlString += '<a href="/' + app.SWGApplication.dataModel.language + '/excursions/' + _requirementsArray.country + '/' + _requirementsArray.destination + '/' + app.SWGApplication.dataController.classifyString(dataValue.fullName, "urlConversionDictionary") + '" class="btn chevron-arrow">' + CommonDictionary.learnMore + '</a>';
                                    htmlString += '</div>';

                                    htmlString += '</div>';

                                    htmlString += '</div>';
                                    // END Content

                                    htmlString += '</div>';
                                    htmlString += '</div>';

                                    $(".excursion-tour-container").append(htmlString);
                                    htmlString = '';
                                });

                                $("#" + _id).find(".more").show();
                            },

                            appendGolfData: function (_data, _requirementsArray, _id) {

                                var dataArray = [];
                                var courseNameArray = [];

                                if (!$.isEmptyObject(_data)) {

                                    $.each(_data, function (golfIndex, golfValue) {

                                        if (app.SWGApplication.dataController.classifyString(golfValue.destinationName.toLowerCase(), "urlConversionDictionary") === app.SWGApplication.dataController.classifyString(CommonDictionary.destination.toLowerCase(), "urlConversionDictionary")) {

                                            $.each(golfValue.hotelGolfInfo.golfCourses, function (courseIndex, courseValue) {

                                                // Filter out duplicate names
                                                if ($.inArray(courseValue.name, courseNameArray) < 0) {

                                                    courseNameArray.push(courseValue.name);

                                                    dataArray.push({
                                                        "name": courseValue.name,
                                                        "address": courseValue.address ? courseValue.address : "<span class='italic'>N/A</span>",
                                                        "architect": courseValue.architect ? courseValue.architect : "<span class='italic'>N/A</span>",
                                                        "holes": courseValue.numOfHoles ? courseValue.numOfHoles : "<span class='italic'>N/A</span>",
                                                        "par": courseValue.par ? courseValue.par : "<span class='italic'>N/A</span>",
                                                        "priceRange": courseValue.priceRange ? courseValue.priceRange : "<span class='italic'>N/A</span>",
                                                        "greens": courseValue.greens ? courseValue.greens : "<span class='italic'>N/A</span>",
                                                        "fairways": courseValue.fairways ? courseValue.fairways : "<span class='italic'>N/A</span>",
                                                        "spikes": courseValue.spikesAllowed ? courseValue.spikesAllowed : "<span class='italic'>N/A</span>",
                                                        "yardage": courseValue.yardage ? courseValue.yardage.replace(/[\/]/g, " | ") : "<span class='italic'>N/A</span>",
                                                        "slope": courseValue.slope ? courseValue.slope.replace(/[\/]/g, " | ") : "<span class='italic'>N/A</span>",
                                                        "rating": courseValue.rating ? courseValue.rating.replace(/[\/]/g, " | ") : "<span class='italic'>N/A</span>",
                                                        "telephone": courseValue.telephone ? courseValue.telephone : "<span class='italic'>N/A</span>"
                                                    });

                                                }

                                            });
                                        } else {
                                            return;
                                        }
                                    });

                                    if (dataArray.length > 0) {

                                        var htmlString = "";

                                        dataArray.sort(app.SWGApplication.dataController.sortObject("name", false));

                                        (_requirementsArray.ajax) && $(".golf-container").empty();

                                        $("#" + _id).find(".more").on("click", function (e) {
                                            e.preventDefault();

                                            var timer = 0;

                                            app.SWGApplication.dataController.generateGolfData(dataArray, _requirementsArray, _id);

                                            viewportObj.find("#" + _id + " .feature-container-wrapper.hide").each(function (index, element) {
                                                $(element).delay(100 * index).show(function () {
                                                    $(this).removeAttr("style");
                                                    $(this).removeClass("hide");
                                                });

                                                timer = 100 * index;
                                            });

                                            // Handle more button display
                                            if (_requirementsArray.itemCounter >= dataArray.length || _requirementsArray.itemCounter > parseInt(_requirementsArray.itemLimit, 10)) {

                                                $(this).fadeOut();
                                            } else {

                                                if (_requirementsArray.itemLimit !== null) {
                                                    if (_requirementsArray.itemCounter >= _requirementsArray.itemLimit) {
                                                        this.init = false;
                                                    }
                                                }

                                                if (typeof this.init === "undefined") {
                                                    this.init = true;
                                                    $(this).delay(timer + 500).fadeIn(1000);
                                                }
                                            }

                                        });

                                        // Display initial data set 
                                        $("#" + _id).find(".more").trigger("click");

                                    } else {
                                        $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                    }

                                } else {
                                    $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                }
                            },

                            generateGolfData: function (_data, _requirementsArray, _id) {
                                var htmlString = "";
                                var counter = 1;
                                var paginationLimit = _requirementsArray.itemLimit;
                                var total = (paginationLimit) ? paginationLimit : _data.length;

                                $.each(_data, function (dataIndex, dataValue) {

                                    if (paginationLimit !== null) {
                                        if (dataIndex >= paginationLimit) {
                                            return;
                                        }
                                    }

                                    if (dataIndex >= _requirementsArray.itemCounter && dataIndex < _requirementsArray.itemCounter + _requirementsArray.itemInterval) {
                                        if (counter === 1) {
                                            htmlString += '<div class="feature-container dt">';
                                        }

                                        htmlString += '<div class="feature-container-wrapper dtc hide">';
                                        htmlString += '<div class="feature-item">';

                                        htmlString += '<div class="top-content">';
                                        htmlString += '<span class="course name">';
                                        htmlString += '<span class="data">' + dataValue.name + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course address">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfAddress + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.address + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course architect">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfArchitect + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.architect + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course telephone">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfTelephone + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.telephone + '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</div>';

                                        htmlString += '<div class="middle-content dt">';

                                        htmlString += '<div class="column dtc">';
                                        htmlString += '<span class="course no-holes">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfHoles + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.holes + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course fairways">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfFairways + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.fairways + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course yardage">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfYardage + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.yardage + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course rating">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfRating + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.rating + '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</div>';

                                        htmlString += '<div class="column dtc">';
                                        htmlString += '<span class="course par">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfPar + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.par + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course greens">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfGreens + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.greens + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course spikes">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfSpikes + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.spikes + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="course slope">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdGolfSlope + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.slope + '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</div>';

                                        htmlString += '</div>';

                                        htmlString += '<div class="bottom-content">';
                                        htmlString += '</div>';


                                        htmlString += '</div>';
                                        htmlString += '</div>';

                                        if (counter >= 2 || dataIndex >= total - 1) {

                                            if (counter == 1 && dataIndex >= total - 1) {
                                                htmlString += '<div class="feature-container-wrapper dtc empty hide"></div>';
                                            }

                                            htmlString += '</div>';
                                            counter = 0;
                                            $(".golf-container").append(htmlString);
                                            htmlString = '';
                                        }

                                        counter++;

                                    } else {
                                        return;
                                    }

                                });

                                _requirementsArray.itemCounter += _requirementsArray.itemInterval;
                            },

                            appendSpaData: function (_data, _requirementsArray, _id) {

                                var dataArray = [];

                                if (!$.isEmptyObject(_data)) {

                                    $.each(_data, function (hotelIndex, hotelValue) {

                                        if (app.SWGApplication.dataController.classifyString(hotelValue.destinationName.toLowerCase(), "urlConversionDictionary") === app.SWGApplication.dataController.classifyString(CommonDictionary.destination.toLowerCase(), "urlConversionDictionary")) {
                                            dataArray.push({
                                                "hotelName": hotelValue.hotelName,
                                                "offerList": hotelValue.hotelSpas
                                            });
                                        } else {
                                            return;
                                        }
                                    });

                                    if (dataArray.length > 0) {

                                        dataArray.sort(app.SWGApplication.dataController.sortObject("hotelName", false));

                                        (_requirementsArray.ajax) && $(".spa-container .feature-container").empty();

                                        $("#" + _id).find(".more").on("click", function (e) {
                                            e.preventDefault();

                                            var timer = 0;

                                            // Add HTML to DOM
                                            app.SWGApplication.dataController.generateSpaData(dataArray, _requirementsArray, _id);

                                            viewportObj.find("#" + _id + " .feature-container-wrapper.hide").each(function (index, element) {
                                                $(element).delay(100 * index).fadeIn("slow", function () {
                                                    $(this).removeClass("hide");
                                                });

                                                timer = 100 * index;
                                            });

                                            // Handle more button display
                                            if (_requirementsArray.itemCounter >= dataArray.length || _requirementsArray.itemCounter > parseInt(_requirementsArray.itemLimit, 10)) {

                                                $(this).fadeOut();
                                            } else {

                                                if (_requirementsArray.itemLimit !== null) {
                                                    if (_requirementsArray.itemCounter >= _requirementsArray.itemLimit) {
                                                        this.init = false;
                                                    }
                                                }

                                                if (typeof this.init === "undefined") {
                                                    this.init = true;
                                                    $(this).delay(timer + 500).fadeIn(1000);
                                                }
                                            }

                                        });

                                        // Display initial data set HTML
                                        $("#" + _id).find(".more").trigger("click");

                                    } else {
                                        $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                    }

                                } else {
                                    $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                }

                            },

                            generateSpaData: function (_data, _requirementsArray, _id) {

                                var htmlString = "";
                                var paginationLimit = _requirementsArray.itemLimit;

                                $.each(_data, function (dataIndex, dataValue) {

                                    if (paginationLimit !== null) {
                                        if (dataIndex >= paginationLimit) {
                                            return;
                                        }
                                    }

                                    if (dataIndex >= _requirementsArray.itemCounter && dataIndex < _requirementsArray.itemCounter + _requirementsArray.itemInterval) {

                                        htmlString += '<div class="feature-container-wrapper hide">';
                                        htmlString += '<a href="/' + app.SWGApplication.dataModel.language + "/hotel/" + app.SWGApplication.dataController.classifyString(CommonDictionary.country.toLowerCase(), "urlConversionDictionary") + "/" + CommonDictionary.destination + "/" + app.SWGApplication.dataController.classifyString(dataValue.hotelName, "urlConversionDictionary") + '" class="feature-item">';

                                        // START Content
                                        htmlString += '<div class="feature-content">';

                                        htmlString += '<span class="spa name">';
                                        htmlString += '<span class="data">' + dataValue.hotelName + '</span>';
                                        htmlString += '</span>';

                                        // START Description
                                        htmlString += '<div class="spa description scroll-bar">';
                                        htmlString += '<div class="data">';

                                        htmlString += '<ul class="bullet blue">';

                                        $.each(dataValue.offerList, function (offerIndex, offerValue) {
                                            htmlString += '<li>' + offerValue + '</li>';
                                        });

                                        htmlString += '</ul>';

                                        htmlString += '</div>';
                                        htmlString += '</div>';
                                        // END Description

                                        htmlString += '<span class="spa cta">';
                                        htmlString += '<span class="data">';
                                        htmlString += '<span>' + CommonDictionary.exploreAllServices + '</span>';
                                        htmlString += '</span>';
                                        htmlString += '</span>';

                                        htmlString += '</div>';
                                        // END Content

                                        htmlString += '</a>';
                                        htmlString += '</div>';

                                        $(".spa-container .feature-container").append(htmlString);

                                    } else {
                                        return;
                                    }

                                    htmlString = '';
                                });

                                _requirementsArray.itemCounter += _requirementsArray.itemInterval;
                            },

                            appendCasinoData: function (_data, _requirementsArray, _id) {

                                var dataArray = [];

                                if (!$.isEmptyObject(_data)) {

                                    $.each(_data, function (hotelIndex, hotelValue) {

                                        if (app.SWGApplication.dataController.classifyString(hotelValue.destinationName.toLowerCase(), "urlConversionDictionary") === app.SWGApplication.dataController.classifyString(CommonDictionary.destination.toLowerCase(), "urlConversionDictionary")) {

                                            $.each(hotelValue.hotelCasinosInfo.casinos, function (casinoIndex, casinoValue) {

                                                dataArray.push({
                                                    "casinoName": casinoValue.name,
                                                    "address": casinoValue.address,
                                                    "hours": casinoValue.hours,
                                                    "bars": casinoValue.numOfBars,
                                                    "restaurants": casinoValue.numOfRestaurants,
                                                    "games": casinoValue.games
                                                });

                                            });

                                        } else {
                                            return;
                                        }
                                    });

                                    if (dataArray.length > 0) {

                                        dataArray.sort(app.SWGApplication.dataController.sortObject("casinoName", false));

                                        (_requirementsArray.ajax) && $(".casino-container").empty();

                                        $("#" + _id).find(".more").on("click", function (e) {
                                            e.preventDefault();

                                            var timer = 0;

                                            app.SWGApplication.dataController.generateCasinoData(dataArray, _requirementsArray, _id);

                                            viewportObj.find("#" + _id + " .feature-container-wrapper.hide").each(function (index, element) {
                                                $(element).delay(100 * index).show(function () {
                                                    $(this).removeAttr("style");
                                                    $(this).removeClass("hide");
                                                });

                                                timer = 100 * index;
                                            });

                                            // Handle more button display
                                            if (_requirementsArray.itemCounter >= dataArray.length || _requirementsArray.itemCounter > parseInt(_requirementsArray.itemLimit, 10)) {

                                                $(this).fadeOut();
                                            } else {

                                                if (_requirementsArray.itemLimit !== null) {
                                                    if (_requirementsArray.itemCounter >= _requirementsArray.itemLimit) {
                                                        this.init = false;
                                                    }
                                                }

                                                if (typeof this.init === "undefined") {
                                                    this.init = true;
                                                    $(this).delay(timer + 500).fadeIn(1000);
                                                }
                                            }

                                        });

                                        // Display initial data set 
                                        $("#" + _id).find(".more").trigger("click");

                                    } else {
                                        $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                    }

                                } else {
                                    $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");
                                }
                            },

                            generateCasinoData: function (_data, _requirementsArray, _id) {
                                var htmlString = "";
                                var counter = 1;
                                var paginationLimit = _requirementsArray.itemLimit;
                                var total = (paginationLimit) ? paginationLimit : _data.length;

                                $.each(_data, function (dataIndex, dataValue) {

                                    if (paginationLimit !== null) {
                                        if (dataIndex >= paginationLimit) {
                                            return;
                                        }
                                    }

                                    if (dataIndex >= _requirementsArray.itemCounter && dataIndex < _requirementsArray.itemCounter + _requirementsArray.itemInterval) {
                                        if (counter === 1) {
                                            htmlString += '<div class="feature-container dt">';
                                        }

                                        htmlString += '<div class="feature-container-wrapper dtc hide">';

                                        htmlString += '<div class="feature-item">';
                                        htmlString += '<div class="feature-content">';

                                        htmlString += '<span class="casino name">';
                                        htmlString += '<span class="data">' + dataValue.casinoName + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="casino address">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdCasinoAddress + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.address + '</span>';
                                        htmlString += '</span>';

                                        htmlString += '<span class="casino hours">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdCasinoHours + ' </span>';
                                        htmlString += '<span class="data">' + dataValue.hours + '</span>';
                                        htmlString += '</span>';

                                        if (parseInt(dataValue.bars, 10) > 0) {
                                            htmlString += '<span class="casino no-bars">';
                                            htmlString += '<span class="heading">' + CommonDictionary.ttdCasinoBars + ' </span>';
                                            htmlString += '<span class="data">' + dataValue.bars + '</span>';
                                            htmlString += '</span>';
                                        }

                                        if (parseInt(dataValue.restaurants, 10) > 0) {
                                            htmlString += '<span class="casino no-restaurants">';
                                            htmlString += '<span class="heading">' + CommonDictionary.ttdCasinoRestaurants + ' </span>';
                                            htmlString += '<span class="data">' + dataValue.restaurants + '</span>';
                                            htmlString += '</span>';
                                        }

                                        htmlString += '<span class="casino games">';
                                        htmlString += '<span class="heading">' + CommonDictionary.ttdCasinoGames + '</span>';
                                        htmlString += '<span class="data">';

                                        $.each(dataValue.games, function (gamesIndex, gamesValue) {
                                            htmlString += " &bull; " + gamesValue + " ";
                                        });

                                        htmlString += '</span>';
                                        htmlString += '</span>';

                                        htmlString += '</div>';
                                        htmlString += '</div>';

                                        htmlString += '</div>';

                                        if (counter >= 2 || dataIndex >= total - 1) {

                                            if (counter == 1 && dataIndex >= total - 1) {
                                                htmlString += '<div class="feature-container-wrapper dtc empty hide"></div>';
                                            }

                                            htmlString += '</div>';
                                            counter = 0;
                                            $(".casino-container").append(htmlString);
                                            htmlString = '';
                                        }

                                        counter++;

                                    } else {
                                        return;
                                    }

                                });

                                _requirementsArray.itemCounter += _requirementsArray.itemInterval;
                            },

                            loadWebServiceAPI: function (_requirementsArray, _id) {

                                var wsQuery = hotelServicesURL + "1/" + app.SWGApplication.dataModel.language + "/" + _requirementsArray.serviceAPI + "/" + _requirementsArray.code;

                                $.ajax({
                                    type: "GET",
                                    url: wsQuery,
                                    dataType: "json",
                                    cache: false,
                                    success: function (data) {

                                        if (!$.isEmptyObject(data)) {

                                            app.SWGApplication.dataController.displayAjaxTabData(data, _requirementsArray, _id);
                                        } else {
                                            // Error message
                                            $("[id='" + _id + "']").html("<p>" + CommonDictionary.naInDestination + "</p>");

                                            // Data is unavailable
                                            window.console && console.log("Data is unavailable");
                                        }

                                        // Update data attributes
                                        $("#" + _id).attr("data-ajax", false);
                                        $("#" + _id).data("ajax", false);
                                        _requirementsArray.ajax = false;
                                        destinationTabRequirement[_id].ajax = false;

                                    },
                                    error: function (jqXHR, textStatus, errorThrown) {
                                        // Web service not available
                                        window.console && console.log("Web service not available");
                                    }
                                });

                            },

                            loadHotelFilterApp: function () {

                                // Load filter tabs
                                app.SWGApplication.dataController.initResponsiveDDTabs(filterWrapperObj);

                                // Display dateway alert message
                                $(".hotel-filter-application [name='departure-gateway']").one("change", function () {
                                    $(this).closest(".hotel-filter-application").find(".gateway-message").show();
                                });

                                // Activate hotel filter list view
                                app.SWGApplication.dataController.loadHotelFilterListView();

                                // Map & List view toggle button
                                $(".hotel-filter-application .menu-wrapper .filter-toggle .app-view").on("click", function (e) {
                                    e.preventDefault();

                                    if (typeof this.toggle === "undefined" || this.toggle === "list-view") {

                                        $(".hotel-filter-application .list-view").removeClass("show").addClass("hide");
                                        $(".hotel-filter-application .map-view").removeClass("hide").addClass("show");
                                        $(this).text("List view");

                                        this.toggle = "map-view";
                                    } else {

                                        $(".hotel-filter-application .list-view").removeClass("hide").addClass("show");
                                        $(".hotel-filter-application .map-view").removeClass("show").addClass("hide");
                                        $(this).text("Map view");

                                        this.toggle = "list-view";
                                    }
                                });
                            },

                            loadHotelFilterListView: function () {

                                productGroupObj.each(function (groupIndex, groupElement) {

                                    // Top header toggle switch
                                    $(groupElement).find(".toggle-cta").on("click", function (e) {
                                        e.preventDefault();

                                        if (typeof this.toggle === "undefined" || !this.toggle) {

                                            $(groupElement).removeClass("collapsed");
                                            $(this).find(".less").addClass("show").removeClass("hide");
                                            $(this).find(".more").removeClass("show").addClass("hide");
                                            this.toggle = true;
                                        } else {

                                            $(groupElement).addClass("collapsed");
                                            $(this).find(".less").removeClass("show").addClass("hide");
                                            $(this).find(".more").addClass("show").removeClass("hide");
                                            this.toggle = false;
                                        }

                                    });

                                    // Bottom panel toggle switch
                                    $(groupElement).find(".toggle-cta-hide").on("click", function (e) {
                                        e.preventDefault();
                                        $(this).closest(".product-container-group").find(".toggle-cta").trigger("click");
                                    });

                                    // Tab filter logic 
                                    viewportObj.on("click", ".filter", function (e) {
                                        e.preventDefault();

                                        var filterTotal = 0;

                                        if ($.isEmptyObject(this.total)) {
                                            this.total = $(groupElement).find(".product-item").length;
                                            this.counter = 0;
                                        }

                                        var filter = $(this).data("filter");

                                        if (filter) {

                                            filterTotal = $(groupElement).find(".product-item").filter(filter).length;

                                            // Update total
                                            updateTotal(this.total - $(groupElement).find(".product-item").not(filter).length);

                                            // Update DOM
                                            if (filterTotal <= 0) {
                                                $(groupElement).addClass("hide");
                                            } else {
                                                $(groupElement).removeClass("hide");
                                                $(groupElement).find(".product-item").removeClass("first-active");
                                            }

                                            if (filterTotal === 1) {
                                                $(groupElement).find(".toggle-cta").addClass("hide");
                                                $(groupElement).find(".toggle-cta-hide").addClass("hide");
                                            } else {
                                                $(groupElement).find(".toggle-cta").removeClass("hide");
                                                $(groupElement).find(".toggle-cta-hide").removeClass("hide");
                                            }

                                            $(groupElement).find(".product-item").not(filter).each(function (itemIndex, itemElement) {

                                                if ($(itemElement).is(":visible")) {
                                                    $(itemElement).fadeOut(100);
                                                } else {
                                                    $(itemElement).css("display", "none");
                                                }

                                                $(itemElement).removeClass("active");
                                            });

                                            $(groupElement).find(".product-item").filter(filter).stop().fadeIn(100, function () {
                                                $(this).removeAttr("style");
                                                $(this).addClass("active");
                                            });

                                            $(groupElement).find(".product-item").filter(filter).eq(0).addClass("first-active");

                                        } else {

                                            // Update total
                                            updateTotal($(groupElement).find(".product-item").length);

                                            // Update DOM
                                            $(groupElement).removeClass("hide");
                                            $(groupElement).find(".product-item").removeClass("first-active");
                                            $(groupElement).find(".toggle-cta").removeClass("hide");
                                            $(groupElement).find(".toggle-cta-hide").removeClass("hide");
                                            $(groupElement).find(".product-item").eq(0).addClass("first-active");
                                            $(groupElement).find(".product-item").addClass("active");

                                            $(groupElement).find(".product-item").stop().fadeIn(300, function () {
                                                $(this).removeAttr("style");
                                            });

                                        }

                                        function updateTotal(_total) {

                                            if (_total > 1) {
                                                $(groupElement).find(".total").text(_total);

                                                if ($(groupElement).hasClass("collapsed")) {
                                                    $(groupElement).find(".total").closest(".more").removeClass("hide").addClass("show");
                                                }

                                            } else {
                                                $(groupElement).find(".total").text(_total);

                                                if ($(groupElement).hasClass("collapsed")) {
                                                    $(groupElement).find(".total").closest(".more").removeClass("show").addClass("hide");
                                                }

                                            }

                                        }

                                    });

                                    // Update hotel name layout to float hotel ratings based on name length 
                                    function updateHotelName(_groupElement) {
                                        var hotelNameObj = $(_groupElement).find(".hotel-name .name");

                                        hotelNameObj.each(function (nameIndex, nameElement) {

                                            if ($(nameElement).get(0).scrollWidth <= $(nameElement).width() && $(nameElement).get(0).scrollWidth > 0) {
                                                $(nameElement).closest(".hotel-name").addClass("fluid");
                                            } else {
                                                $(nameElement).closest(".hotel-name").removeClass("fluid");
                                            }

                                        });

                                    }


                                });

                                viewportObj.find(".filter.default").trigger("click");
                            },

                            loadResponsiveAdModuleTabs: function () {

                                var totalTabs = $(".promo-module .tab-wrapper .tab-item").length;

                                if (totalTabs > 2) {
                                    $(".promo-module .tab-wrapper").responsiveDDTabManager({
                                        mobileBreakPoint: 475,
                                        menuWidth: 230,
                                        showMobileActiveText: true,
                                        onTabClicked: function (thisIndex, thisInstance) {
                                            $(".promo-description .description .text").children().removeClass("show").addClass("hide");
                                            $(".promo-description .description .text .content_" + (thisIndex + 1)).addClass("show");
                                        }
                                    });
                                } else {
                                    $(".promo-module .tab-wrapper").hide();
                                }

                            },

                            loadResponsiveHoverPanelGrid: function () {

                                var fwPluginInstance = null; // Freewall plugin instance

                                function setOptions(fwPluginInstance) {

                                    var fwOptions = {
                                        selector: ".hover-panel-feature",
                                        cellW: 250,
                                        cellH: 230,
                                        fixSize: false,
                                        delay: 20,
                                        gutterX: 15,
                                        gutterY: 15,
                                        animate: true,
                                        onResize: function () {
                                            this.refresh();
                                            this.fitWidth();
                                        }
                                    };

                                    fwPluginInstance = app.SWGApplication.dataController.initFreewallPlugin(fwPluginInstance, ".hover-panel-container.animate-wall", fwOptions);

                                    return fwPluginInstance;
                                }

                                fwPluginInstance = setOptions(fwPluginInstance);

                            },

                            loadDestinationMediaGalleries: function () {

                                var initGallery = false;
                                var videoSliderObj = $("#gallery-modal .video-gallery-slider");
                                var imageSliderObj = $("#gallery-modal .thumbnail-gallery-slider");

                                // Get video playlist information
                                var playList = videoSliderObj.data("play-list");

                                if (!!playList) {

                                    playList = playList.toString().split(",");

                                    // Update Data model
                                    app.SWGApplication.dataModel.videoPlayer["brightCove-SSL"]["playList"] = playList;

                                } else {
                                    window.console && console.log("Missing video playlist");
                                }

                                $(".video-gallery").on("click", function (e) {
                                    e.preventDefault();

                                    // value: json object or false
                                    var videoData = app.SWGApplication.dataController.detectVideoPlayerSSL();

                                    if (typeof videoData !== "boolean") {

                                        // Initialize gallery
                                        setTimeout(function () {
                                            var presentationData;

                                            app.SWGApplication.dataController.showVideoPlayList(videoSliderObj, videoData, presentationData);
                                            videoSliderObj.show();
                                        }, 100);

                                    } else {
                                        e.stopPropagation();
                                    }

                                });

                                $(".image-gallery").on("click", function (e) {
                                    e.preventDefault();

                                    // Initialize gallery
                                    var controls = (imageSliderObj.find(".bxslider li").length > 1) ? true : false;

                                    if (!controls) {
                                        imageSliderObj.find(".row-slideshow").addClass("one-slider");
                                    }

                                    setTimeout(function () {
                                        imageSliderObj.show();
                                        $("#gallery-modal .modal-dialog").addClass("modal-xlg");
                                        initSlider(imageSliderObj, controls);
                                    }, 100);
                                });

                                // Reset all content and JS
                                $("#gallery-modal").on("hidden.bs.modal", function (e) {
                                    $("#gallery-modal .gallery").hide();
                                    $("#gallery-modal .modal-dialog").removeClass("modal-xlg");
                                });

                                function initSlider(_element, _controls) {

                                    var infiniteFlag = ($(_element).find("li").length > 1) ? true : false;

                                    var settings = {
                                        auto: true,
                                        autoControls: true,
                                        controls: _controls,
                                        mode: "fade",
                                        autoResume: true,
                                        useCSS: true,
                                        captions: true,
                                        pagerCustom: "#bx-pager",
                                        pause: 5000,
                                        easing: (Modernizr.csstransitions) ? "ease-in-out" : "swing",
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        infiniteLoop: infiniteFlag,
                                        onSliderLoad: function ($thisSlider, currentIndex) {
                                            if (_controls) loadPNTabbing($thisSlider);
                                        }
                                    };

                                    if (typeof thumbnailGallerySliderPluginObj !== "undefined") {
                                        thumbnailGallerySliderPluginObj.destroySlider();
                                        $(_element).find("#bx-pager").off("click");
                                        $(_element).find(".bxslider li:not(:first-of-type)").hide();
                                    }

                                    setTimeout(function () {
                                        thumbnailGallerySliderPluginObj = $(_element).find(".bxslider").bxSlider(settings);
                                    }, 100);

                                    function loadPNTabbing(_thisSliderObj) {

                                        _thisSliderObj.next().find(".bx-prev").on("focus blur", function (e) {

                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }

                                        });

                                        _thisSliderObj.next().find(".bx-next").on("focus blur", function (e) {
                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }
                                        });
                                    }

                                }

                            },

                            showVideoPlayList: function (_videoDOMContainer, _settings, _display) {

                                generateVideoHTML(_videoDOMContainer, _settings, _display);

                                function generateVideoHTML(_videoDOMContainer, _settings, _display) {
                                    loadBrightcoveVideoSSL(_videoDOMContainer, _settings, _display);
                                }

                                function loadBrightcoveVideoSSL(_videoDOMContainer, _settings, _display) {

                                    var autoPlay = true; // default to autoplay video
                                    var controls = true;
                                    var html = "";

                                    html += "<div style='padding-top: 56.5%;'>";

                                    html += "<video class='video-js'";
                                    //html += (_settings.videoData.videoPlayList.length > 1) ? " data-playlist-id='" + _settings.videoData.videoPlayList[0] + "'" : " data-video-id='" + _settings.videoData.videoPlayList[0] + "'";
                                    html += " data-video-id='" + _settings.videoData.videoPlayList[0] + "'";

                                    html += " data-account='" + _settings.videoData.videoAccount + "'";
                                    html += " data-player='" + _settings.videoData.videoPlayer + "'";
                                    html += (autoPlay) ? " autoplay" : "";
                                    html += (controls) ? " controls" : "";
                                    html += " data-embed='default'";
                                    html += "></video>";

                                    html += "<script src='//players.brightcove.net/" + _settings.videoData.videoAccount + "/" + _settings.videoData.videoPlayer + "_default/index.min.js'></script>";

                                    //html += (_settings.videoData.videoPlayList.length > 1) ? "<ol class='vjs-playlist'></ol>" : "";

                                    html += "</div>";

                                    $(_videoDOMContainer).empty();
                                    $(_videoDOMContainer).append(html);
                                }

                            },

                            loadScrollableNavigation: function () {

                                // Mixed Media Navigation
                                scrollMoreObj.on("click", function (e) {
                                    e.preventDefault();

                                    scrollMoreNavigationObj.slideDown(500);
                                    $(this).slideUp(500);
                                });

                                if (scrollMoreNavigationObj.children().length > 0) {
                                    scrollMoreObj.fadeIn(2000);
                                }

                                // Attach click event for mixed media navigation
                                scrollNavigationObj.find("a").each(function (scrollIndex, scrollElement) {

                                    var href = $(scrollElement).attr("href");
                                    var scrollSpyID = href.replace("#", "");

                                    $(scrollElement).on("click", function (e) {
                                        e.preventDefault();
                                        app.SWGApplication.dataController.scrollViewport(scrollSpyID, 3000, null, 15);
                                    });

                                });

                                // Attach click event for sticky navigation
                                scrollStickyNavigationObj.find("a").each(function (scrollIndex, scrollElement) {

                                    var clickElementObj = $(scrollElement);
                                    var href = clickElementObj.attr("href");
                                    var scrollID = href.replace("#", "");
                                    var scrollState = true;
                                    var preScrollFN = clickElementObj.data("pre-scroll");
                                    var postScrollFN = clickElementObj.data("post-scroll");
                                    var delayTime = 0;

                                    clickElementObj.on("click", function (e) {

                                        if (href.substring(0, 1).indexOf("#") > -1) {

                                            e.preventDefault();

                                            // Load the pre scroll function
                                            if (preScrollFN) {
                                                app.SWGApplication.dataController[preScrollFN](scrollID, preScrollFN);
                                                delayTime = 300;
                                            }

                                            setTimeout(function () {

                                                scrollState = app.SWGApplication.dataController.scrollViewport(scrollID, 3000, (stickySideNavigationExists) ? null : scrollStickyNavigationObj, 5, postScrollFN);

                                                if (!scrollState) {
                                                    $(this).trigger("blur");
                                                    scrollState = true;
                                                }

                                            }, delayTime);

                                        }

                                    });

                                    // Determine if anchor is active
                                    if (href.substring(0, 1).indexOf("#") < 0 && window.location.href.indexOf(href) > -1) {
                                        clickElementObj.addClass("active");
                                    }

                                });

                                if (scrollStickyNavigationExists && scrollStickyNavigationObj.data("scroll-navigation") === true) {

                                    var frameObj = $(".sticky-navigation-container .navigation-wrapper");
                                    var parentObj = frameObj.parent();

                                    var options = {
                                        horizontal: true,
                                        itemNav: "basic",
                                        speed: 300,
                                        mouseDragging: true,
                                        touchDragging: true,
                                        smart: true,
                                        elasticBounds: false,
                                        easing: "easeOutExpo",
                                        prevPage: parentObj.find(".navigation-buttons .prevPage"),
                                        nextPage: parentObj.find(".navigation-buttons .nextPage")
                                    };

                                    horizontalMenuInstance = new Sly(".sticky-navigation-container .navigation-wrapper", options).init();
                                }

                                scrollIDObj.each(function (sIndex, sElement) {

                                    var clickElementObj = $(sElement);
                                    var scrollID = clickElementObj.attr("href").replace("#", "");
                                    var preScrollFN = clickElementObj.data("pre-scroll");
                                    var postScrollFN = clickElementObj.data("post-scroll");
                                    var delayTime = 0;

                                    if (scrollID.length > 0) {

                                        clickElementObj.on("click", function (e) {
                                            e.preventDefault();

                                            // check if global function is called
                                            if (typeof window[preScrollFN] === "function") {
                                                window[preScrollFN]();
                                            } else {

                                                // Load the pre scroll function
                                                if (typeof app.SWGApplication.dataController[preScrollFN] === "function") {
                                                    app.SWGApplication.dataController[preScrollFN](scrollID, preScrollFN);
                                                    delayTime = 300;
                                                }

                                            }

                                            setTimeout(function () {
                                                app.SWGApplication.dataController.scrollViewport(scrollID, 2000, null, 15, postScrollFN);
                                            }, delayTime);

                                        });

                                    }
                                });
                            },

                            updateScrollableNavigation: function () {

                                var headerObj = $("header");
                                var footerObj = $("footer");
                                var scrollStickyNavbarObj = scrollStickyNavigationObj.find(".sticky-navbar");
                                var stickyHeight = scrollStickyNavbarObj.outerHeight(true);

                                //if ( && stickyHeight > scrollStickyNavbarObj.parent().height()){

                                // Sticky Navigation 
                                if (scrollStickyNavigationExists && scrollStickyNavigationObj.is(":visible") && currentViewPort !== "xs") {

                                    var stickyWidth = scrollStickyNavigationObj.width();

                                    // Custom Bottom Limit
                                    var scrollBottom = scrollStickyNavigationObj.data("scroll-bottom");
                                    var scrollBottomObj = (!!scrollBottom && $(scrollBottom).length > 0) ? $(scrollBottom) : null;

                                    var windowBottom = viewportObj.get(0).scrollHeight;
                                    var bottomLimit = 0;

                                    // Update sticky nav width
                                    if (stickyWidth && stickySideNavigationExists) {
                                        scrollStickyNavbarObj.css("width", stickyWidth);
                                    }

                                    // Calculate bottom limit 
                                    if (scrollBottomObj !== null) {
                                        bottomLimit = scrollBottomObj.offset().top - stickyHeight - 15;
                                    } else if (footerObj.length > 0) {
                                        bottomLimit = footerObj.offset().top - stickyHeight - 15;
                                    } else {
                                        bottomLimit = windowBottom - stickyHeight;
                                    }

                                    var anchorScrollTop = $(".sticky-navigation-anchor").offset().top;

                                    if (windowScrollTop >= anchorScrollTop && !toggleScroll && windowScrollTop < bottomLimit) {
                                        toggleScroll = true;
                                        scrollStickyNavbarObj.addClass("navbar-fixed-top");

                                        // Destinations Level 2 search input
                                        scrollStickyNavigationObj.find(".search-bar .hotel-search").show();

                                    } else if (windowScrollTop < anchorScrollTop && toggleScroll && windowScrollTop < bottomLimit) {
                                        toggleScroll = false;
                                        scrollStickyNavbarObj.removeClass("navbar-fixed-top");

                                        // Destinations Level 2 search input
                                        scrollStickyNavigationObj.find("a").trigger("blur");
                                        scrollStickyNavigationObj.find("input").trigger("blur");
                                        scrollStickyNavigationObj.find(".search-bar .hotel-search").hide();

                                    } else {

                                        if (windowScrollTop >= bottomLimit) {
                                            scrollStickyNavbarObj.addClass("navbar-stop");

                                            var bottomPosition = 0;
                                            var headerOffset = parseInt(headerObj.find(".logo-menu-wrapper").css("margin-top"), 10);

                                            if (scrollBottomObj !== null) {

                                                if (stickySideNavigationExists) {
                                                    bottomPosition = bottomLimit - stickyHeight - (scrollStickyNavigationObj.outerHeight(true) - 32) + ((headerObj.length > 0) ? headerObj.height() : 0);
                                                } else {
                                                    bottomPosition = bottomLimit - stickyHeight + headerOffset;
                                                }

                                            } else if (headerObj.length > 0) {

                                                if (stickySideNavigationExists) {
                                                    bottomPosition = bottomLimit - stickyHeight - (scrollStickyNavigationObj.outerHeight(true) - 32) + ((headerObj.length > 0) ? headerObj.height() : 0);
                                                } else {
                                                    bottomPosition = bottomLimit - stickyHeight + headerOffset;
                                                }

                                            } else {
                                                bottomPosition = bottomLimit;
                                            }

                                            if (bottomPosition > 0) {
                                                scrollStickyNavbarObj.removeClass("navbar-static").css("top", bottomPosition);
                                            } else if (stickySideNavigationExists && stickyHeight > scrollStickyNavbarObj.parent().height()) {
                                                scrollStickyNavbarObj.addClass("navbar-static");
                                                scrollStickyNavbarObj.css("top", "");
                                            }

                                            scrollStickyNavigationObj.find("input").trigger("blur");

                                        } else {
                                            scrollStickyNavbarObj.removeClass("navbar-stop");
                                            scrollStickyNavbarObj.css("top", 0);
                                        }
                                    }
                                } else if (scrollStickyNavigationExists && scrollStickyNavigationObj.is(":visible")) {
                                    scrollStickyNavbarObj.addClass("navbar-stop");
                                    scrollStickyNavbarObj.css("top", "");
                                }

                                //}
                            },

                            scrollViewport: function (_scrollTarget, _scrollTime, _scrollElement, _vertOffset, _callback) {

                                var scrollPosition;

                                // Page scroll with user interuption
                                if (typeof _scrollTarget === "string") {

                                    if (_scrollTarget.length > 0 && $("[id='" + _scrollTarget + "']").length > 0) {
                                        scrollPosition = $("[id='" + _scrollTarget + "']").offset().top;
                                    } else {
                                        // Target not found
                                        return false;
                                    }

                                    if (_scrollElement !== null) {
                                        scrollPosition -= $(_scrollElement).outerHeight(true);
                                    }

                                    if (typeof _vertOffset === "number") {
                                        scrollPosition -= _vertOffset;
                                    }

                                } else if (typeof _scrollTarget === "number") {
                                    scrollPosition = _scrollTarget;
                                }

                                if (typeof scrollPosition !== "undefined" && windowScrollTop !== scrollPosition) {

                                    viewportObj.animate({
                                        scrollTop: scrollPosition
                                    }, _scrollTime, "easeOutExpo", function () {

                                        if (_callback) {

                                            // Check if global function is called
                                            if (typeof window[_callback] === "function") {
                                                window[_callback]();
                                            } else {

                                                // Check if internal function is called
                                                if (typeof app.SWGApplication.dataController[_callback] === "function") {
                                                    app.SWGApplication.dataController[_callback]();
                                                } else {
                                                    // Execute function literal
                                                    _callback();
                                                }

                                            }

                                        }

                                        $("[href='#" + _scrollTarget + "']").trigger("blur");

                                    });

                                }

                                // Stop the animation if the user interacts with the page
                                viewportObj.on("scroll mousedown DOMMouseScroll mousewheel", function (e) {

                                    if (e.which > 0 || e.type === "mousedown" || e.type === "mousewheel") {
                                        viewportObj.stop().off('scroll mousedown DOMMouseScroll mousewheel');
                                    }
                                });

                                return true;
                            },

                            classifyString: function (_dataSource, _dictionary) {

                                // Convert all invalid characters to dictionary safe characters
                                var modifiedString = _dataSource.toLowerCase().replace(/[^\w]/g, function (character) {
                                    return app.SWGApplication.dataModel[_dictionary][character] || character;
                                });

                                // Remove all underscores designated as redundant characters
                                modifiedString = $.trim(modifiedString).replace(/[_]/g, "");
                                // Change all white space to hyphens
                                modifiedString = $.trim(modifiedString).replace(/[\s]/g, "-");
                                return modifiedString;
                            },

                            getBrowserIE: function (_browser) {

                                if (_browser.indexOf("trident") > -1 || _browser.indexOf("msie") > -1) {
                                    var msieUA = (_browser.indexOf("msie") > -1) ? "msie" : "trident";

                                    var versionStartPos = _browser.indexOf(msieUA);
                                    var versionEndPos;
                                    var thisBrowser;

                                    if (msieUA === "trident") {
                                        versionEndPos = (_browser.indexOf(";", versionStartPos) > 0) ? _browser.indexOf(";", versionStartPos) : _browser.length;
                                        thisBrowser = _browser.substring(versionStartPos, versionEndPos).split("/");
                                        thisBrowser[1] = Math.abs(thisBrowser[1]) + 4;

                                    } else if (msieUA === "msie") {
                                        versionEndPos = (_browser.indexOf(";", versionStartPos) > 0) ? _browser.indexOf(";", versionStartPos) : _browser.length;
                                        thisBrowser = _browser.substring(versionStartPos, versionEndPos).split(" ");
                                    }

                                    return { ua: "msie", version: Math.abs(thisBrowser[1]) };

                                } else {
                                    return { ua: "other" };
                                }
                            },

                            shuffleArray: function (array) {
                                for (var i = array.length - 1; i > 0; i--) {
                                    var j = Math.floor(Math.random() * (i + 1));
                                    var temp = array[i];
                                    array[i] = array[j];
                                    array[j] = temp;
                                }
                                return array;
                            },

                            sortObject: function (_field, _reverse, _primer) {

                                var key = _primer ? function (x) { return _primer(x[_field]) } : function (x) { return x[_field] };

                                _reverse = !_reverse ? 1 : -1;

                                return function (a, b) {
                                    return a = key(a), b = key(b), _reverse * ((a > b) - (b > a));
                                }
                            },

                            detectVideoPlayer: function () {

                                if (!$.isEmptyObject(app.SWGApplication.dataModel.videoPlayer["brightCove"]["playList"]) && displayVideo) {
                                    videoPlayerID = app.SWGApplication.dataModel.videoPlayer["brightCove"]["playerID"];
                                    videoPlayerKey = app.SWGApplication.dataModel.videoPlayer["brightCove"]["playerKey"];
                                    videoPlayList = app.SWGApplication.dataModel.videoPlayer["brightCove"]["playList"];
                                    playVideo = true;
                                } else {
                                    playVideo = false;
                                }

                                return (playVideo) ? { "videoData": { "videoPlayerID": videoPlayerID, "videoPlayerKey": videoPlayerKey, "videoPlayList": videoPlayList } } : playVideo;

                            },

                            detectVideoPlayerSSL: function () {

                                if (!$.isEmptyObject(app.SWGApplication.dataModel.videoPlayer["brightCove-SSL"]["playList"]) && displayVideo) {
                                    videoPlayer = app.SWGApplication.dataModel.videoPlayer["brightCove-SSL"]["player"];
                                    videoAccount = app.SWGApplication.dataModel.videoPlayer["brightCove-SSL"]["account"];
                                    videoPlayList = app.SWGApplication.dataModel.videoPlayer["brightCove-SSL"]["playList"];
                                    playVideo = true;
                                } else {
                                    playVideo = false;
                                }

                                return (playVideo) ? { "videoData": { "videoPlayer": videoPlayer, "videoAccount": videoAccount, "videoPlayList": videoPlayList } } : playVideo;

                            },

                            loadScrollingTabs: function () {

                                // Load menu scrolling
                                var frameObj = $(".scrolling-tabs .scroll-container");
                                var parentObj = frameObj.parent();

                                var options = {
                                    horizontal: true,
                                    itemNav: "basic",
                                    speed: 300,
                                    mouseDragging: true,
                                    touchDragging: true,
                                    smart: true,
                                    elasticBounds: false,
                                    easing: "easeOutExpo",
                                    prevPage: parentObj.find(".scroll-buttons .prevPage"),
                                    nextPage: parentObj.find(".scroll-buttons .nextPage")
                                };

                                horizontalTabMenuInstance = new Sly(".scrolling-tabs .scroll-container", options).init();
                                horizontalTabMenuInstance["init"] = true;

                                thisWindow.trigger("resize");

                            },

                            loadThumbnailGallery: function (_element, _controls) {

                                function initSlider(_element, _controls) {

                                    var infiniteFlag = ($(_element).find("li").length > 1) ? true : false;

                                    var settings = {
                                        auto: true,
                                        autoControls: true,
                                        controls: _controls,
                                        mode: "fade",
                                        autoResume: true,
                                        useCSS: true,
                                        captions: true,
                                        pagerCustom: "#bx-pager",
                                        pause: 5000,
                                        easing: (Modernizr.csstransitions) ? "ease-in-out" : "swing",
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        infiniteLoop: infiniteFlag,
                                        onSliderLoad: function ($thisSlider, currentIndex) {
                                            loadPNTabbing($thisSlider);
                                        }
                                    };

                                    if (typeof thumbnailGallerySliderPluginObj !== "undefined") {
                                        thumbnailGallerySliderPluginObj.destroySlider();
                                        $(_element).find("#bx-pager").off("click");
                                        $(_element).find(".bxslider li:not(:first-of-type)").hide();
                                    }

                                    setTimeout(function () {
                                        thumbnailGallerySliderPluginObj = $(_element).find(".bxslider").bxSlider(settings);
                                    }, 100);

                                    function loadPNTabbing(_thisSliderObj) {

                                        _thisSliderObj.next().find(".bx-prev").on("focus blur", function (e) {

                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }

                                        });

                                        _thisSliderObj.next().find(".bx-next").on("focus blur", function (e) {
                                            if (e.type === "focus") {
                                                $(this).closest(".bx-controls").addClass("opacity-full");
                                            } else {
                                                $(this).closest(".bx-controls").removeClass("opacity-full");
                                            }
                                        });
                                    }

                                }

                                initSlider(_element, _controls);
                            },

                            loadAccordionPanels: function (_id) {

                                // Outer panel listeners
                                $(_id + " .panel > .panel-collapse.collapse").on("show.bs.collapse", function () {
                                    $(this).parent().find(".fa-angle-right").removeClass("fa-angle-right").addClass("fa-angle-down");

                                }).on("hide.bs.collapse", function () {
                                    $(this).parent().find(".fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-right");
                                });

                                // Inner panel listeners
                                $(_id + " .fa-plus-min .panel > .panel-collapse.collapse").on("show.bs.collapse", function (e) {
                                    e.stopImmediatePropagation();
                                    $(this).parent().find(".fa-plus-circle").removeClass("fa-plus-circle").addClass("fa-minus-circle");

                                }).on("hide.bs.collapse", function (e) {
                                    e.stopImmediatePropagation();
                                    $(this).parent().find(".fa-minus-circle").removeClass("fa-minus-circle").addClass("fa-plus-circle");
                                });

                            },

                            loadModalThumbnail: function () {

                                modalThumbnailObj.each(function (mtIndex, mtElement) {

                                    $(mtElement).on("click", function (e) {
                                        e.preventDefault();

                                        modalWindowObj.find(".modal-body").empty();

                                        var thumbnailTitle = $(this).attr("title");

                                        modalWindowObj.find(".modal-title").html(thumbnailTitle);
                                        $($(this).html()).appendTo("#" + modalWindowObj.attr("id") + " .modal-body");

                                        modalWindowObj.modal({
                                            show: true
                                        });
                                    });

                                });

                            },

                            loadModalPopOver: function () {

                                popOverTriggerObj.each(function (mpIndex, mpElement) {

                                    $(mpElement).on("click mouseenter focus", function (e) {
                                        e.preventDefault();

                                        if (currentViewPort === "xs" && (e.type === "click")) {
                                            modalWindowObj.find(".modal-body").empty();
                                            modalWindowObj.find(".modal-title").empty();
                                            modalWindowObj.find(".modal-header").hide();

                                            $($(this).parent().find(".popover-selection-content").clone()).appendTo("#" + modalWindowObj.attr("id") + " .modal-body");
                                            modalWindowObj.modal({
                                                show: true
                                            });

                                        } else {
                                            e.preventDefault();
                                            e.stopPropagation();

                                            app.SWGApplication.dataController.refreshModalPopOver();
                                        }

                                    });

                                });

                            },

                            refreshModalPopOver: function () {

                                var positionArray = [
                                    {
                                        "tl": "tr",
                                        "tr": "tl",
                                        "bl": "br",
                                        "br": "bl"
                                    }
                                ];

                                popOverTriggerObj.each(function (mpIndex, mpElement) {

                                    if (currentViewPort !== "xs") {
                                        var popOverLeft = $(mpElement).parent().find(".popover-selection-content").offset().left;
                                        var positionClass = $(mpElement).closest(".popover-container").attr("class");
                                        var windowOverflow = (viewportObj.get(0).scrollWidth > viewportObj.width()) ? true : false;

                                        if (popOverLeft < 0 || windowOverflow) {

                                            for (var classItem in positionArray[0]) {

                                                if (positionClass.indexOf(classItem) > -1) {

                                                    $.each(positionArray, function (pIndex, pValue) {
                                                        $(mpElement).closest(".popover-container").removeClass().addClass("popover-container " + pValue[classItem]);
                                                    });

                                                }

                                            }

                                        }

                                    }

                                });

                            },

                            expandAccordion: function (_scrollID, _preScroll) {

                                var accordionElement = $("[id='" + _scrollID + "']");

                                if (accordionElement.attr("aria-expanded") == "false") {
                                    accordionElement.trigger("click");
                                }

                            },

                            showOneItinerary: function (_itinerary) {

                                if (_itinerary) {

                                    $(".panel[data-itinerary]").each(function (itineraryIndex, itineraryElement) {

                                        if ($(itineraryElement).data("itinerary").length > 0) {

                                            if ($(itineraryElement).data("itinerary").toLowerCase() !== _itinerary.toLowerCase()) {
                                                $(itineraryElement).addClass("hide");

                                            } else {
                                                var itineraryTabObj = $(itineraryElement).find(".panel-heading a");

                                                if (itineraryTabObj.attr("aria-expanded") == "false") {
                                                    itineraryTabObj.trigger("click");
                                                }
                                            }

                                        }
                                    });

                                }

                            },

                            loadWeatherToggle: function () {

                                var thisMonth = moment().month() + 1;

                                // Set active month
                                weatherCalendarObj.find("[data-month='" + thisMonth + "']").addClass("active");

                                // Click events to toggle imperial and metric content
                                weatherCalendarControlsObj.find("a.celsius").on("click", function (e) {
                                    e.preventDefault();

                                    weatherCalendarObj.children(".fahrenheit").hide();
                                    weatherCalendarObj.children(".celsius").show();
                                    $(this).addClass("active");
                                    weatherCalendarControlsObj.find("a.fahrenheit").removeClass("active");

                                });

                                weatherCalendarControlsObj.find("a.fahrenheit").on("click", function (e) {
                                    e.preventDefault();

                                    weatherCalendarObj.children(".celsius").hide();
                                    weatherCalendarObj.children(".fahrenheit").show();

                                    $(this).addClass("active");
                                    weatherCalendarControlsObj.find("a.celsius").removeClass("active");

                                });

                            },

                            updateVacationFinderTab: function () {

                                if (!vacationFinderTabObj.is(":visible") && searchBoxExists) {
                                    if (windowScrollTop > (searchBoxObj.offset().top + searchBoxObj.outerHeight(true)) && !vacationFinderInit) {
                                        vacationFinderTabObj.addClass("animate");
                                        vacationFinderInit = true;
                                    } else if (windowScrollTop > (searchBoxObj.offset().top + searchBoxObj.outerHeight(true)) && !vacationFinderDisplay && !vacationFinderTabObj.is(":animated") && vacationFinderInit) {
                                        showTab();
                                    }

                                } else if (vacationFinderTabObj.is(":visible") && searchBoxExists && vacationFinderInit) {
                                    if (windowScrollTop <= (searchBoxObj.offset().top + searchBoxObj.outerHeight(true)) && vacationFinderDisplay) {
                                        vacationFinderDisplay = false;
                                        hideTab();
                                    } else if (windowScrollTop > (searchBoxObj.offset().top + searchBoxObj.outerHeight(true)) && !vacationFinderDisplay && !vacationFinderTabObj.is(":animated")) {
                                        vacationFinderDisplay = true;
                                        showTab();
                                    }

                                }

                                function hideTab() {

                                    vacationFinderTabObj.animate({
                                        right: -vacationFinderTabObj.width()
                                    }, 1000, "easeOutExpo");

                                }

                                function showTab() {

                                    vacationFinderTabObj.animate({
                                        right: 0
                                    }, 1000, "easeOutExpo");

                                }
                            },

                            loadFeatureRecommendations: function () {

                                var elementArray = [];

                                // Attach toggle click events
                                featureRecommendationsObj.find(".feature-deal > a").each(function (fIndex, fElement) {

                                    // Feature promotion click event
                                    $(fElement).on("click", function (e) {
                                        e.preventDefault();

                                        if (typeof $(this).data("toggle") === "undefined" || !$(this).data("toggle")) {
                                            $(this).closest(".recommendation-item").addClass("active");
                                            $(this).data("toggle", true);
                                        } else {
                                            $(this).closest(".recommendation-item").removeClass("active");
                                            $(this).data("toggle", false)
                                        }

                                        if ($(this).closest(".recommendation-item").hasClass("active")) {
                                            if (typeof $(this).data("promo-loaded") === "undefined") {

                                                var url = $(fElement).attr("href");
                                                makeCall(fElement, url);
                                                var url = $(this).attr("href");
                                                $(this).closest(".recommendation-item").find(".side-menu .see-all").attr("href", url);
                                                $(this).data("promo-loaded", true);
                                            }
                                        }

                                        resetToggle(fElement);
                                        app.SWGApplication.dataController.displaySlider(fElement);

                                    });

                                    function attachCloseEvent(_fElement) {

                                        // Rule close button
                                        $(_fElement).closest(".recommendation-item").find(".close-rule a").on("click", function (e) {
                                            e.preventDefault();

                                            $(_fElement).closest(".recommendation-item").removeClass("active");
                                            $(_fElement).data("toggle", false);

                                            if (!$(_fElement).closest(".recommendation-item").find(".recommendation-rules").data("slider")) {
                                                app.SWGApplication.dataController.displaySlider(_fElement);
                                            }
                                        });

                                    }

                                    function makeCall(_thisElement, _url) {

                                        var pageRule = $(_thisElement).attr("data-rule");

                                        $.ajax({
                                            type: "POST",
                                            async: true,
                                            url: "/Home/_Promo",
                                            data: {
                                                pageCode: pageRule
                                            },
                                            dataType: "html",
                                            success: function (data) {

                                                $(_thisElement).closest(".recommendation-item").find(".recommendation-rules").html(data);
                                                $(_thisElement).closest(".recommendation-item").addClass("active-promo");
                                                $(_thisElement).closest(".recommendation-item").find(".loader").addClass("hide");
                                                $(_thisElement).closest(".recommendation-item").find(".side-menu .see-all").attr("href", "/" + app.SWGApplication.dataModel.language + _url);

                                                attachCloseEvent(_thisElement);
                                                app.SWGApplication.dataController.displaySlider(_thisElement);
                                            },
                                            error: function (xhr, textStatus, errorThrown) {
                                                var htmlString = "";

                                                $(_thisElement).closest(".recommendation-item").addClass("active");

                                                htmlString += '<div class="recommendation-rules dt">';
                                                htmlString += '<div class="loader">';
                                                htmlString += '<div class="load-content">';
                                                htmlString += '<div class="loader">';
                                                htmlString += '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>';
                                                htmlString += '<span class="sr-only">' + HomeDictionary.loading + '</span>';
                                                htmlString += '<span class="message">' + HomeDictionary.loadingStatusMessage + '</span>';
                                                htmlString += '</div>';
                                                htmlString += '</div>';
                                                htmlString += '</div>';
                                                htmlString += '</div>';

                                                $(_thisElement).closest(".recommendation-item").find(".recommendation-rules").html(htmlString);

                                                var errorMessage = (typeof HomeDictionary.loadErrorMessage !== "undefined") ? HomeDictionary.loadErrorMessage.replace("#", '/' + app.SWGApplication.dataModel.language + _url) : "Missing error message";

                                                $(_thisElement).closest(".recommendation-item").find(".loader .message").html("<span>" + errorMessage + "</span>");
                                            }
                                        });
                                    }

                                    function resetToggle(_thisElement) {
                                        $.each(elementArray, function (eIndex, eElement) {
                                            if (_thisElement !== eElement) {
                                                $(eElement).closest(".recommendation-item").removeClass("active");
                                                $(eElement).data("toggle", false);
                                            }
                                        });
                                    }

                                    elementArray.push(fElement);
                                });

                            },

                            // Determine create or destroy operation of rules slider instance
                            displaySlider: function (_anchor) {

                                var sliderID = $(_anchor).closest(".recommendation-item").find(".recommendation-rules").data("slider");
                                var validPromo = $(_anchor).closest(".recommendation-item").hasClass("active-promo");

                                if (validPromo) {

                                    if (currentViewPort === "xs" && typeof sliderID === "undefined") {
                                        app.SWGApplication.dataController.loadSlider($(_anchor).closest(".recommendation-item").find(".recommendation-rules"));
                                    } else if (currentViewPort !== "xs" && typeof sliderID !== "undefined") {
                                        app.SWGApplication.dataController.unLoadSlider($(_anchor).closest(".recommendation-item").find(".recommendation-rules"), sliderID);
                                    }

                                }

                            },

                            loadSlider: function (_bxSlider) {

                                var bxSliderCount = _bxSlider.find(".rule-item").length;

                                var infiniteLoop;
                                var controls;
                                var buttonHTML = "";

                                if (bxSliderCount <= 1) {
                                    infiniteLoop = false;
                                    controls = false;

                                    _bxSlider.find("." + featureRuleSliderPager).hide();
                                    _bxSlider.find("." + featureRuleSliderWrapperClass).hide();

                                } else {

                                    featureRuleSlideShowObj = _bxSlider.find("." + featureRuleSliderWrapperClass);

                                    infiniteLoop = true;
                                    controls = true;

                                    for (var i = 0; i < bxSliderCount; i++) {
                                        buttonHTML += '<a data-slide-index="' + i + '" href></a>';
                                        buttonHTML += '\n'; // add newline character
                                    }

                                    _bxSlider.find("." + featureRuleSliderPager).html(buttonHTML);

                                }

                                featureRuleSliderPluginObj = _bxSlider.find(".bxslider-rule").bxSlider({
                                    autoControls: true,
                                    autoResume: true,
                                    useCSS: true,
                                    responsive: false,
                                    hideControlOnEnd: true,
                                    adaptiveHeight: true,
                                    pagerCustom: ".active ." + featureRuleSliderPager,
                                    wrapperClass: featureRuleSliderWrapperClass,
                                    pause: 8000,
                                    speed: 1000,
                                    slideMargin: 15,
                                    easing: (Modernizr.csstransitions) ? "easeOutExpo" : "swing",
                                    prevText: '<i class="fa fa-angle-left"></i>',
                                    nextText: '<i class="fa fa-angle-right"></i>',
                                    infiniteLoop: false,
                                    onSliderLoad: function (currentIndex) {

                                        $.each(currentIndex, function (key, property) {
                                            $(currentIndex).find(".bxslider-rule").children().not(".bx-clone").eq(key).addClass("active");
                                            return;
                                        });

                                    },

                                    onSlideBefore: function ($slideElement) {
                                        $slideElement.parent().children().removeClass("active");
                                        $slideElement.addClass("active");
                                    }
                                });

                                var uniqueId = featureRuleSliderInstanceCounterArray.push(featureRuleSliderInstanceCounterArray.length + 1);

                                // Track new slider instance
                                _bxSlider.attr("data-slider", uniqueId);
                                featureRuleSliderInstanceArray.push([featureRuleSliderPluginObj, _bxSlider, uniqueId]);
                            },

                            unLoadSlider: function (_bxSlider, _sliderID) {

                                var pluginIndexTracker;

                                $.each(featureRuleSliderInstanceArray, function (pluginIndex, pluginValue) {

                                    if (_sliderID === pluginValue[2]) {
                                        pluginValue[0].destroySlider();
                                        $(pluginValue[1]).find("." + featureRuleSliderPager).empty();
                                        $(pluginValue[1]).removeAttr("data-slider").removeData();
                                        $(pluginValue[1]).find(".bxslider-rule").removeData();

                                        pluginIndexTracker = pluginIndex;
                                        return;
                                    }
                                });

                                featureRuleSliderInstanceArray = $.grep(featureRuleSliderInstanceArray, function (n, i) {
                                    return i !== pluginIndexTracker;
                                });

                            },

                            updateFeatureRecommendations: function () {

                                featureRecommendationsObj.each(function (fIndex, fElement) {

                                    if ($(fElement).hasClass("active")) {

                                        app.SWGApplication.dataController.displaySlider(fElement);

                                    }

                                });

                            },

                            showFeatureRecommendations: function () {
                                // remove loading screen

                            }

                        }
                    };

                    // Delay the loading of this script due to dependencies not loaded in time
                    app.SWGApplication.dataView.init();

                    /*//////////////////////////////////////////////////////////////////////////////////
                    // GLOBAL: Window Events
                    //////////////////////////////////////////////////////////////////////////////////*/

                    function loadWindowsEvents() {

                        scriptLoaded = true;

                        /*//////////////////////////////////////////////////////////////////////////////////
                        // EXECUTION INITIALIZATION: Window Events
                        //////////////////////////////////////////////////////////////////////////////////*/

                        thisWindow.on("resize", throttle(function () {

                            viewPortWidth = app.SWGApplication.dataController.checkBrowserWidth();

                            windowScrollHeight = viewportObj.get(0).scrollHeight;

                            if (viewport.is("xs")) { // mq < 768px (mobile)
                                currentViewPort = "xs";
                            } else if (viewport.is("sm")) { // mq < 992px (tablet)
                                currentViewPort = "sm";
                            } else if (viewport.is("md")) { // mq < 1200px (small desktop)
                                currentViewPort = "md";
                            } else { // mq = 1200px (large desktop)
                                currentViewPort = "lg";
                            }

                            // check when viewport changes
                            if (prevViewPort !== currentViewPort) {
                                prevViewPort = currentViewPort;
                                viewPortChange = true;
                                app.SWGApplication.dataModel.viewPortChange = viewPortChange;
                                windowScrollTop = thisWindow.scrollTop();
                            } else {
                                viewPortChange = false;
                                app.SWGApplication.dataModel.viewPortChange = viewPortChange;
                            }

                            thisWindow.trigger("scroll");

                            // Detect Primary Slider 
                            if ($.fn.bxSlider && sliderExists && viewPortChange) {

                                if (currentViewPort === "xs" && mobileSliderExists) {
                                    app.SWGApplication.dataController.unloadPrimarySlider();
                                } else if (currentViewPort !== "xs" && !sliderLoadedFlag || currentViewPort === "xs" && !sliderLoadedFlag && !mobileSliderExists) {
                                    app.SWGApplication.dataController.loadPrimarySlider();
                                }
                            }

                            mobileSliderExists = ($.fn.bxSlider && mobileSliderObj.length > 0 && !mobileSliderObj.hasClass("over-ride")) ? true : false;

                            // Detect Primary Mobile Slider 
                            if ($.fn.bxSlider && mobileSliderExists && viewPortChange && mobileSliderExists) {

                                if (currentViewPort === "xs" && !mobileSliderLoadedFlag) {
                                    app.SWGApplication.dataController.loadMobileSlider();

                                } else if (currentViewPort !== "xs" && mobileSliderLoadedFlag) {
                                    app.SWGApplication.dataController.unloadMobileSlider();
                                }
                            }

                            // Update jQuery UI Dropdowns Autocomplete Instances
                            if ($(".ui-autocomplete").is(":visible")) {

                                if (headerSearchBoxObj.is(":visible")) {
                                    headerSearchBoxObj.autocomplete("search");
                                } else {
                                    headerSearchBoxObj.autocomplete("close");
                                }

                                if (departureGatewayObj.is(":visible")) {
                                    departureGatewayObj.autocomplete("search");
                                } else {
                                    departureGatewayObj.autocomplete("close");
                                }

                                if (arrivalGatewayObj.is(":visible")) {
                                    arrivalGatewayObj.autocomplete("search");
                                } else {
                                    arrivalGatewayObj.autocomplete("close");
                                }

                            }

                            // Sunwing Mobile App vertical / horizontal detection
                            app.SWGApplication.dataController.getSlideVorH();

                            // Detect and reload Carousel Slider(s)
                            if ($.fn.bxSlider && slideCarouselExists && viewPortChange) {

                                if (slideCarouselLoadedFlag) {
                                    app.SWGApplication.dataController.reloadCarouselSlider();
                                    app.SWGApplication.dataController.updateCarouselPager();
                                }

                            }

                            setTimeout(function () {
                                app.SWGApplication.dataController.updateCarouselPager();
                            }, 100);

                            // Detect and reload on viewport change
                            if (viewPortChange && multiColumnTableObj.is(":visible")) {
                                app.SWGApplication.dataController.loadMultiColumnTable();
                            }

                            // Detect and reload on viewport change
                            if (viewPortChange && currentViewPort !== "xs" && accordionTabExists) {
                                app.SWGApplication.dataController.reloadAccordionTab();
                            }

                            if (viewPortChange && !$.isEmptyObject(horizontalMenuInstance)) {
                                horizontalMenuInstance.reload();

                                if (scrollStickyTabListObj.width() > scrollStickyNavigationObj.find(".navigation-wrapper").width()) {
                                    scrollStickyNavigationObj.find(".navigation-buttons").addClass("show");
                                } else {
                                    scrollStickyNavigationObj.find(".navigation-buttons").removeClass("show");
                                }
                            }

                            if (!$.isEmptyObject(horizontalTabMenuInstance)) {

                                if (viewPortChange || horizontalTabMenuInstance.init === true || currentViewPort === "xs") {

                                    horizontalTabMenuInstance.reload();

                                    if ($(".scrolling-tabs").find(".tab-list").width() > $(".scrolling-tabs").find(".scroll-container").width()) {
                                        $(".scrolling-tabs").find(".scroll-buttons").addClass("show");
                                        $(".scrolling-tabs").addClass("add-margin");
                                    } else {
                                        $(".scrolling-tabs").find(".scroll-buttons").removeClass("show");
                                        $(".scrolling-tabs").removeClass("add-margin");
                                    }

                                    if (horizontalTabMenuInstance.init === true) {
                                        horizontalTabMenuInstance.init = false;
                                    }

                                }
                            }

                            // Update Popover
                            if (popOverTriggerExists && currentViewPort !== "xs") {
                                app.SWGApplication.dataController.refreshModalPopOver();
                            }

                            // Update sticky navigation
                            app.SWGApplication.dataController.updateScrollableNavigation();

                            // Update Homepage Feature Recommendations 
                            app.SWGApplication.dataController.updateFeatureRecommendations();

                            if ($("#iframe-modal").is(":visible")) {
                                var modalHeight = thisWindow.height() - $("[id='iframe-modal'] .modal-header").outerHeight(true) - $("[id='iframe-modal'] .modal-footer").outerHeight(true) - 30;
                                $("[id='iframe-modal'] .modal-body").css("height", modalHeight);
                            }

                        }, 250));

                        thisWindow.on("scroll", throttle(function () {
                            app.SWGApplication.dataController.updateScroll();
                            if (backToTopExists && backToTopLoaded) app.SWGApplication.dataView.updateBackToTop();

                            if (!signUpInputFlag) {
                                if (currentViewPort === "xs" && searchBoxExists && signUpNo1ToTheSunExists) {
                                    app.SWGApplication.dataView.updateSignUpNo1ToTheSun();
                                    signUpStickyOn = true;
                                } else if (signUpStickyOn || parseInt(signUpNo1ToTheSunObj.css("bottom"), 10) <= 0) {
                                    signUpNo1ToTheSunObj.css("bottom", "");

                                    if (parseInt(signUpNo1ToTheSunObj.css("bottom"), 10) > 0) {
                                        signUpStickyOn = false;
                                    }
                                }
                            }

                            // Update sticky navigation
                            app.SWGApplication.dataController.updateScrollableNavigation();

                            // Display Vacation Finder Tab
                            if (vacationFinderTabExists) {
                                app.SWGApplication.dataController.updateVacationFinderTab();
                            }

                        }, 30));

                        function throttle(fn, threshold, scope) {
                            threshold || (threshold = 250);
                            var last,
                                deferTimer;
                            return function () {
                                var context = scope || this;

                                var now = +new Date(),
                                    args = arguments;
                                if (last && now < last + threshold) {
                                    // hold on to it
                                    clearTimeout(deferTimer);
                                    deferTimer = setTimeout(function () {
                                        last = now;
                                        fn.apply(context, args);
                                    }, threshold + last - now);
                                } else {
                                    last = now;
                                    fn.apply(context, args);
                                }
                            };
                        }


                        viewportObj.on("hide.bs.modal", ".modal", function () {

                            // BS Trigger to stop video playback when modal is dismissed
                            // http://docs.videojs.com/docs/api/player.html
                            if ($(this).closest(".modal").find(".video-js").length > 0) {
                                $(this).closest(".modal").find(".video-js").get(0).player.dispose();
                                $(this).closest(".modal").find(".gallery.video-gallery-slider").empty();
                            }


                            if ($("#iframe-modal").is(":visible")) {
                                //ToDO: For now redirecting to homepage
                                //var redirectState = false;

                                //if (document.referrer !== "" && !redirectState){
                                //	redirectState = true;
                                //}

                                //if (redirectState){
                                window.location.href = "/";
                                //}

                            }

                        });

                        viewportObj.on("shown.bs.modal", ".modal", function () {
                            //$(".modal.white-theme").data("bs.modal").$backdrop.css("background-color", "#ffffff");
                            //$(".modal.white-theme").data("bs.modal").$backdrop.css("opacity", "0.8");
                        });

                        if (scriptLoaded) {
                            // Load initial resize
                            thisWindow.trigger("resize");
                        }

                    }

                });

            })(jQuery, ResponsiveBootstrapToolkit, this);



            //original ends

        }
    }
})(customsrcObject || {})

//if (!SinglePageApplication) {
//    windowlocationhost = window.location.host;
//    customsrcObject.init();
//}

/***/ }),

/***/ "../../../../../src/app/contentful/src/contentful-config.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulConfig; });
var ContentfulConfig = (function () {
    function ContentfulConfig(space, accessToken, host, secure, resolveLinks, agent, locale) {
        this.space = space;
        this.accessToken = accessToken;
        this.secure = secure;
        this.host = host || "";
        this.resolveLinks = resolveLinks || true;
        this.agent = agent || "";
        this.locale = locale || "";
    }
    ContentfulConfig.prototype.getConfigObject = function () {
        return {
            space: this.space,
            accessToken: this.accessToken,
            secure: this.secure,
            host: this.host,
            resolveLinks: this.resolveLinks,
            agent: this.agent,
            locale: this.locale
        };
    };
    return ContentfulConfig;
}());

//# sourceMappingURL=contentful-config.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/src/contentful-query-params.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulQueryParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ContentfulQueryParamsParser; });
var ContentfulQueryParams;
(function (ContentfulQueryParams) {
    ContentfulQueryParams[ContentfulQueryParams["ContentType"] = 0] = "ContentType";
    ContentfulQueryParams[ContentfulQueryParams["Include"] = 1] = "Include";
    ContentfulQueryParams[ContentfulQueryParams["Limit"] = 2] = "Limit";
    ContentfulQueryParams[ContentfulQueryParams["Order"] = 3] = "Order";
    ContentfulQueryParams[ContentfulQueryParams["FieldSlug"] = 4] = "FieldSlug";
})(ContentfulQueryParams || (ContentfulQueryParams = {}));
var ContentfulQueryParamsParser = (function () {
    function ContentfulQueryParamsParser() {
        this.queryParams = {};
        this.queryParams = {};
    }
    ContentfulQueryParamsParser.prototype.addStringParam = function (paramKey, paramValue) {
        this.queryParams[paramKey] = String(paramValue);
    };
    ContentfulQueryParamsParser.prototype.addParam = function (queryParamType, paramValue) {
        var paramType = "";
        switch (queryParamType) {
            case ContentfulQueryParams.ContentType:
                paramType = "content_type";
                break;
            case ContentfulQueryParams.Include:
                paramType = "include";
                break;
            case ContentfulQueryParams.Limit:
                paramType = "limit";
                break;
            case ContentfulQueryParams.Order:
                paramType = "order";
                break;
            case ContentfulQueryParams.FieldSlug:
                paramType = "fields.slug";
                break;
            default: return;
        }
        this.queryParams[paramType] = String(paramValue);
    };
    ContentfulQueryParamsParser.prototype.getParamsObject = function () {
        return this.queryParams;
    };
    return ContentfulQueryParamsParser;
}());

//# sourceMappingURL=contentful-query-params.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/src/contentful-request.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulRequest; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__("../../../../rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__contentful_query_params__ = __webpack_require__("../../../../../src/app/contentful/src/contentful-query-params.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_contentful__ = __webpack_require__("../../../../contentful/dist/contentful.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_contentful___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_contentful__);



var ContentfulNativeCall;
(function (ContentfulNativeCall) {
    ContentfulNativeCall[ContentfulNativeCall["GET_CONTENT_TYPES"] = 0] = "GET_CONTENT_TYPES";
    ContentfulNativeCall[ContentfulNativeCall["GET_CONTENT_TYPE"] = 1] = "GET_CONTENT_TYPE";
    ContentfulNativeCall[ContentfulNativeCall["GET_ASSETS"] = 2] = "GET_ASSETS";
    ContentfulNativeCall[ContentfulNativeCall["GET_ASSET"] = 3] = "GET_ASSET";
    ContentfulNativeCall[ContentfulNativeCall["GET_ENTRIES"] = 4] = "GET_ENTRIES";
    ContentfulNativeCall[ContentfulNativeCall["GET_ENTRY"] = 5] = "GET_ENTRY";
    ContentfulNativeCall[ContentfulNativeCall["GET_ENTRIES_BY_TYPE"] = 6] = "GET_ENTRIES_BY_TYPE";
    ContentfulNativeCall[ContentfulNativeCall["GET_ENTRY_BY_SLUG"] = 7] = "GET_ENTRY_BY_SLUG";
    ContentfulNativeCall[ContentfulNativeCall["SEARCH_ENTRIES"] = 8] = "SEARCH_ENTRIES";
})(ContentfulNativeCall || (ContentfulNativeCall = {}));
var ContentfulRequest = (function () {
    function ContentfulRequest(contentfulConfig) {
        this.contentfulNativeClient = __WEBPACK_IMPORTED_MODULE_2_contentful__["createClient"](contentfulConfig);
        this.contentfulQueryParamsParser = new __WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["b" /* ContentfulQueryParamsParser */]();
    }
    ContentfulRequest.prototype.commit = function () {
        var params = this.contentfulQueryParamsParser.getParamsObject();
        switch (this.contentfulNativeCall) {
            case ContentfulNativeCall.GET_CONTENT_TYPES:
                return this.callContentTypes();
            case ContentfulNativeCall.GET_CONTENT_TYPE:
                return this.callContentType(this.contentTypeId);
            case ContentfulNativeCall.GET_ASSETS:
                return this.callAssets(params);
            case ContentfulNativeCall.GET_ASSET:
                return this.callAsset(this.assetId);
            case ContentfulNativeCall.GET_ENTRIES:
                return this.callEntries(params);
            case ContentfulNativeCall.GET_ENTRY:
                return this.callEntry(this.entryId);
            case ContentfulNativeCall.GET_ENTRIES_BY_TYPE:
                return this.callEntriesByType(params);
            case ContentfulNativeCall.GET_ENTRY_BY_SLUG:
                return this.callEntryBySlug(params);
            case ContentfulNativeCall.SEARCH_ENTRIES:
                return this.callSearchEntries(params);
            default:
                throw Error("Appropriate API was not found: " + this.contentfulNativeCall);
        }
    };
    ContentfulRequest.prototype.limit = function (value) {
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].Limit, value);
        return this;
    };
    ContentfulRequest.prototype.order = function (value) {
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].Order, value);
        return this;
    };
    ContentfulRequest.prototype.include = function (value) {
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].Include, value);
        return this;
    };
    ContentfulRequest.prototype.getContentTypes = function () {
        this.contentfulNativeCall = ContentfulNativeCall.GET_CONTENT_TYPES;
        return this;
    };
    ContentfulRequest.prototype.callContentTypes = function () {
        return this.fromPromise(this.contentfulNativeClient.getContentTypes());
    };
    ContentfulRequest.prototype.getContentType = function (contentTypeId) {
        this.contentfulNativeCall = ContentfulNativeCall.GET_CONTENT_TYPE;
        this.contentTypeId = contentTypeId;
        return this;
    };
    ContentfulRequest.prototype.callContentType = function (contentTypeId) {
        return this.fromPromise(this.contentfulNativeClient.getContentType(contentTypeId));
    };
    ContentfulRequest.prototype.getAssets = function () {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ASSETS;
        return this;
    };
    ContentfulRequest.prototype.callAssets = function (params) {
        return this.fromPromise(Promise.resolve(this.contentfulNativeClient.getAssets(params)));
    };
    ContentfulRequest.prototype.getAsset = function (assetId) {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ASSET;
        this.assetId = assetId;
        return this;
    };
    ContentfulRequest.prototype.callAsset = function (assetId) {
        return this.fromPromise(this.contentfulNativeClient.getAsset(assetId));
    };
    ContentfulRequest.prototype.getEntries = function () {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ENTRIES;
        return this;
    };
    ContentfulRequest.prototype.callEntries = function (params) {
        return this.fromPromise(this.contentfulNativeClient.getEntries(params));
    };
    ContentfulRequest.prototype.getEntriesByType = function (contentType) {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ENTRIES_BY_TYPE;
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].ContentType, contentType);
        return this;
    };
    ContentfulRequest.prototype.callEntriesByType = function (params) {
        return this.fromPromise(this.contentfulNativeClient.getEntries(params));
    };
    ContentfulRequest.prototype.getEntry = function (entryId) {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ENTRY;
        this.entryId = entryId;
        return this;
    };
    ContentfulRequest.prototype.callEntry = function (entryId) {
        return this.fromPromise(this.contentfulNativeClient.getEntry(entryId));
    };
    ContentfulRequest.prototype.getEntryBySlug = function (contentType, fieldSlug) {
        this.contentfulNativeCall = ContentfulNativeCall.GET_ENTRY_BY_SLUG;
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].ContentType, contentType);
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].FieldSlug, fieldSlug);
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].Limit, 1);
        return this;
    };
    ContentfulRequest.prototype.callEntryBySlug = function (params) {
        return this.fromPromise(this.contentfulNativeClient.getEntries(params));
    };
    ContentfulRequest.prototype.searchEntries = function (contentType) {
        var searchItems = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            searchItems[_i - 1] = arguments[_i];
        }
        this.contentfulNativeCall = ContentfulNativeCall.SEARCH_ENTRIES;
        this.contentfulQueryParamsParser.addParam(__WEBPACK_IMPORTED_MODULE_1__contentful_query_params__["a" /* ContentfulQueryParams */].ContentType, contentType);
        for (var _a = 0, searchItems_1 = searchItems; _a < searchItems_1.length; _a++) {
            var searchItem = searchItems_1[_a];
            this.contentfulQueryParamsParser.addStringParam(searchItem.param, searchItem.value);
        }
        return this;
    };
    ContentfulRequest.prototype.callSearchEntries = function (params) {
        return this.fromPromise(this.contentfulNativeClient.getEntries(params));
        // console.log('fake search');
        //return this.fromPromise(this.contentfulNativeClient.getEntry('62cTQYGTUAO8cAsKQooUS4'));
        /*
              return this.fromPromise(this.contentfulNativeClient.getEntries(({
                  'content_type': 'itemDescription',
        //          'fields.tags[In]':'jessica-is-awesome',
                  'fields.status': 'Active',
                  'fields.promotionCategory[in]': 'friendsandfamily'
        //          'order': '-fields.genericFlag,fields.priority',
                  //'include': 3,
                  //'limit': 5,
                  //'locale': 'en-CA'
              })));
          */
    };
    ContentfulRequest.prototype.fromPromise = function (promise) {
        return __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__["Observable"].fromPromise(Promise.resolve(promise));
    };
    return ContentfulRequest;
}());

//# sourceMappingURL=contentful-request.js.map

/***/ }),

/***/ "../../../../../src/app/contentful/src/services/contentful.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentfulService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__contentful_request__ = __webpack_require__("../../../../../src/app/contentful/src/contentful-request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__contentful_config__ = __webpack_require__("../../../../../src/app/contentful/src/contentful-config.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__custom_custom_src_js__ = __webpack_require__("../../../../../src/app/contentful/custom/custom.src.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__custom_custom_src_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__custom_custom_src_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 *
 */
var ContentfulService = (function () {
    function ContentfulService() {
        this._shareddata = new Array();
        this._shareddataSubject = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.ContentfulConfig = {
            accessToken: "72b58763fef0e06bac21c7a04e77ee7e5d22571381333f906926dbe589b074fd",
            spaceId: "h82kzjd39wa1",
            host: "preview.contentful.com"
        };
        this.contentfulConfig = new __WEBPACK_IMPORTED_MODULE_2__contentful_config__["a" /* ContentfulConfig */](this.ContentfulConfig.spaceId, this.ContentfulConfig.accessToken, this.ContentfulConfig.host);
    }
    ContentfulService.prototype.create = function () {
        return new __WEBPACK_IMPORTED_MODULE_1__contentful_request__["a" /* ContentfulRequest */](this.contentfulConfig);
    };
    ContentfulService.prototype.getServiceConfig = function () {
        return this.contentfulConfig;
    };
    ContentfulService.prototype.isServiceConfigured = function () {
        return this.contentfulConfig !== undefined ? true : false;
    };
    ContentfulService.prototype.syncJSCall = function () {
        if (this._shareddata && this._shareddata["searchRendered"] && this._shareddata["searchRendered"] === true && this._shareddata["slidesRendered"] && this._shareddata["slidesRendered"] === true && !this._shareddata["bothRendered"]) {
            customsrcObject.init();
            this.setSharedData("bothRendered", true);
        }
    };
    ContentfulService.prototype.setSharedData = function (key, value) {
        this._shareddata[key] = value;
        this._shareddataSubject.next(this._shareddata);
        this.syncJSCall();
    };
    return ContentfulService;
}());
ContentfulService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [])
], ContentfulService);

//# sourceMappingURL=contentful.service.js.map

/***/ }),

/***/ "../../../../../src/app/faq/faq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.policy}}</h1>\r\n            <div *ngIf=\"loading\">\r\n                <div class=\"loading__dots\">Loading...</div>\r\n            </div>\r\n            <div *ngIf=\"!loading && showError\" class=\"alert alert-danger\">\r\n                <h4>{{r.errorHeader}}</h4>\r\n                <p>{{r.ERR_GenericMessage}}</p>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"selectedCategory !== null && !loading\">\r\n                <div class=\"col-md-3\">\r\n                    <ul class=\"faq__menu\">\r\n                        <li *ngFor=\"let category of faqList; let categoryIndex = index;\">\r\n                            <a class=\"faq__menu-item\" [ngClass]=\"{'active': selectedCategory == category.CategoryID}\" (click)=\"openSection(category.CategoryID)\">{{ category.CategoryName }}</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"col-md-9\">\r\n                    <section class=\"faq\" [ngClass]=\"{'active': selectedCategory == category.CategoryID}\" *ngFor=\"let category of faqList\">\r\n                        <h2>{{ category.CategoryName }}</h2>\r\n                        <markdown [innerHTML]=\"category.CategoryContent\"></markdown>\r\n                        <hr/>\r\n                        <article *ngFor=\"let faqList of category.FAQs\">\r\n                            <h3 class=\"faq__question\">{{ faqList.FaqQuestion}}</h3>\r\n                            <markdown [innerHTML]=\"faqList.FaqAnswer\"></markdown>\r\n                        </article>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/faq/faq.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "h1 {\n  padding-bottom: 15px; }\n\nh2 {\n  color: #333;\n  margin-top: 0; }\n\nh3 {\n  font-size: 20px; }\n\n.loading {\n  text-align: center;\n  font-size: 32px;\n  margin-bottom: 0;\n  padding: 15px;\n  width: 750px;\n  max-width: 100%; }\n\n.loading__dots,\n.loading__dots:before,\n.loading__dots:after {\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation-fill-mode: both;\n  animation: dots 1.8s infinite ease-in-out; }\n\n.loading__dots {\n  color: #f36f21;\n  font-size: 10px;\n  margin: 30px auto;\n  position: relative;\n  text-indent: -9999em;\n  transform: translateZ(0);\n  animation-delay: -0.16s; }\n\n.loading__dots:before,\n.loading__dots:after {\n  content: '';\n  position: absolute;\n  top: 0; }\n\n.loading__dots:before {\n  left: -3.5em;\n  animation-delay: -0.32s; }\n\n.loading__dots:after {\n  left: 3.5em; }\n\n@keyframes dots {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 2.5em 0 -1.3em; }\n  40% {\n    box-shadow: 0 2.5em 0 0; } }\n\n.faq__menu {\n  padding: 0;\n  border: 2px solid #007cc3; }\n  .faq__menu li {\n    list-style-type: none;\n    padding: 0; }\n  .faq__menu-item {\n    position: relative;\n    display: block;\n    color: #646464;\n    text-decoration: none;\n    padding: 6px 15px;\n    transition: color, background-color 0.8s ease-out; }\n    .faq__menu-item::after {\n      content: \"\\F105\";\n      display: inline-block;\n      position: absolute;\n      color: #007cc3;\n      right: 15px;\n      top: 50%;\n      transform: translateY(-50%);\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale; }\n    .faq__menu-item:hover, .faq__menu-item:focus {\n      background-color: #e5f2f9;\n      font-weight: bold;\n      transition: color, background-color 0.1s ease-out;\n      color: #333; }\n    .faq__menu-item.active {\n      background-color: #007cc3;\n      font-weight: bold;\n      color: #fff; }\n      .faq__menu-item.active::after {\n        display: none; }\n\n.faq {\n  display: none;\n  padding-bottom: 15px; }\n  .faq.active {\n    display: block; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/faq/faq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FaqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FaqComponent = (function () {
    function FaqComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.loading = true;
        this.showError = false;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
        this.lang = resourcesService.getCookie('culture').substring(0, 2);
    }
    FaqComponent.prototype.ngOnInit = function () {
        var _this = this;
        var url = 'https://infoserviceuat2.sunwingtravelgroup.com/Contentful';
        var data = {
            'lang': this.lang,
            'spaceid': 'rn5eli9rf9yp',
            'itemtype': 'stafftravelpolicy',
            'docfrom': '0',
            'items': '10',
            'textsearch': ''
        };
        this.httpClient.post(url, data)
            .toPromise()
            .then(function (res) {
            _this.loading = false;
            return res.json();
        })
            .then(function (res) {
            // Sort by priority order
            return JSON.parse(JSON.stringify(res.stafftravelpolicy)).sort(function (a, b) {
                return a.PriorityOrder - b.PriorityOrder;
            });
        }).then(function (list) {
            _this.faqList = list;
            if (list.length > 0) {
                _this.selectedCategory = list[0].CategoryID;
            }
            else {
                _this.selectedCategory = null;
                _this.showError = true;
            }
        })
            .catch(function (err) {
            _this.loading = false;
            _this.showError = true;
            _this.selectedCategory = null;
            _this.handleError(err);
        });
    };
    FaqComponent.prototype.handleError = function (error) {
        //console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    FaqComponent.prototype.openSection = function (CategoryID) {
        this.selectedCategory = CategoryID;
    };
    return FaqComponent;
}());
FaqComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-faq',
        template: __webpack_require__("../../../../../src/app/faq/faq.component.html"),
        styles: [__webpack_require__("../../../../../src/app/faq/faq.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], FaqComponent);

var _a, _b;
//# sourceMappingURL=faq.component.js.map

/***/ }),

/***/ "../../../../../src/app/forgot-password/forgot-password.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"forgot-password\">\r\n\r\n        <form class=\"form-horizontal form-flex-error\" name=\"forgotPassword\" (ngSubmit)=\"forgotPassword()\" #forgotPasswordForm=\"ngForm\">\r\n            <div class=\"forgot-password-title\">\r\n                <h2>{{r.forgotYourPassword}}</h2>\r\n                <a routerLink=\"/login-register\">{{r.backToSignIn}}</a>\r\n            </div>\r\n            <p>{{r.instructions}}</p>\r\n            <div *ngIf=\"!isValid\" class=\"alert alert-danger\">\r\n                <label>{{errorMessage}}</label>\r\n            </div>\r\n            <div *ngIf=\"isResetSuccessful\" class=\"success alert-success\">\r\n                <label>{{r.checkEmail}}</label>\r\n            </div>\r\n            <div class=\"form-group form-group--bottom\">\r\n                <div class=\"col-sm-9\">\r\n                    <label for=\"forgotPassword_empNumber\">{{r.employeeNumber}}</label>\r\n                    <input type=\"text\" [(ngModel)]=\"empNumber\" #forgotPassword_empNumber id=\"forgotPassword_empNumber\" name=\"forgotPassword_empNumber\" class=\"form-control\" required>\r\n                </div>\r\n                <div class=\"col-sm-3\" *ngIf=\"!isResetSuccessful\">\r\n                    <input type=\"submit\" value=\"{{r.submit}}\" class=\"btn btn-full btn-primary\" [disabled]=\"forgotPasswordForm.invalid || !forgotPasswordBtnReady\" >\r\n                </div>\r\n            </div>\r\n            <a class=\"form-flex-bottom back\" routerLink=\"/login-register\">{{r.backToSignIn}}</a>\r\n        </form>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/forgot-password/forgot-password.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".container {\n  max-width: 100vw; }\n\n.forgot-password {\n  transition: all 0.5s ease;\n  background-color: rgba(255, 255, 255, 0.9);\n  border: 2px solid #007cc3;\n  padding: 25px; }\n\n.forgot-password:before,\n.forgot-password:after {\n  content: \" \";\n  display: table; }\n\n.forgot-password:after {\n  clear: both; }\n\n@media (min-width: 992px) {\n  .forgot-password {\n    max-width: 80%;\n    margin: 0 auto; } }\n\n@media (min-width: 1200px) {\n  .forgot-password {\n    max-width: 70%; } }\n\n.forgot-password-title {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto; }\n\n.forgot-password-title h2 {\n  margin-top: 0;\n  -ms-flex-positive: 1;\n      flex-grow: 1; }\n\n.forgot-password-title a {\n  display: none; }\n\n.back {\n  display: block; }\n\n@media (min-width: 768px) {\n  .forgot-password-title a {\n    display: inline;\n    text-align: right;\n    -ms-flex-item-align: start;\n        align-self: flex-start; }\n  .back {\n    display: none; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/forgot-password/forgot-password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForgotPasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ForgotPasswordComponent = (function () {
    function ForgotPasswordComponent(http, router, resourcesService) {
        var _this = this;
        this.http = http;
        this.router = router;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    ForgotPasswordComponent.prototype.ngOnInit = function () {
        this.errorMessage = '';
        this.isValid = true;
        this.isResetSuccessful = false;
        this.forgotPasswordBtnReady = true;
    };
    ForgotPasswordComponent.prototype.forgotPassword = function () {
        var _this = this;
        this.forgotPasswordBtnReady = false;
        var body = { EmpNumber: this.empNumber };
        this.http.post('/api/Account/ForgotPassword', body)
            .toPromise()
            .then(function (response) {
            _this.isValid = true;
            _this.errorMessage = '';
            _this.isResetSuccessful = true;
            _this.forgotPasswordBtnReady = true;
        })
            .catch(function (err) {
            _this.isValid = false;
            _this.errorMessage = _this.getErrorMessage(err.json().Message);
            _this.forgotPasswordBtnReady = true;
        });
    };
    ForgotPasswordComponent.prototype.getErrorMessage = function (errorMessage) {
        switch (errorMessage) {
            case "ERR-RES-001":
                return this.r.ERR_RES_001;
            case "ERR-RES-002":
                return this.r.ERR_RES_002;
            case "ERR-RES-003":
                return this.r.ERR_RES_003;
            default:
                return this.r.unknownError;
        }
    };
    return ForgotPasswordComponent;
}());
ForgotPasswordComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-forgot-password',
        template: __webpack_require__("../../../../../src/app/forgot-password/forgot-password.component.html"),
        styles: [__webpack_require__("../../../../../src/app/forgot-password/forgot-password.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object])
], ForgotPasswordComponent);

var _a, _b, _c;
//# sourceMappingURL=forgot-password.component.js.map

/***/ }),

/***/ "../../../../../src/app/home/home.component.html":
/***/ (function(module, exports) {

module.exports = "<contentfulentries></contentfulentries>\r\n<basic-info></basic-info>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n            <div class=\"feature-box\">\r\n                <img src=\"/Content/Images/submit.jpg\"/>\r\n                <div class=\"feature-box__link\">\r\n                    <a routerLink=\"/new-request\">{{r.submitNewRequest}}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <div class=\"feature-box\">\r\n                <img src=\"/Content/Images/faq.jpg\"/>\r\n                <div class=\"feature-box__link\">\r\n                    <a routerLink=\"/faq\">{{r.policy}}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <div class=\"feature-box\">\r\n                <img src=\"/Content/Images/video.jpg\"/>\r\n                <div class=\"feature-box__link\">\r\n                    <a target=\"_blank\" href=\"{{r.tutorialLink}}\">{{r.tutorial}}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <list-of-all-requests [tableType]=\"tableType\" [tableSettings]=\"tableSettings\" [source]=\"source\"></list-of-all-requests>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/home/home.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".feature-box img {\n  width: 100%;\n  height: auto;\n  display: block; }\n\n.feature-box__link {\n  background-color: #ecf5fb;\n  margin-bottom: 15px; }\n\n.feature-box__link > a {\n  display: block;\n  padding: 15px;\n  font-size: 24px;\n  color: #515151;\n  font-weight: bold;\n  text-decoration: none; }\n\n@media (min-width: 768px) {\n  .feature-box {\n    margin-top: 15px; }\n  .feature-box__link {\n    margin-bottom: 30px; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/home/home.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var HomeComponent = (function () {
    function HomeComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_1__models_enums__["e" /* StatusEnum */];
        this.searchFilter = function (query) {
            return [
                {
                    field: 'RequestDate',
                    search: query
                },
                {
                    field: 'FirstName',
                    search: query
                },
                {
                    field: 'LastName',
                    search: query
                },
                {
                    field: 'Status',
                    search: query
                },
                {
                    field: 'TypeOfPasses',
                    search: query
                },
                {
                    field: 'NumberOfPasses',
                    search: query
                }
            ];
        };
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.initTable();
        });
    }
    HomeComponent.prototype.initTable = function () {
        var _this = this;
        this.tableType = 'viewAll';
        // Data source for ng2-smart-table
        this.requestlistViewArray()
            .then(function (res) {
            _this.source = new __WEBPACK_IMPORTED_MODULE_3_ng2_smart_table__["a" /* LocalDataSource */](res);
        });
        // Columns settings for ng2-smart-table
        this.columns = {
            RequestDate: {
                title: this.r.initiated,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_4_moment__(id).format("DD MMM YYYY");
                }
            },
            TypeOfPasses: {
                title: this.r.typeOfPasses,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        var parsedDate = cell.replace(/,/g, '<br/>');
                        return parsedDate.toLocaleString();
                    }
                },
            },
            NumberOfPasses: {
                title: this.r.passesCount,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        var parsedDate = cell.replace(/,/g, '<br/>');
                        return parsedDate.toLocaleString();
                    }
                },
            },
            Status: {
                title: this.r.status,
                type: 'html',
                valuePrepareFunction: function (id) {
                    var status = _this.statusEnum[id];
                    if (status === 'Pending') {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + status;
                    }
                    else {
                        return status;
                    }
                }
            }
        };
        this.tableSettings = {
            columns: this.columns,
            filters: this.searchFilter,
            route: '/request-progress/'
        };
    };
    HomeComponent.prototype.ngOnInit = function () {
        this.initTable();
    };
    HomeComponent.prototype.requestlistViewArray = function () {
        var url = 'api/Request/GetRequestsList';
        return this.httpClient.get(url)
            .toPromise()
            .then(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    HomeComponent.prototype.handleError = function (error) {
        console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    return HomeComponent;
}());
HomeComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-home',
        template: __webpack_require__("../../../../../src/app/home/home.component.html"),
        styles: [__webpack_require__("../../../../../src/app/home/home.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], HomeComponent);

var _a, _b;
//# sourceMappingURL=home.component.js.map

/***/ }),

/***/ "../../../../../src/app/list-of-all-requests/list-of-all-requests.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"panel panel-primary\">\r\n    <div class=\"panel-heading panel-heading--split\">\r\n        <ng-template [ngIf]=\"tableType == 'search'\">\r\n            <h2>{{r.search}}</h2>\r\n            <div class=\"form-search\">\r\n                <input #search type=\"Search\" class=\"form-control form-search\" placeholder=\"Search...\" (keyup)=\"onSearch(search.value)\">\r\n            </div>\r\n        </ng-template>\r\n        <ng-template [ngIf]=\"tableType == 'viewAll'\">\r\n            <h2>{{r.myRecentRequests}}</h2>\r\n            <button class=\"btn btn-secondary-dark btn-xs-full\" routerLink=\"/my-requests\">{{r.viewAllRequests}}</button>\r\n        </ng-template>\r\n        <ng-template [ngIf]=\"tableType == 'viewByYear'\">\r\n            <h2>{{r.myRecentRequests}}</h2>\r\n        </ng-template>\r\n    </div>\r\n    <ng2-smart-table [settings]=\"settings\" [source]=\"source\" (userRowSelect)=\"routingto($event)\" *ngIf=\"source\"></ng2-smart-table>\r\n    <div *ngIf=\"!source\">\r\n        <label>{{r.loading}}</label>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/list-of-all-requests/list-of-all-requests.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "::ng-deep ng2-smart-table {\n  display: block;\n  min-height: .01%;\n  overflow-x: auto; }\n  ::ng-deep ng2-smart-table .ng2-smart-title a {\n    font-size: 1.2em;\n    color: #333; }\n  ::ng-deep ng2-smart-table table > thead > tr > .ng2-smart-th {\n    vertical-align: top; }\n  ::ng-deep ng2-smart-table table > tbody > tr:hover,\n  ::ng-deep ng2-smart-table table > tbody > tr:focus {\n    background-color: #e5f2f9;\n    cursor: pointer; }\n  ::ng-deep ng2-smart-table .fa-bookmark {\n    color: #d00002;\n    font-size: 1.4em;\n    margin-right: 5px; }\n\n::ng-deep .ng2-smart-pagination-nav {\n  padding: 0 15px; }\n  ::ng-deep .ng2-smart-pagination-nav > .ng2-smart-pagination {\n    display: -ms-inline-flexbox;\n    display: inline-flex; }\n    ::ng-deep .ng2-smart-pagination-nav > .ng2-smart-pagination > .ng2-smart-page-item {\n      display: -ms-flexbox !important;\n      display: flex !important;\n      -ms-flex-align: stretch;\n          align-items: stretch; }\n      ::ng-deep .ng2-smart-pagination-nav > .ng2-smart-pagination > .ng2-smart-page-item > a {\n        line-height: 20px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/list-of-all-requests/list-of-all-requests.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListOfAllRequestsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ListOfAllRequestsComponent = (function () {
    function ListOfAllRequestsComponent(httpClient, router, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.router = router;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
        });
    }
    ListOfAllRequestsComponent.prototype.ngOnInit = function () {
        this.initTable();
    };
    ListOfAllRequestsComponent.prototype.initTable = function () {
        // Default table type to 'search' if not set
        if (this.tableType === undefined) {
            this.tableType = 'search';
        }
        // Base ng2-smart-table settings
        this.settings = {
            actions: {
                add: false,
                edit: false,
                delete: false
            },
            pager: {
                perPage: 15,
            },
            attr: {
                class: 'table'
            },
            hideSubHeader: true,
            columns: this.tableSettings.columns
        };
    };
    ListOfAllRequestsComponent.prototype.onSearch = function (query) {
        if (query === void 0) { query = ''; }
        if (query != '') {
            this.source.setFilter(this.tableSettings.filters(query), false);
        }
        else {
            this.source.reset();
        }
    };
    ListOfAllRequestsComponent.prototype.routingto = function (event) {
        this.router.navigate([this.tableSettings.route + event.data.RequestId + '']);
    };
    return ListOfAllRequestsComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4_ng2_smart_table__["a" /* LocalDataSource */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4_ng2_smart_table__["a" /* LocalDataSource */]) === "function" && _a || Object)
], ListOfAllRequestsComponent.prototype, "source", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], ListOfAllRequestsComponent.prototype, "tableSettings", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], ListOfAllRequestsComponent.prototype, "tableType", void 0);
ListOfAllRequestsComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'list-of-all-requests',
        template: __webpack_require__("../../../../../src/app/list-of-all-requests/list-of-all-requests.component.html"),
        styles: [__webpack_require__("../../../../../src/app/list-of-all-requests/list-of-all-requests.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], ListOfAllRequestsComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=list-of-all-requests.component.js.map

/***/ }),

/***/ "../../../../../src/app/login-register/login-register.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"tab-group\" role=\"tablist\">\r\n        <div class=\"tab active\" id=\"login\">\r\n            <h4 class=\"tab-title\">\r\n                <a href=\"#login\" aria-controls=\"login\" role=\"tab\" data-toggle=\"tab\" (click)=\"toggleTab($event)\">{{r.login}}</a>\r\n            </h4>\r\n            <div role=\"tabpanel\" class=\"tab-body\">\r\n                <form class=\"form-horizontal form-flex-error\" name=\"loginForm\" (ngSubmit)=\"login()\" #loginForm=\"ngForm\">\r\n                    <div *ngIf=\"!isValid\" class=\"alert alert-danger\">\r\n                        {{errorMessage}}\r\n                    </div>\r\n                    <div class=\"form-group form-group--bottom\">\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"login_empNumber\">{{r.employeeId}}</label>\r\n                            <input type=\"text\" [(ngModel)]=\"loginModel.empNumber\" id=\"login_empNumber\" name=\"login_empNumber\" class=\"form-control\" required>\r\n                        </div>\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"login_password\">{{r.password}}</label>\r\n                            <div class=\"input-group\">\r\n                                <input type=\"password\" [(ngModel)]=\"loginModel.password\" id=\"login_password\" name=\"login_password\" class=\"form-control\" required>\r\n                                <div class=\"input-group-btn\">\r\n                                    <button class=\"btn btn-default\" type=\"button\" (click)=\"togglePassword($event)\">{{r.show}}</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"input-group--checkbox\">\r\n                                <input type=\"checkbox\" [(ngModel)]=\"loginModel.rememberMe\" name=\"login_rememberMe\" id=\"rememberMe\">\r\n                                <label for=\"rememberMe\">{{r.rememberMe}}</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-6\">\r\n                            <button type=\"submit\" class=\"btn btn-full btn-primary\" [ngClass]=\"{'btn-loader': loadingBtn}\" [disabled]=\"loginForm.invalid || !loginBtnReady\">{{r.login}}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group form-flex-bottom\">\r\n                        <div class=\"col-sm-6\">\r\n                            <a routerLink=\"/forgot-password\">{{r.forgotPassword}}</a>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"tab\" id=\"register\">\r\n            <h4 class=\"tab-title\">\r\n                <a href=\"#register\" aria-controls=\"register\" role=\"tab\" data-toggle=\"tab\" (click)=\"toggleTab($event)\">{{r.register}}</a>\r\n            </h4>\r\n            <div role=\"tabpanel\" class=\"tab-body\">\r\n                <form class=\"form-horizontal form-flex-error\" name=\"registerForm\" (ngSubmit)=\"register()\" #registerForm=\"ngForm\">\r\n                    <div *ngIf=\"!isValid\" class=\"alert alert-danger\">\r\n                        {{errorMessage}}\r\n                    </div>\r\n                    <div *ngIf=\"!isPasswordValid\" class=\"alert alert-danger\">\r\n                        <label>{{r.passwordRequirementsTitle}}</label>\r\n                        <ul>\r\n                            <li>{{r.passwordRequirementsLine1}}</li>\r\n                            <li>{{r.passwordRequirementsLine2}}</li>\r\n                            <li>{{r.passwordRequirementsLine3}}</li>\r\n                            <li>{{r.passwordRequirementsLine4}}</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div *ngIf=\"!isPasswordMatch\" class=\"alert alert-danger\">\r\n                        <label>{{r.passwordMismatch}}</label>\r\n                    </div>\r\n                    <div *ngIf=\"isRegisteredSuccessfully\" class=\"success alert-success\">\r\n                        <label>{{r.welcome}}</label>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"register_empNumber\">{{r.employeeId}}</label>\r\n                            <input type=\"text\" [(ngModel)]=\"registerModel.empNumber\" id=\"register_empNumber\" name=\"register_empNumber\" #register_empNumber\r\n                                   class=\"form-control\" required>\r\n                        </div>\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"register_lastName\">{{r.lastName}}</label>\r\n                            <input type=\"text\" [(ngModel)]=\"registerModel.lastName\" name=\"register_lastName\" class=\"form-control\" required>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"register_password\">\r\n                                {{r.password}}&nbsp;&nbsp;<i class=\"fa fa-info-circle\" [matTooltip]=\"r.passwordRequirements\" matTooltipClass=\"tooltip--bottom\" matTooltipPosition=\"below\"></i>\r\n                            </label>\r\n                            <div class=\"input-group\">\r\n                                <input type=\"password\" #register_password=\"ngModel\" [(ngModel)]=\"registerModel.password\" id=\"register_password\" name=\"register_password\"\r\n                                       class=\"form-control\" required>\r\n                                <div class=\"input-group-btn\">\r\n                                    <button class=\"btn btn-default\" type=\"button\" (click)=\"togglePassword($event)\">{{r.show}}</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-6\">\r\n                            <label for=\"register_confirmPassword\">{{r.confirmPassword}}</label>\r\n                            <div class=\"input-group\">\r\n                                <input type=\"password\" #register_confirmPassword=\"ngModel\" [(ngModel)]=\"registerModel.confirmPassword\" id=\"register_confirmPassword\"\r\n                                       name=\"register_confirmPassword\" class=\"form-control\" required>\r\n                                <div class=\"input-group-btn\">\r\n                                    <button class=\"btn btn-default\" type=\"button\" (click)=\"togglePassword($event)\">{{r.show}}</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!--<div class=\"form-group\">\r\n                        <div class=\"col-sm-12\">\r\n                            <label>{{r.passwordRequirements}}</label>\r\n                        </div>\r\n                    </div>-->\r\n                    <br/>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-sm-5\">\r\n                            <label for=\"FirstNamePassport\">{{r.FirstNamePassport}}</label>\r\n                            <input type=\"text\" #FirstNamePassport=\"ngModel\" [(ngModel)]=\"registerModel.firstNamePassport\" id=\"passportFistName\" name=\"passportFistName\"\r\n                                    class=\"form-control\" required>\r\n                        </div>\r\n                        <div class=\"col-sm-2\">\r\n                            <label for=\"MidNamePassport\">{{r.MidNamePassport}}</label>\r\n                            <input type=\"text\" #MidNamePassport=\"ngModel\" [(ngModel)]=\"registerModel.midNamePassport\" id=\"passportMidName\"\r\n                                    name=\"passportMidName\" class=\"form-control\" placeholder=\"[optional]\" >\r\n                        </div>\r\n                        <div class=\"col-sm-5\">\r\n                            <label for=\"LastNamePassport\">{{r.LastNamePassport}}</label>\r\n                            <input type=\"text\" #LastNamePassport=\"ngModel\" [(ngModel)]=\"registerModel.lastNamePassport\" id=\"passportLastName\"\r\n                                    name=\"passportLastName\" class=\"form-control\" required>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-sm-6 col-sm-offset-6\">\r\n                            <button type=\"submit\" class=\"btn btn-full btn-primary\" [ngClass]=\"{'btn-loader': loadingBtn}\" [disabled]=\"registerForm.invalid || !registerBtnReady\">{{r.register}}</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/login-register/login-register.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".container {\n  max-width: 100vw; }\n\n.tab-group {\n  transition: all 0.5s ease; }\n\n.tab-group:before,\n.tab-group:after {\n  content: \" \";\n  display: table; }\n\n.tab-group:after {\n  clear: both; }\n\n@media (min-width: 992px) {\n  .tab-group {\n    max-width: 80%;\n    margin: 0 auto; } }\n\n@media (min-width: 1200px) {\n  .tab-group {\n    max-width: 70%; } }\n\n.tab-group > .tab {\n  font-size: 0;\n  display: inline;\n  white-space: nowrap; }\n\n.tab-group > .tab:last-of-type .tab-title {\n  margin-right: 0; }\n\n.tab-group .tab-title {\n  background-color: #f2f2f2;\n  font-size: 18px;\n  vertical-align: bottom;\n  white-space: normal;\n  margin: 0;\n  float: none;\n  width: auto;\n  display: inline-block;\n  width: 50%;\n  border-bottom: 2px solid #007cc3; }\n\n.tab-group .tab-title a {\n  cursor: default;\n  display: block;\n  line-height: 1.42857;\n  padding: 10px 15px;\n  color: #333;\n  height: 100%;\n  text-decoration: none;\n  text-align: center;\n  margin-top: -3px;\n  border-bottom: 3px solid #dadada;\n  font-size: 20px; }\n\n.tab-group .tab.active .tab-title {\n  margin-bottom: 0;\n  background-color: rgba(255, 255, 255, 0.9);\n  border-top: 2px solid #007cc3;\n  border-bottom: none;\n  box-shadow: inset 2px 0 0 0 #007cc3, inset -2px 0 0 0 #007cc3; }\n\n.tab-group .tab.active .tab-title a {\n  color: #007cc3;\n  font-weight: 700;\n  margin-top: 0;\n  border-bottom: none; }\n\n.tab-group .tab-body {\n  border-left: 2px solid #007cc3;\n  border-bottom: 2px solid #007cc3;\n  border-right: 2px solid #007cc3;\n  background-color: rgba(255, 255, 255, 0.9);\n  float: left;\n  color: #515151;\n  display: none;\n  height: 0;\n  width: 100%;\n  padding: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: all 0.5s ease;\n  white-space: normal;\n  font-size: initial; }\n\n.tab-group .tab.active .tab-body {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  height: auto;\n  padding: 25px; }\n\n.tab-group .tab-body > .container {\n  width: auto;\n  padding: 0; }\n\n.tab-group .tab-body p {\n  font-size: 16px; }\n\nlabel {\n  font-size: 16px; }\n\nlabel > span {\n  display: block;\n  font-weight: normal;\n  font-size: 0.8em; }\n\n.form-flex-bottom a {\n  font-size: 16px; }\n\n.alert {\n  font-size: 16px; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/login-register/login-register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginRegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_register__ = __webpack_require__("../../../../../src/app/models/register.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_login__ = __webpack_require__("../../../../../src/app/models/login.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LoginRegisterComponent = (function () {
    function LoginRegisterComponent(http, router, authenticationService, resourcesService) {
        var _this = this;
        this.http = http;
        this.router = router;
        this.authenticationService = authenticationService;
        this.resourcesService = resourcesService;
        this.authenticationService.clearUserInfo();
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.userInfo = userInfo; });
        this.showPassword = {};
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    LoginRegisterComponent.prototype.ngOnInit = function () {
        //clean-up any saved values in the session
        sessionStorage.clear();
        localStorage.clear();
        this.resourcesService.deleteAllCookies();
        //initialize
        this.errorMessage = '';
        this.isValid = true;
        this.isPasswordValid = true;
        this.isPasswordMatch = true;
        this.isRegisteredSuccessfully = false;
        this.loginModel = new __WEBPACK_IMPORTED_MODULE_5__models_login__["a" /* Login */]();
        this.registerModel = new __WEBPACK_IMPORTED_MODULE_4__models_register__["a" /* Register */]();
        this.loginBtnReady = true;
        this.registerBtnReady = true;
        this.loadingBtn = false;
    };
    LoginRegisterComponent.prototype.ngOnDestroy = function () {
        // unsubscribe to ensure no memory leaks
        this.subscription.unsubscribe();
    };
    LoginRegisterComponent.prototype.toggleTab = function (event) {
        event.stopPropagation();
        event.preventDefault();
        var tabs = document.querySelectorAll('.tab-group > .tab');
        var selectedTabID = event.target.getAttribute('aria-controls');
        var selectedTab = document.getElementById(selectedTabID);
        Array.from(tabs).forEach(function (tab) {
            tab.classList.remove('active');
        });
        selectedTab.classList.add('active');
        this.errorMessage = '';
        this.isValid = true;
        return false;
    };
    /**
     * Toggle Password Fields type between text / password to show / hide password
     */
    LoginRegisterComponent.prototype.togglePassword = function (event) {
        event.stopPropagation();
        event.preventDefault();
        var passwordField = event.target.parentNode.parentNode.querySelectorAll('input')[0];
        var passwordFieldID = passwordField.id;
        // Create "false" state within the object on first click of togglePassword
        if (!this.showPassword.hasOwnProperty(passwordFieldID)) {
            this.showPassword[passwordFieldID] = false;
        }
        // Toggle state of showPassword object
        this.showPassword[passwordFieldID] = !this.showPassword[passwordFieldID];
        if (this.showPassword[passwordFieldID]) {
            passwordField.setAttribute('type', 'text');
        }
        else {
            passwordField.setAttribute('type', 'password');
        }
    };
    LoginRegisterComponent.prototype.login = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        headers.append('Content-Type', 'application/x-www-form-urlencoded');
        var body = "grant_type=" + "password" + "&username=" + this.loginModel.empNumber + "&password=" + this.loginModel.password;
        this.loginBtnReady = false;
        this.loadingBtn = true;
        this.http.post('/Token', body, { headers: headers })
            .toPromise()
            .then(function (response) {
            _this.isValid = true;
            _this.errorMessage = '';
            var cookieExpiryDate = _this.loginModel.rememberMe ? 14 : 1;
            _this.resourcesService.setCookie('accessToken', response.json().access_token, cookieExpiryDate);
            _this.resourcesService.setCookie('basicInfo', response.json().basicInfo, cookieExpiryDate);
            _this.resourcesService.setCookie('roles', response.json().roles, cookieExpiryDate);
            _this.resourcesService.setCookie('empNumber', response.json().userName, cookieExpiryDate);
            _this.authenticationService.updateUserInfo();
            _this.loginBtnReady = true;
            _this.loadingBtn = false;
            //TODO: navigate to the referrer page
            _this.router.navigate(['/home']);
        })
            .catch(function (err) {
            _this.isValid = false;
            _this.errorMessage = _this.getErrorMessage(err.json().error);
            _this.loginBtnReady = true;
            _this.loadingBtn = false;
        });
    };
    LoginRegisterComponent.prototype.register = function () {
        var _this = this;
        if (!this.validateForm()) {
            return false;
        }
        var body = {
            EmpNumber: this.registerModel.empNumber,
            LastName: this.registerModel.lastName,
            Password: this.registerModel.password,
            ConfirmPassword: this.registerModel.confirmPassword
        };
        this.registerBtnReady = false;
        this.loadingBtn = true;
        this.http.post('/api/Account/Register', body)
            .toPromise()
            .then(function (response) {
            //after succesfully registering, login the user
            _this.isValid = true;
            _this.errorMessage = '';
            _this.isRegisteredSuccessfully = true;
            _this.loginModel.empNumber = _this.registerModel.empNumber;
            _this.loginModel.password = _this.registerModel.password;
            _this.registerBtnReady = true;
            _this.login();
        })
            .catch(function (err) {
            _this.isValid = false;
            _this.errorMessage = _this.getErrorMessage(err.json().Message);
            _this.registerBtnReady = true;
            _this.loadingBtn = false;
        });
    };
    LoginRegisterComponent.prototype.validateForm = function () {
        var passwordRegEx = new RegExp(/(?=^.{6,}$)(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*\s).*$/);
        if (!passwordRegEx.test(this.registerModel.password)) {
            this.isPasswordValid = false;
            return false;
        }
        else {
            this.isPasswordValid = true;
        }
        if (this.registerModel.password !== this.registerModel.confirmPassword) {
            this.isPasswordMatch = false;
            return false;
        }
        else {
            this.isPasswordMatch = true;
        }
        return true;
    };
    LoginRegisterComponent.prototype.getErrorMessage = function (errorMessage) {
        switch (errorMessage) {
            case "ERR-REG-001":
                return this.r.ERR_REG_001;
            case "ERR-REG-002":
                return this.r.ERR_REG_002;
            case "ERR-REG-003":
                return this.r.ERR_REG_003;
            case "ERR-REG-004":
                return this.r.ERR_REG_004;
            case "ERR-REG-005":
                return this.r.ERR_REG_005;
            case "ERR-REG-006":
                return this.r.ERR_REG_006;
            case "ERR-LOG-001":
                return this.r.ERR_LOG_001;
            case "ERR-LOG-002":
                return this.r.ERR_LOG_002;
            default:
                return this.r.unknownError;
        }
    };
    return LoginRegisterComponent;
}());
LoginRegisterComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'login-register',
        template: __webpack_require__("../../../../../src/app/login-register/login-register.component.html"),
        styles: [__webpack_require__("../../../../../src/app/login-register/login-register.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_7__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], LoginRegisterComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=login-register.component.js.map

/***/ }),

/***/ "../../../../../src/app/manager-review/manager-review.component.html":
/***/ (function(module, exports) {

module.exports = "<basic-info></basic-info>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>Request</h1>\r\n\r\n            <div class=\"review\">\r\n\r\n                <!-- Passengers -->\r\n                <section id=\"passengers\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-ticket\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.passengersSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--passengers\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"passenger-name\">{{r.passengersName}}</th>\r\n                                <th class=\"passenger-dob\">{{r.dob}}</th>\r\n                                <th class=\"passenger-pass\">{{r.typeOfPass}}</th>\r\n                                <th class=\"passenger-phone\">{{r.phoneNumber}}</th>\r\n                                <th class=\"passenger-email\">{{r.email}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let passenger of request.passengers; let passengerIndex = index;\" [attr.data-index]=\"passengerIndex + 1\">\r\n                                <td class=\"passenger-name\" [attr.data-index]=\"passengerIndex + 1\" [attr.data-heading]=\"r.passengersName + ':'\">\r\n                                    {{passenger.firstName}} {{passenger.middleName}} {{passenger.lastName}}\r\n                                </td>\r\n                                <td class=\"passenger-dob\" [attr.data-heading]=\"r.dob + ':'\">{{passenger.DOB | date:'M/d/y'}}</td>\r\n                                <td class=\"passenger-pass\" [attr.data-heading]=\"r.typeOfPass + ':'\">{{typeOfPassArray[passenger.typeOfPass]?.name}}</td>\r\n                                <td class=\"passenger-phone\" [attr.data-heading]=\"r.phoneNumber + ':'\">{{passenger.phoneNumber}}</td>\r\n                                <td class=\"passenger-email\" [attr.data-heading]=\"r.email + ':'\">{{passenger.email}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"notePaxEmp?.length > 0 || notePaxAdmin?.length > 0\">\r\n                            <tr *ngIf=\"notePaxEmp?.length > 0\">\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{notePaxEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"notePaxAdmin?.length > 0\">\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.adminNote}}</strong>\r\n                                    <p>{{notePaxAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.flights.length > 0\" />\r\n\r\n                <!-- Flights -->\r\n                <section id=\"flights\" *ngIf=\"request.flights.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.flightsSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--flights\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"flight-departure\" colspan=\"2\">{{r.departing}}</th>\r\n                                <th class=\"flight-destination\">{{r.arriving}}</th>\r\n                                <th class=\"flight-date\">{{r.itinerary}}</th>\r\n                                <th class=\"divider flight-number\">{{r.flightNum}}</th>\r\n                                <th class=\"flight-status\">{{r.approvalStatus}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section__item  review-request__section__item--flight\" *ngFor=\"let flight of request.flights; let flightIndex = index;\" [attr.data-index]=\"flightIndex + 1\">\r\n                            <tr>\r\n                                <th class=\"flight-pax\" scope=\"row\" rowspan=\"2\">{{flightIndex + 1}}</th>\r\n                                <td class=\"flight-departure flight-departure--outbound\" [attr.data-heading]=\"r.departFrom + ':'\">{{flight.departFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.departTo + ':'\">{{flight.departTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.departDate + ':'\">{{flight.departDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.departFlightNumber + ':'\">{{flight.departFlight}}</td>\r\n                                <td class=\"flight-status\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\">{{statusEnum[flight.approvalStatus]}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"flight-departure flight-departure--inbound\" [attr.data-heading]=\"r.returnFrom + ':'\">{{flight.returnFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.returnTo + ':'\">{{flight.returnTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.returnDate + ':'\">{{flight.returnDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.returnFlightNumber + ':'\">{{flight.returnFlight}}</td>\r\n                                <td class=\"flight-status flight-status--mobile\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\">{{statusEnum[flight.approvalStatus]}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"4\" class=\"table-row-spacer\"></td>\r\n                                <td class=\"table-row-spacer divider\"></td>\r\n                                <td class=\"table-row-spacer\"></td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"noteFlightEmp?.length > 0 || noteFlightAdmin?.length > 0\">\r\n                            <tr *ngIf=\"noteFlightEmp?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteFlightEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteFlightAdmin?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.adminNote}}</strong>\r\n                                    <p>{{noteFlightAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.hotels.length > 0\" />\r\n\r\n                <!-- Hotel/Cruise information -->\r\n                <section id=\"hotels\" *ngIf=\"request.hotels.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-bed\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.hotelsSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--hotels\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"hotel-date\">{{r.checkInDate}} / {{r.duration}}</th>\r\n                                <th class=\"hotel-info\">{{r.hotelName}}</th>\r\n                                <th class=\"divider hotel-type\">{{r.roomType}}</th>\r\n                                <th class=\"status\">{{r.approvalStatus}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let hotel of request.hotels; let hotelIndex = index;\" [attr.data-index]=\"hotelIndex + 1\">\r\n                                <td class=\"hotel-date\" [attr.data-index]=\"hotelIndex + 1\" [attr.data-heading]=\"r.checkInDate + '/' + r.duration + ':'\">{{hotel.checkInDate | date:'dd MMM yyyy'}} / {{hotel.duration}} Nights</td>\r\n                                <td class=\"hotel-info\" [attr.data-heading]=\"r.hotelName + ':'\">{{hotel.name}} <br /> {{hotel.destination}}</td>\r\n                                <td class=\"divider hotel-type\" [attr.data-heading]=\"r.roomType + ':'\">{{hotel.roomType}}</td>\r\n                                <td [attr.data-heading]=\"r.approvalStatus + ':'\" class=\"status\">{{statusEnum[hotel.approvalStatus]}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"noteHotelEmp?.length > 0 || noteHotelAdmin?.length > 0\">\r\n                            <tr *ngIf=\"noteHotelEmp?.length > 0\">\r\n                                <td colspan=\"4\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteHotelEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteHotelAdmin?.length > 0\">\r\n                                <td colspan=\"4\">\r\n                                    <strong>{{r.adminNote}}</strong>\r\n                                    <p>{{noteHotelAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.ancillaries.length > 0\" />\r\n\r\n                <!-- Ancillaries -->\r\n                <section id=\"ancillaries\" *ngIf=\"request.ancillaries.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-cubes\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.ancillariesSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--ancillaries\">\r\n                        <tr>\r\n                            <td class=\"review-request__section\">\r\n                                <table class=\"review-request review-request__section__item\" *ngFor=\"let ancillary of request.ancillaries; let ancillaryIndex = index\" [class.employee-approved]=\"ancillary.status == 1\" [attr.data-index]=\"ancillaryIndex + 1\">\r\n                                    <thead class=\"review-request__heading\">\r\n                                        <tr>\r\n                                            <th class=\"ancillary-destination\">{{r.destination}}</th>\r\n                                            <th class=\"ancillary-product\">{{r.product}}</th>\r\n\r\n                                            <th class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\">{{r.excursionName}}</th>\r\n                                            <th class=\"divider ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\">{{r.passenger}}</th>\r\n\r\n                                            <th class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.transferType}}</th>\r\n                                            <th class=\"divider ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.quantity}}</th>\r\n                                            <th class=\"divider ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></th>\r\n                                            <th class=\"status\">{{r.approvalStatus}}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr class=\"review-request__section__item\">\r\n\r\n                                            <td class=\"ancillary-destination\" [attr.data-index]=\"ancillaryIndex + 1\" [attr.data-heading]=\"r.destination + ':'\">{{ancillary.destination}}</td>\r\n                                            <td class=\"ancillary-product\" [attr.data-heading]=\"r.product + ':'\">{{ancillaryProductsArray[ancillary.ancillaryProductType]?.name}}</td>\r\n\r\n                                            <td class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\" [attr.data-heading]=\"r.excursionName + ':'\">{{ancillary.excursionName}}</td>\r\n                                            <td class=\"divider ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\" [attr.data-heading]=\"r.passenger + ':'\">{{ancillary.passengerNumber}} {{request.passengers[ancillary.passengerNumber - 1].firstName}} {{request.passengers[ancillary.passengerNumber - 1].lastName}}</td>\r\n\r\n                                            <td class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.transferType + ':'\">{{transferTypeArray[ancillary.transferType]?.name}}</td>\r\n                                            <td class=\"divider ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.quantity + ':'\">{{ancillary.quantity}}</td>\r\n\r\n                                            <td class=\"divider ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></td>\r\n\r\n                                            <td class=\"status\" [attr.data-heading]=\"r.approvalStatus + ':'\">{{statusEnum[ancillary.approvalStatus]}}</td>\r\n                                        </tr>\r\n\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"noteAncEmp?.length > 0 || noteAncAdmin?.length > 0\">\r\n                            <tr *ngIf=\"noteAncEmp?.length > 0\">\r\n                                <td>\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteAncEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteAncAdmin?.length > 0\">\r\n                                <td>\r\n                                    <strong>{{r.adminNote}}</strong>\r\n                                    <p>{{noteAncAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n            </div>\r\n\r\n            <requests-nav [type]=\"reviewType\" [requestId]=\"requestId\"></requests-nav>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/manager-review/manager-review.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "hr {\n  border-top: 2px solid #fff; }\n\n@media (min-width: 1200px) {\n  .review-request--passengers .passenger-name {\n    width: 280px;\n    min-width: 280px; }\n  .review-request--passengers .passenger-dob {\n    width: 140px;\n    min-width: 140px; }\n  .review-request--passengers .passenger-pass {\n    width: 245px;\n    min-width: 245px; }\n  .review-request--passengers .passenger-phone {\n    width: 170px;\n    min-width: 170px; }\n  .review-request--passengers .passenger-email {\n    width: 245px;\n    min-width: 245px; }\n  .review-request .status {\n    padding-right: 15px;\n    width: 185px;\n    min-width: 185px; }\n  .review-request--hotels .hotel-date {\n    width: 280px;\n    min-width: 280px; }\n  .review-request--hotels .hotel-info {\n    width: 315px;\n    min-width: 315px; }\n  .review-request--hotels .hotel-type {\n    width: 300px;\n    min-width: 300px; }\n  .review-request--ancillaries {\n    margin-bottom: 15px; }\n    .review-request--ancillaries .ancillary-destination {\n      width: 280px;\n      min-width: 280px; }\n    .review-request--ancillaries .ancillary-product {\n      width: 150px;\n      min-width: 150px; }\n    .review-request--ancillaries .ancillary-name {\n      width: 265px;\n      min-width: 265px; }\n      .review-request--ancillaries .ancillary-name ~ .ancillary-passenger {\n        width: 200px;\n        min-width: 200px; }\n    .review-request--ancillaries .ancillary-passenger {\n      width: 465px;\n      min-width: 465px; }\n    .review-request--ancillaries .ancillary-type {\n      width: 265px;\n      min-width: 265px; }\n    .review-request--ancillaries .ancillary-quantity {\n      width: 200px;\n      min-width: 200px; }\n    .review-request--ancillaries .ancillary-car-spacer {\n      width: 465px;\n      min-width: 465px; } }\n\n.review-request--flights .flight-pax {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pax {\n      display: table-cell;\n      font-size: 36px;\n      color: #aeb2b4; } }\n\n@media (min-width: 1200px) {\n  .review-request--flights .flight-departure {\n    width: 259px;\n    min-width: 259px;\n    padding-right: 15px;\n    position: relative; }\n    .review-request--flights .flight-departure--outbound::after, .review-request--flights .flight-departure--inbound::after {\n      content: \"\\F072\";\n      display: inline-block;\n      color: #9acbe7;\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 5px;\n      top: 50%;\n      transform: translateY(-50%); }\n    .review-request--flights .flight-departure--inbound::after {\n      transform: translateY(-50%) scale(-1, 1); }\n  .review-request--flights .flight-destination {\n    width: 315px;\n    min-width: 315px;\n    padding-right: 15px; }\n  .review-request--flights .flight-date {\n    width: 135px;\n    min-width: 135px; }\n  .review-request--flights .flight-number {\n    width: 165px;\n    min-width: 165px;\n    padding-right: 15px; } }\n\n.review-request--flights .flight-status {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-status {\n      display: table-cell;\n      width: 185px;\n      min-width: 185px;\n      padding-right: 15px; } }\n  .review-request--flights .flight-status--mobile {\n    display: block; }\n    @media (min-width: 1200px) {\n      .review-request--flights .flight-status--mobile {\n        display: none; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/manager-review/manager-review.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ManagerReviewComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ManagerReviewComponent = (function () {
    function ManagerReviewComponent(httpClient, router, route, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.router = router;
        this.route = route;
        this.resourcesService = resourcesService;
        this.reviewType = 'manager';
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */];
        this.ancillaryProductEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["a" /* AncillaryProductEnum */];
        this.transferTypeEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["f" /* TransferTypeEnum */];
        this.statusArray = [];
        this.typeOfPassArray = new Array();
        this.ancillaryProductsArray = new Array();
        this.transferTypeArray = new Array();
        this.notePaxEmp = "";
        this.notePaxAdmin = "";
        this.noteFlightEmp = "";
        this.noteFlightAdmin = "";
        this.noteHotelEmp = "";
        this.noteHotelAdmin = "";
        this.noteAncEmp = "";
        this.noteAncAdmin = "";
        this.employeeStatus = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */];
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.typeOfPassArray = resourcesService.getTypeOfPasses();
            _this.ancillaryProductsArray = resourcesService.getAncillaryProducts();
            _this.transferTypeArray = resourcesService.getTransferTypes();
        });
    }
    ManagerReviewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            window.scrollTo(0, 0);
            _this.request = new __WEBPACK_IMPORTED_MODULE_4__models_request__["a" /* Request */]();
            _this.requestId = _this.route.snapshot.params['requestId'];
            if (!_this.requestId) {
                _this.router.navigate(['/home']);
            }
            _this.httpClient.get('api/request/GetManagerReviewRequest?Id=' + params['requestId'])
                .toPromise()
                .then(function (res) {
                _this.request = JSON.parse(res.text());
            })
                .catch(function (e) {
                console.log('error ' + e);
                _this.router.navigate(['/home']);
                return;
            });
        });
    };
    return ManagerReviewComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Number)
], ManagerReviewComponent.prototype, "selectedEmployee", void 0);
ManagerReviewComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-manager-review',
        template: __webpack_require__("../../../../../src/app/manager-review/manager-review.component.html"),
        styles: [__webpack_require__("../../../../../src/app/manager-review/manager-review.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], ManagerReviewComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=manager-review.component.js.map

/***/ }),

/***/ "../../../../../src/app/models/ancillary.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Ancillary; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");

var Ancillary = (function () {
    function Ancillary() {
        this.status = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.approvalStatus = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.quantity = 1;
    }
    return Ancillary;
}());

//# sourceMappingURL=ancillary.js.map

/***/ }),

/***/ "../../../../../src/app/models/enums.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AncillaryProductEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return TransferTypeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return InsuranceTypeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return StatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return TypeOfPassEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return NoteSectionEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return NoteTypeEnum; });
/* unused harmony export ActivityLogUpdateTypeEnum */
/* unused harmony export ActivityLogSectionTypeEnum */
/* unused harmony export ActivityLogUserTypeEnum */
var AncillaryProductEnum;
(function (AncillaryProductEnum) {
    AncillaryProductEnum[AncillaryProductEnum["Excursion"] = 0] = "Excursion";
    AncillaryProductEnum[AncillaryProductEnum["Transfer"] = 1] = "Transfer";
    AncillaryProductEnum[AncillaryProductEnum["Insurance"] = 2] = "Insurance";
    AncillaryProductEnum[AncillaryProductEnum["CarRental"] = 3] = "CarRental";
})(AncillaryProductEnum || (AncillaryProductEnum = {}));
var TransferTypeEnum;
(function (TransferTypeEnum) {
    TransferTypeEnum[TransferTypeEnum["Shared"] = 0] = "Shared";
    TransferTypeEnum[TransferTypeEnum["Private"] = 1] = "Private";
})(TransferTypeEnum || (TransferTypeEnum = {}));
var InsuranceTypeEnum;
(function (InsuranceTypeEnum) {
    InsuranceTypeEnum[InsuranceTypeEnum["InsuranceType1"] = 0] = "InsuranceType1";
    InsuranceTypeEnum[InsuranceTypeEnum["InsuranceType2"] = 1] = "InsuranceType2";
})(InsuranceTypeEnum || (InsuranceTypeEnum = {}));
var StatusEnum;
(function (StatusEnum) {
    StatusEnum[StatusEnum["Pending"] = 0] = "Pending";
    StatusEnum[StatusEnum["Approved"] = 1] = "Approved";
    StatusEnum[StatusEnum["Denied"] = 2] = "Denied";
})(StatusEnum || (StatusEnum = {}));
var TypeOfPassEnum;
(function (TypeOfPassEnum) {
    TypeOfPassEnum[TypeOfPassEnum["YCP"] = 0] = "YCP";
    TypeOfPassEnum[TypeOfPassEnum["BCP"] = 1] = "BCP";
    TypeOfPassEnum[TypeOfPassEnum["LMCP"] = 2] = "LMCP";
    TypeOfPassEnum[TypeOfPassEnum["NONE"] = 3] = "NONE";
    TypeOfPassEnum[TypeOfPassEnum["IP"] = 4] = "IP";
})(TypeOfPassEnum || (TypeOfPassEnum = {}));
var NoteSectionEnum;
(function (NoteSectionEnum) {
    NoteSectionEnum[NoteSectionEnum["Passengers"] = 0] = "Passengers";
    NoteSectionEnum[NoteSectionEnum["Flights"] = 1] = "Flights";
    NoteSectionEnum[NoteSectionEnum["Hotels"] = 2] = "Hotels";
    NoteSectionEnum[NoteSectionEnum["Ancillaries"] = 3] = "Ancillaries";
    NoteSectionEnum[NoteSectionEnum["Booking"] = 4] = "Booking";
    NoteSectionEnum[NoteSectionEnum["Reject"] = 5] = "Reject";
})(NoteSectionEnum || (NoteSectionEnum = {}));
var NoteTypeEnum;
(function (NoteTypeEnum) {
    NoteTypeEnum[NoteTypeEnum["Employee"] = 0] = "Employee";
    NoteTypeEnum[NoteTypeEnum["Admin"] = 1] = "Admin";
    NoteTypeEnum[NoteTypeEnum["Payload"] = 2] = "Payload";
})(NoteTypeEnum || (NoteTypeEnum = {}));
var ActivityLogUpdateTypeEnum;
(function (ActivityLogUpdateTypeEnum) {
    ActivityLogUpdateTypeEnum[ActivityLogUpdateTypeEnum["Status"] = 0] = "Status";
    ActivityLogUpdateTypeEnum[ActivityLogUpdateTypeEnum["Data"] = 1] = "Data";
    ActivityLogUpdateTypeEnum[ActivityLogUpdateTypeEnum["Price"] = 2] = "Price";
})(ActivityLogUpdateTypeEnum || (ActivityLogUpdateTypeEnum = {}));
var ActivityLogSectionTypeEnum;
(function (ActivityLogSectionTypeEnum) {
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Passengers"] = 0] = "Passengers";
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Flights"] = 1] = "Flights";
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Hotels"] = 2] = "Hotels";
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Ancillaries"] = 3] = "Ancillaries";
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Booking"] = 4] = "Booking";
    ActivityLogSectionTypeEnum[ActivityLogSectionTypeEnum["Reject"] = 5] = "Reject";
})(ActivityLogSectionTypeEnum || (ActivityLogSectionTypeEnum = {}));
var ActivityLogUserTypeEnum;
(function (ActivityLogUserTypeEnum) {
    ActivityLogUserTypeEnum[ActivityLogUserTypeEnum["Employee"] = 0] = "Employee";
    ActivityLogUserTypeEnum[ActivityLogUserTypeEnum["Admin"] = 1] = "Admin";
    ActivityLogUserTypeEnum[ActivityLogUserTypeEnum["Payload"] = 2] = "Payload";
})(ActivityLogUserTypeEnum || (ActivityLogUserTypeEnum = {}));
//# sourceMappingURL=enums.js.map

/***/ }),

/***/ "../../../../../src/app/models/flight.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Flight; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");

var Flight = (function () {
    function Flight() {
        this.status = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.approvalStatus = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
    }
    return Flight;
}());

//# sourceMappingURL=flight.js.map

/***/ }),

/***/ "../../../../../src/app/models/hotel.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Hotel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");

var Hotel = (function () {
    function Hotel() {
        this.status = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.approvalStatus = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
    }
    return Hotel;
}());

//# sourceMappingURL=hotel.js.map

/***/ }),

/***/ "../../../../../src/app/models/login.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Login; });
var Login = (function () {
    function Login() {
    }
    return Login;
}());

//# sourceMappingURL=login.js.map

/***/ }),

/***/ "../../../../../src/app/models/note.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Note; });
var Note = (function () {
    function Note(eb, sid, tid) {
        this.enteredBy = eb;
        this.sectionId = sid;
        this.typeId = tid;
        this.enteredOn = new Date();
    }
    return Note;
}());

//# sourceMappingURL=note.js.map

/***/ }),

/***/ "../../../../../src/app/models/passenger.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Passenger; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");

var Passenger = (function () {
    function Passenger(passengerNumber) {
        if (passengerNumber === void 0) { passengerNumber = 1; }
        this.status = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.approvalStatus = __WEBPACK_IMPORTED_MODULE_0__enums__["e" /* StatusEnum */].Pending;
        this.passengerNumber = passengerNumber;
    }
    return Passenger;
}());

//# sourceMappingURL=passenger.js.map

/***/ }),

/***/ "../../../../../src/app/models/password.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Password; });
var Password = (function () {
    function Password() {
    }
    return Password;
}());

//# sourceMappingURL=password.js.map

/***/ }),

/***/ "../../../../../src/app/models/register.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Register; });
var Register = (function () {
    function Register() {
    }
    return Register;
}());

//# sourceMappingURL=register.js.map

/***/ }),

/***/ "../../../../../src/app/models/request.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Request; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__passenger__ = __webpack_require__("../../../../../src/app/models/passenger.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");


var Request = (function () {
    function Request() {
        this.passengers = new Array(new __WEBPACK_IMPORTED_MODULE_0__passenger__["a" /* Passenger */]);
        this.flights = new Array();
        this.hotels = new Array();
        this.ancillaries = new Array();
        this.notes = new Array();
        this.status = __WEBPACK_IMPORTED_MODULE_1__enums__["e" /* StatusEnum */].Pending;
        this.requestDate = new Date();
    }
    return Request;
}());

//# sourceMappingURL=request.js.map

/***/ }),

/***/ "../../../../../src/app/my-requests/my-requests.component.html":
/***/ (function(module, exports) {

module.exports = "<basic-info></basic-info>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.viewMyRequests}}</h1>\r\n            <list-of-all-requests [tableType]=\"tableType\" [tableSettings]=\"tableSettings\" [source]=\"source\"></list-of-all-requests>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/my-requests/my-requests.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/my-requests/my-requests.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyRequestsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var MyRequestsComponent = (function () {
    function MyRequestsComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_1__models_enums__["e" /* StatusEnum */];
        this.searchFilter = function (query) {
            return [
                {
                    field: 'RequestDate',
                    search: query
                },
                {
                    field: 'FirstName',
                    search: query
                },
                {
                    field: 'LastName',
                    search: query
                },
                {
                    field: 'Status',
                    search: query
                },
                {
                    field: 'TypeOfPasses',
                    search: query
                },
                {
                    field: 'NumberOfPasses',
                    search: query
                }
            ];
        };
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.initTable();
        });
    }
    MyRequestsComponent.prototype.ngOnInit = function () {
        this.initTable();
    };
    MyRequestsComponent.prototype.initTable = function () {
        var _this = this;
        this.tableType = 'viewByYear';
        // Data source for ng2-smart-table
        this.requestlistViewArray()
            .then(function (res) {
            _this.source = new __WEBPACK_IMPORTED_MODULE_3_ng2_smart_table__["a" /* LocalDataSource */](res);
        });
        // Columns settings for ng2-smart-table
        this.columns = {
            RequestDate: {
                title: this.r.initiated,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_4_moment__(id).format("DD MMM YYYY");
                }
            },
            TypeOfPasses: {
                title: this.r.typeOfPasses,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        var parsedDate = cell.replace(/,/g, '<br/>');
                        return parsedDate.toLocaleString();
                    }
                },
            },
            NumberOfPasses: {
                title: this.r.passesCount,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        var parsedDate = cell.replace(/,/g, '<br/>');
                        return parsedDate.toLocaleString();
                    }
                },
            },
            Status: {
                title: this.r.status,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_1__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        return _this.r['status' + id];
                    }
                }
            }
        };
        this.tableSettings = {
            columns: this.columns,
            filters: this.searchFilter,
            route: '/request-progress/'
        };
    };
    MyRequestsComponent.prototype.requestlistViewArray = function () {
        var url = 'api/Request/GetRequestsList';
        return this.httpClient.get(url)
            .toPromise()
            .then(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    MyRequestsComponent.prototype.handleError = function (error) {
        console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    return MyRequestsComponent;
}());
MyRequestsComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'my-requests',
        template: __webpack_require__("../../../../../src/app/my-requests/my-requests.component.html"),
        styles: [__webpack_require__("../../../../../src/app/my-requests/my-requests.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], MyRequestsComponent);

var _a, _b;
//# sourceMappingURL=my-requests.component.js.map

/***/ }),

/***/ "../../../../../src/app/nav-menu/nav-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<nav class=\"container\">\r\n    <ul class=\"nav\">\r\n        <li role=\"presentation\"><a routerLink=\"/my-requests\" routerLinkActive=\"active\">{{r.viewMyRequests}}</a></li>\r\n        <li role=\"presentation\"><a routerLink=\"/new-request\" routerLinkActive=\"active\">{{r.submitNewRequest}}</a></li>\r\n        <li role=\"presentation\" *ngIf=\"userRoles.isManager\"><a routerLink=\"/team-requests\" routerLinkActive=\"active\">{{r.viewTeamRequests}}</a></li>\r\n        <li role=\"presentation\" *ngIf=\"userRoles.isAdmin\"><a routerLink=\"/all-requests\" routerLinkActive=\"active\">{{r.viewAllRequests}}</a></li>\r\n        <li role=\"presentation\" *ngIf=\"userRoles.isPayload\"><a routerLink=\"/all-flightonly-requests\" routerLinkActive=\"active\">{{r.viewFlightRequests}}</a></li>\r\n        <li role=\"presentation\"><a routerLink=\"/login-register\" routerLinkActive=\"active\">{{r.signOut}} <i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i></a></li>\r\n    </ul>\r\n</nav>"

/***/ }),

/***/ "../../../../../src/app/nav-menu/nav-menu.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "@keyframes addOverflowScroll {\n  99% {\n    overflow: hidden; }\n  100% {\n    overflow: auto; } }\n\n:host {\n  display: block;\n  background-color: #f2f2f2;\n  max-height: 0;\n  overflow: hidden;\n  transition: 0.5s linear max-height; }\n  :host.nav--admin .nav {\n    -ms-flex-direction: column;\n        flex-direction: column; }\n  @media (min-width: 992px) {\n    :host.nav--admin {\n      display: block;\n      max-height: none; }\n      :host.nav--admin .nav {\n        -ms-flex-direction: row;\n            flex-direction: row; }\n        :host.nav--admin .nav li:last-child {\n          white-space: nowrap;\n          margin-left: auto; } }\n  :host.nav--user .nav {\n    -ms-flex-direction: column;\n        flex-direction: column; }\n  @media (min-width: 768px) {\n    :host.nav--user {\n      display: block;\n      max-height: none; }\n      :host.nav--user .nav {\n        -ms-flex-direction: row;\n            flex-direction: row; }\n        :host.nav--user .nav li:last-child {\n          white-space: nowrap;\n          margin-left: auto; } }\n  :host.active {\n    display: block;\n    max-height: 256px;\n    animation: addOverflowScroll 0.5s linear forwards; }\n\n.nav {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  -ms-flex-align: center;\n      align-items: center; }\n  .nav li .fa {\n    margin-left: 5px; }\n  .nav li a {\n    color: #333;\n    font-size: 16px; }\n    @media (min-width: 1200px) {\n      .nav li a {\n        font-size: 18px; } }\n    .nav li a.active, .nav li a:focus, .nav li a:hover {\n      text-decoration: none;\n      background-color: transparent;\n      font-weight: bold; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/nav-menu/nav-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NavMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NavMenuComponent = (function () {
    function NavMenuComponent(router, resourcesService) {
        var _this = this;
        this.router = router;
        this.resourcesService = resourcesService;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    NavMenuComponent.prototype.ngOnInit = function () {
    };
    return NavMenuComponent;
}());
NavMenuComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nav-menu',
        template: __webpack_require__("../../../../../src/app/nav-menu/nav-menu.component.html"),
        styles: [__webpack_require__("../../../../../src/app/nav-menu/nav-menu.component.scss")],
        inputs: ['userRoles']
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], NavMenuComponent);

var _a, _b;
//# sourceMappingURL=nav-menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/new-request/new-request.component.html":
/***/ (function(module, exports) {

module.exports = "<basic-info></basic-info>\r\n\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n\r\n            <h1> {{r.submitNewRequest}}</h1>\r\n            <form class=\"request-form\" #requestForm=\"ngForm\">\r\n                <!-- Passengers -->\r\n                <section id=\"passengers\">\r\n                    <div class=\"request-heading\">\r\n                        <i class=\"fa fa-ticket\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.passengersSectionTitle}}</h3>\r\n                            <p>{{r.passengersSectionSubTitle}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- for each passenger in this request -->\r\n                    <div class=\"request-form__section\" *ngFor=\"let passenger of request.passengers; let passengerIndex = index; let $last = last\"\r\n                        [ngClass]=\"{'last':$last}\">\r\n                        <div class=\"request-form__row request-form__row--collapse-sm\">\r\n                            <div class=\"passenger-number\">\r\n                                <label>{{passengerIndex + 1}}</label>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-9\">\r\n                                <label>{{r.passengerName}}\r\n                                    <span class=\"label-note\" *ngIf=\"passengerIndex === 0\">{{r.employee}}</span>\r\n                                </label>\r\n                                <div class=\"field-group\">\r\n                                    <input name=\"firstName{{passengerIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"passenger.firstName\" [placeholder]=\"r.firstName\" maxlength=\"50\" />\r\n                                    <input name=\"middleName{{passengerIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"passenger.middleName\" [placeholder]=\"r.middleName\" maxlength=\"50\"/>\r\n                                    <input name=\"lastName{{passengerIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"passenger.lastName\" [placeholder]=\"r.lastName\" maxlength=\"50\"/>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-3\">\r\n                                <label>{{r.dob}}</label>\r\n                                <input name=\"DOB{{passengerIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"passenger.DOB\" [textMask]=\"{mask:dateMask}\"\r\n                                    [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(passenger.DOB, false, true, true)\" required\r\n                                    #dob=\"ngModel\" />\r\n                                <div *ngIf=\"dob.errors && (dob.dirty || dob.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"request-form__row request-form__row--collapse-sm\">\r\n                            <div class=\"col-xs-12 col-sm-4 col-md-3\" [class.form-error]=\"typeOfPass.errors && (typeOfPass.dirty || typeOfPass.touched)\">\r\n                                <label>{{r.typeOfPass}}</label>\r\n                                <select class=\"form-control\" name=\"typeOfPass{{passengerIndex}}\" [(ngModel)]=\"passenger.typeOfPass\" (ngModelChange)=\"typeOfPassChanged(passengerIndex)\"\r\n                                    required #typeOfPass=\"ngModel\">\r\n                                    <option *ngFor=\"let pass of typeOfPassArray\" [ngValue]=\"pass.value\">{{pass.name}}</option>\r\n                                </select>\r\n                                <div *ngIf=\"typeOfPass.errors && (typeOfPass.dirty || typeOfPass.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-4 col-md-3\">\r\n                                <label>{{r.phoneNumber}}\r\n                                    <span class=\"label-note\" *ngIf=\"passengerIndex !== 0\">{{r.optional}}</span>\r\n                                </label>\r\n                                <input name=\"phoneNumber{{passengerIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"passenger.phoneNumber\" maxlength=\"18\"/>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-4 col-md-6\">\r\n                                <label>{{r.email}}\r\n                                    <span class=\"label-note\" *ngIf=\"passengerIndex !== 0\">{{r.optional}}</span>\r\n                                </label>\r\n                                <input name=\"email{{passengerIndex}}\" class=\"form-control\" type=\"email\" [(ngModel)]=\"passenger.email\" maxlength=\"50\"/>\r\n                            </div>\r\n                            <div class=\"delete\" *ngIf=\"request.passengers.length > 1\">\r\n                                <button class=\"btn btn-default\" (click)=\"deletePassenger(passengerIndex)\">\r\n                                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!-- end foreach passenger-->\r\n\r\n                    <div class=\"request-form__row-split\">\r\n                        <div id=\"passengerNote\" class=\"request-form__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('passengerNote')\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"passengerNoteTextArea\" cols=\"40\" rows=\"5\" [(ngModel)]=\"passengerNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('passengerNote', passengerNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <button class=\"btn btn-secondary btn-wide\" (click)=\"addPassenger()\">{{r.addPassenger}}\r\n                            <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n                <hr />\r\n\r\n                <!-- Flights -->\r\n                <section id=\"flights\">\r\n                    <div class=\"request-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.flightsSectionTitle}}</h3>\r\n                            <p>{{r.flightsSectionSubTitle}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- foreach flight in this request -->\r\n                    <div class=\"request-form__section\" *ngFor=\"let flight of request.flights; let flightIndex = index; let $last = last\" [ngClass]=\"{'last':$last}\">\r\n                        <div class=\"request-form__row request-form__row--collapse-md\">\r\n                            <div class=\"passenger-number\">\r\n                                <label>{{flightIndex + 1}}</label>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"departingFrom.errors && (departingFrom.dirty || departingFrom.touched)\">\r\n                                <label>{{r.departFrom}}</label>\r\n                                <input name=\"departingFrom{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.departFrom\" auto-complete\r\n                                    [source]=\"availableGateways\" (valueChanged)=\"gatewayChanged($event, flightIndex)\" [disabled]=\"!gatewaysListReady\"\r\n                                    required #departingFrom=\"ngModel\" maxlength=\"50\"/>\r\n                                <div *ngIf=\"departingFrom.errors && (departingFrom.dirty || departingFrom.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"departTo.errors && (departTo.dirty || departTo.touched)\">\r\n                                <label>{{r.departTo}}</label>\r\n                                <input name=\"departTo{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.departTo\" auto-complete [source]=\"flight.availableDestinations\"\r\n                                    [disabled]=\"!destinationsListReady\" required #departTo=\"ngModel\" maxlength=\"50\"/>\r\n                                <div *ngIf=\"departTo.errors && (departTo.dirty || departTo.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3 clear-left\" [class.form-error]=\"departDate.errors && (departDate.dirty || departDate.touched)\">\r\n                                <label>{{r.departDate}}</label>\r\n                                <input name=\"departDate{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.departDate\" [textMask]=\"{mask:dateMask}\"\r\n                                    [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(flight.departDate, true, false, true)\"\r\n                                    required #departDate=\"ngModel\" />\r\n                                <div *ngIf=\"departDate.errors && (departDate.dirty || departDate.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\">\r\n                                <label>{{r.flightNum}}\r\n                                    <span class=\"label-note\">{{r.optional}}</span>\r\n                                </label>\r\n                                <input name=\"departFlight{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.departFlight\" maxlength=\"50\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"request-form__row request-form__row--collapse-md\">\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"returnFrom.errors && (returnFrom.dirty || returnFrom.touched)\">\r\n                                <label>{{r.returnFrom}}</label>\r\n                                <input name=\"returnFrom{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.returnFrom\" auto-complete [source]=\"flight.availableDestinations\"\r\n                                    [disabled]=\"!destinationsListReady\" required #returnFrom=\"ngModel\" maxlength=\"50\"/>\r\n                                <div *ngIf=\"returnFrom.errors && (returnFrom.dirty || returnFrom.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"returnTo.errors && (returnTo.dirty || returnTo.touched)\">\r\n                                <label>{{r.returnTo}}</label>\r\n                                <input name=\"returnTo{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.returnTo\" auto-complete [source]=\"availableGateways\"\r\n                                    [disabled]=\"!gatewaysListReady\" required #returnTo=\"ngModel\" maxlength=\"50\"/>\r\n                                <div *ngIf=\"returnTo.errors && (returnTo.dirty || returnTo.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3 clear-left\" [class.form-error]=\"returnDate.errors && (returnDate.dirty || returnDate.touched)\">\r\n                                <label>{{r.returnDate}}</label>\r\n                                <input name=\"returnDate{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.returnDate\" [textMask]=\"{mask:dateMask}\"\r\n                                    [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(flight.returnDate, true, false, true)\"\r\n                                    required #returnDate=\"ngModel\" />\r\n                                <div *ngIf=\"returnDate.errors && (returnDate.dirty || returnDate.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\">\r\n                                <label>{{r.flightNum}}\r\n                                    <span class=\"label-note\">{{r.optional}}</span>\r\n                                </label>\r\n                                <input name=\"returnFlight{{flightIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"flight.returnFlight\" maxlength=\"50\"/>\r\n                            </div>\r\n                            <div class=\"delete\">\r\n                                <button class=\"btn btn-default\" (click)=\"deleteFlight(flightIndex)\">\r\n                                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!--end foreach flight-->\r\n\r\n                    <div class=\"request-form__row-split\">\r\n                        <div id=\"flightNote\" class=\"request-form__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('flightNote')\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"flightNoteTextArea\" cols=\"40\" rows=\"5\" [(ngModel)]=\"flightNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('flightNote', flightNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <button class=\"btn btn-secondary btn-wide\" (click)=\"addFlight()\" [disabled]=\"request.flights.length >= 3 || flightsDisabled\">{{r.addFlight}}\r\n                            <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n                <hr />\r\n\r\n                <!-- Hotels -->\r\n                <section id=\"hotels\">\r\n                    <div class=\"request-heading\">\r\n                        <i class=\"fa fa-bed\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.hotelsSectionTitle}}</h3>\r\n                            <p>{{r.hotelsSectionSubTitle}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- foreach hotel in this request -->\r\n                    <div class=\"request-form__section\" *ngFor=\"let hotel of request.hotels; let hotelIndex = index; let $last = last\" [ngClass]=\"{'last':$last}\">\r\n\r\n                        <div class=\"request-form__row request-form__row--collapse-md\">\r\n                            <div class=\"passenger-number\">\r\n                                <label>{{hotelIndex + 1}}</label>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-9 col-md-2\" [class.form-error]=\"checkInDate.errors && (checkInDate.dirty || checkInDate.touched)\">\r\n                                <label>{{r.checkInDate}}</label>\r\n                                <input name=\"checkInDate{{hotelIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.checkInDate\" [textMask]=\"{mask:dateMask}\"\r\n                                    [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(hotel.checkInDate, true, false, true)\"\r\n                                    required #checkInDate=\"ngModel\" />\r\n                                <div *ngIf=\"checkInDate.errors && (checkInDate.dirty || checkInDate.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-3 col-md-2\" [class.form-error]=\"duration.errors && (duration.dirty || duration.touched)\">\r\n                                <label>{{r.duration}}</label>\r\n                                <input name=\"duration{{hotelIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.duration\" required #duration=\"ngModel\"\r\n                                    [textMask]=\"{mask:maxValueMask, guide:false}\" />\r\n                                <div *ngIf=\"duration.errors && (duration.dirty || duration.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-md-2\" [class.form-error]=\"destination.errors && (destination.dirty || destination.touched)\">\r\n                                <label>{{r.destination}}</label>\r\n                                <input name=\"destination{{hotelIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.destination\" auto-complete [source]=\"hotelDestinations\"\r\n                                    (valueChanged)=\"hotelDestinationChanged($event, hotelIndex)\" [disabled]=\"!hotelDestinationsListReady\"\r\n                                    required #destination=\"ngModel\" />\r\n                                <div *ngIf=\"destination.errors && (destination.dirty || destination.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-md-4\" [class.form-error]=\"name.errors && (name.dirty || name.touched)\">\r\n                                <label>{{r.hotelName}}</label>\r\n                                <input name=\"name{{hotelIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.name\" auto-complete [source]=\"hotel.availableResorts\"\r\n                                    [disabled]=\"!hotelsListReady\" required #name=\"ngModel\" maxlength=\"50\" />\r\n                                <div *ngIf=\"name.errors && (name.dirty || name.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-md-2\">\r\n                                <label>{{r.roomType}}</label>\r\n                                <input name=\"roomType{{hotelIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"hotel.roomType\" maxlength=\"50\" />\r\n                            </div>\r\n                            <div class=\"delete\">\r\n                                <button class=\"btn btn-default\" (click)=\"deleteHotel(hotelIndex)\">\r\n                                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!--end foreach hotel-->\r\n\r\n                    <div class=\"request-form__row-split\">\r\n                        <div id=\"hotelNote\" class=\"request-form__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('hotelNote')\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"hotelNoteTextArea\" cols=\"40\" rows=\"5\" [(ngModel)]=\"hotelNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('hotelNote', hotelNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <button class=\"btn btn-secondary btn-wide\" (click)=\"addHotel()\" [disabled]=\"(request.hotels.length >= request.flights.length * 2 && request.flights.length != 0) || (request.hotels.length == 6 && request.flights.length == 0)\">{{r.addHotel}}\r\n                            <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n                <hr />\r\n\r\n                <!-- Ancillaries -->\r\n                <section id=\"ancillaries\">\r\n                    <div class=\"request-heading\">\r\n                        <i class=\"fa fa-cubes\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.ancillariesSectionTitle}}</h3>\r\n                            <p>{{r.ancillariesSectionSubTitle}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- foreach ancillary product in this request -->\r\n                    <div class=\"request-form__section\" *ngFor=\"let ancillary of request.ancillaries; let ancillaryIndex = index; let $last = last\"\r\n                        [ngClass]=\"{'last':$last}\">\r\n                        <!-- labels -->\r\n                        <div class=\"request-form__row request-form__row--collapse-md\">\r\n                            <div class=\"passenger-number\">\r\n                                <label>{{ancillaryIndex + 1}}</label>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-3\" [class.form-error]=\"ancillaryDestination.errors && (ancillaryDestination.dirty || ancillaryDestination.touched)\">\r\n                                <label>{{r.destination}}</label>\r\n                                <input name=\"ancillaryDestination{{ancillaryIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"ancillary.destination\"\r\n                                    auto-complete [source]=\"hotelDestinations\" required #ancillaryDestination=\"ngModel\" />\r\n                                <div *ngIf=\"ancillaryDestination.errors && (ancillaryDestination.dirty || ancillaryDestination.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-xs-12 col-sm-6 col-md-2\" [class.form-error]=\"ancillaryProductType.errors && (ancillaryProductType.dirty || ancillaryProductType.touched)\">\r\n                                <label>{{r.product}}</label>\r\n                                <select name=\"ancillaryProductType{{ancillaryIndex}}\" class=\"form-control\" [(ngModel)]=\"ancillary.ancillaryProductType\" (ngModelChange)=\"productChange($event, ancillaryIndex)\"\r\n                                    required #ancillaryProductType=\"ngModel\">\r\n                                    <option *ngFor=\"let product of ancillaryProductsArray\" [ngValue]=\"product.value\">{{product.name}}</option>\r\n                                </select>\r\n                                <div *ngIf=\"ancillaryProductType.errors && (ancillaryProductType.dirty || ancillaryProductType.touched)\" class=\"form-error__message\">\r\n                                    <span>{{r.ERR_Required}}</span>\r\n                                </div>\r\n                            </div>\r\n                            <!-- show this only when excursion is selected -->\r\n                            <div class=\"ancillary-group request-form__row col-md-7\" *ngIf=\"ancillary.ancillaryProductType == 0\">\r\n                                <div class=\"col-xs-12 col-md-4\">\r\n                                    <label>{{r.excursionDate}}</label>\r\n                                    <input name=\"excursionDate{{ancillaryIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"ancillary.excursionDate\" [textMask]=\"{mask:dateMask}\"\r\n                                        [placeholder]=\"r.dateFormat\" (blur)=\"validateDate(ancillary.excursionDate, true, false, true)\"\r\n                                    />\r\n                                </div>\r\n                                <div class=\"col-xs-12 col-sm-9 col-md-5\">\r\n                                    <label>{{r.excursionName}}</label>\r\n                                    <input name=\"excursionName{{ancillaryIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"ancillary.excursionName\" required\r\n                                        #excursionName=\"ngModel\" maxlength=\"50\" />\r\n                                    <div *ngIf=\"excursionName.errors && (excursionName.dirty || excursionName.touched)\" class=\"form-error__message\">\r\n                                        <span>{{r.ERR_Required}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-xs-12 col-sm-3 col-md-3\">\r\n                                    <label>{{r.passenger}}</label>\r\n                                    <select name=\"excursionPassengerName{{ancillaryIndex}}\" class=\"form-control\" [(ngModel)]=\"ancillary.passengerNumber\" required\r\n                                        #excursionPassengerName=\"ngModel\">\r\n                                        <option *ngFor=\"let passenger of request.passengers\" [ngValue]=\"passenger.passengerNumber\">{{passenger.passengerNumber}} {{passenger.firstName}}</option>\r\n                                    </select>\r\n                                    <div *ngIf=\"excursionPassengerName.errors && (excursionPassengerName.dirty || excursionPassengerName.touched)\" class=\"form-error__message\">\r\n                                        <span>{{r.ERR_Required}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- show this only when transfer is selected -->\r\n                            <div class=\"ancillary-group request-form__row col-md-7\" *ngIf=\"ancillary.ancillaryProductType == 1\">\r\n                                <div class=\"col-xs-12 col-sm-9 col-md-9\">\r\n                                    <label>{{r.transferType}}</label>\r\n                                    <select name=\"transferType{{ancillaryIndex}}\" class=\"form-control\" [(ngModel)]=\"ancillary.transferType\">\r\n                                        <option *ngFor=\"let transfer of transferTypeArray\" [ngValue]=\"transfer.value\">{{transfer.name}}</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-xs-12 col-sm-3 col-md-3\">\r\n                                    <label>{{r.quantity}}</label>\r\n                                    <input name=\"quantity{{ancillaryIndex}}\" class=\"form-control\" type=\"text\" [(ngModel)]=\"ancillary.quantity\" [textMask]=\"{mask:maxValueMask, guide:false}\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- show this only when insurance is selected -->\r\n                            <div class=\"ancillary-group request-form__row col-md-7\" *ngIf=\"ancillary.ancillaryProductType == 2\">\r\n                                <div class=\"col-xs-12 col-sm-3 col-md-3\">\r\n                                    <label>{{r.passenger}}</label>\r\n                                    <select name=\"insurancePassengerName{{ancillaryIndex}}\" class=\"form-control\" [(ngModel)]=\"ancillary.passengerNumber\" required\r\n                                        #insurancePassengerName=\"ngModel\">\r\n                                        <option *ngFor=\"let passenger of request.passengers\" [ngValue]=\"passenger.passengerNumber\">{{passenger.passengerNumber}} {{passenger.firstName}}</option>\r\n                                    </select>\r\n                                    <div *ngIf=\"insurancePassengerName.errors && (insurancePassengerName.dirty || insurancePassengerName.touched)\" class=\"form-error__message\">\r\n                                        <span>{{r.ERR_Required}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div class=\"delete\">\r\n                                <button class=\"btn btn-default\" (click)=\"deleteAncillary(ancillaryIndex)\">\r\n                                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!--end foreach ancillary-->\r\n\r\n                    <div class=\"request-form__row-split\">\r\n                        <div id=\"ancillaryNote\" class=\"request-form__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('ancillaryNote')\">{{r.addNote}}\r\n                                <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"ancillaryNoteTextArea\" cols=\"40\" rows=\"5\" [(ngModel)]=\"ancillaryNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('ancillaryNote', ancillaryNote)\">{{r.deleteNote}}\r\n                                    <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <button class=\"btn btn-secondary btn-wide\" (click)=\"addAncillary()\">{{r.addAlt}}\r\n                            <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n                <hr />\r\n\r\n                <section>\r\n                    <div class=\"request-form__row-split\">\r\n                        <button class=\"btn btn-danger btn-wide\" (click)=\"clearRequest()\">{{r.clearRequest}}</button>\r\n                        <button class=\"btn btn-step btn-wide\" (click)=\"goToReview()\" [disabled]=\"requestForm.invalid\">{{r.reviewAndSubmit}}\r\n                            <i class=\"fa fa-angle-right fa-lg\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n            </form>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/new-request/new-request.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "hr {\n  border-top: 2px solid #fff; }\n\n.request-form {\n  background-color: #ecf5fb;\n  padding: 15px 40px; }\n  .request-form > section {\n    padding: 15px; }\n    @media (min-width: 768px) {\n      .request-form > section {\n        padding: 30px 50px; } }\n    @media (min-width: 1200px) {\n      .request-form > section {\n        padding: 30px 100px; } }\n  .request-form__section {\n    margin-bottom: 15px; }\n    .request-form__section.last {\n      margin-bottom: 0; }\n\n.request-heading {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto; }\n  .request-heading i {\n    font-size: 2.7em;\n    color: #007cc3;\n    padding-right: 10px;\n    width: 55px;\n    height: 55px; }\n    .request-heading i.fa-ticket {\n      font-size: 2.7em; }\n    .request-heading i.fa-plane {\n      font-size: 2.8em; }\n    .request-heading i.fa-bed {\n      font-size: 2.4em; }\n    .request-heading i.fa-cubes {\n      font-size: 2em; }\n  .request-heading h3 {\n    color: #007cc3;\n    margin: 0; }\n  .request-heading p {\n    font-size: 14px;\n    color: #898989; }\n  .request-heading div {\n    display: block;\n    max-width: 100%; }\n\n.request-form__row {\n  position: relative; }\n  .request-form__row::after, .request-form__row::before {\n    display: table;\n    content: \" \"; }\n  .request-form__row::after {\n    clear: both; }\n  @media (min-width: 768px) {\n    .request-form__row--collapse-sm {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 992px) {\n    .request-form__row--collapse-md {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n  @media (min-width: 1200px) {\n    .request-form__row--collapse-lg {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto; } }\n\n.request-form__row-split {\n  display: block; }\n  @media (min-width: 768px) {\n    .request-form__row-split {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto;\n      position: relative;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n      -ms-flex-align: start;\n          align-items: flex-start;\n      margin-top: 15px; } }\n  .request-form__row-split .request-form__ancillary-note {\n    margin-bottom: 15px; }\n    @media (min-width: 768px) {\n      .request-form__row-split .request-form__ancillary-note {\n        padding-right: 15px; } }\n    .request-form__row-split .request-form__ancillary-note .ancillary-note label {\n      display: block; }\n      @media (min-width: 768px) {\n        .request-form__row-split .request-form__ancillary-note .ancillary-note label {\n          display: none; } }\n    .request-form__row-split .request-form__ancillary-note .ancillary-note textarea {\n      width: 100%;\n      resize: vertical;\n      margin-bottom: 15px; }\n      @media (min-width: 768px) {\n        .request-form__row-split .request-form__ancillary-note .ancillary-note textarea {\n          max-width: 420px; } }\n  .request-form__row-split > button {\n    margin-bottom: 15px; }\n    @media (min-width: 768px) {\n      .request-form__row-split > button {\n        margin-bottom: 0; } }\n    .request-form__row-split > button:last-of-type {\n      margin-bottom: 0; }\n\n.request-form__row > .passenger-number {\n  position: absolute;\n  left: -35px;\n  top: 25px;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  text-align: right;\n  padding-bottom: 10px;\n  font-size: 36px;\n  color: #aeb2b4; }\n\n.request-form__row > .delete {\n  position: absolute;\n  right: -50px;\n  bottom: 15px;\n  -ms-flex-item-align: center;\n      -ms-grid-row-align: center;\n      align-self: center;\n  text-align: center; }\n  @media (min-width: 768px) {\n    .request-form__row > .delete {\n      right: -55px; } }\n  .request-form__row > .delete .btn {\n    height: 48px;\n    border-width: 1px;\n    color: #898989;\n    font-size: 1.5em;\n    line-height: 1; }\n    .request-form__row > .delete .btn:hover, .request-form__row > .delete .btn:focus {\n      background-color: #fff;\n      color: #d00815; }\n\n.request-form__row > div[class^=\"col-\"] {\n  padding: 0; }\n  .request-form__row > div[class^=\"col-\"] > .field-group {\n    display: block; }\n    @media (min-width: 768px) {\n      .request-form__row > div[class^=\"col-\"] > .field-group {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex: 0 1 auto;\n            flex: 0 1 auto; } }\n    .request-form__row > div[class^=\"col-\"] > .field-group > input {\n      width: 100%; }\n      @media (min-width: 768px) {\n        .request-form__row > div[class^=\"col-\"] > .field-group > input {\n          -ms-flex: 1 0 auto;\n              flex: 1 0 auto;\n          width: auto; } }\n\n.request-form .ancillary-group {\n  width: 100%;\n  float: left; }\n  @media (min-width: 992px) {\n    .request-form .ancillary-group {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n      width: auto;\n      float: none;\n      padding: 0; } }\n  .request-form .ancillary-group > div[class^=\"col-\"] {\n    padding: 0; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/new-request/new-request.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewRequestComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_passenger__ = __webpack_require__("../../../../../src/app/models/passenger.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_flight__ = __webpack_require__("../../../../../src/app/models/flight.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_hotel__ = __webpack_require__("../../../../../src/app/models/hotel.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__models_ancillary__ = __webpack_require__("../../../../../src/app/models/ancillary.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__models_note__ = __webpack_require__("../../../../../src/app/models/note.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_common_modals__ = __webpack_require__("../../../../../src/app/components/common/modals/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var NewRequestComponent = (function () {
    function NewRequestComponent(dialog, httpClient, router, authenticationService, resourcesService) {
        var _this = this;
        this.dialog = dialog;
        this.httpClient = httpClient;
        this.router = router;
        this.authenticationService = authenticationService;
        this.resourcesService = resourcesService;
        this.dateMask = [/\d/, /\d/, '/', /\d/, /\d/, '/', /\d/, /\d/, /\d/, /\d/];
        this.maxValueMask = [/\d/, /\d/];
        //flights endpoints
        this.gatewaysAPI = 'api/Resource/GetGatewayforBrandAsync?language={0}&brand=SWG';
        this.destinationsAPI = 'api/Resource/GetDestCode?language={0}&brand=SWG&gateway={1}&searchType=RE';
        //hotels endpoints
        this.svHotelDestinationsAPI = 'api/Resource/GetDestCode?language={0}&brand=SWG&gateway={1}';
        this.svHotelsAPI = 'api/Resource/GetSVHotelList?language={0}&brand=SWG&gateway=YYZ&destination={1}';
        this.r = {};
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.basicInfo = userInfo.basicInfo; });
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.typeOfPassArray = resourcesService.getTypeOfPasses();
            _this.initTypeOfPasses();
            _this.ancillaryProductsArray = resourcesService.getAncillaryProducts();
            _this.transferTypeArray = resourcesService.getTransferTypes();
        });
    }
    NewRequestComponent.prototype.ngAfterViewInit = function () {
        this.flightEditMode = false;
        this.hotelEditMode = false;
    };
    NewRequestComponent.prototype.ngOnInit = function () {
        this.initLists();
        this.errorQueue = new Array();
        //load the request from the session in case the user wants to edit the request or accidentally closed the browser
        if (sessionStorage.getItem('currentRequest')) {
            this.flightEditMode = true;
            this.hotelEditMode = true;
            this.hotelsListReady = true; //available in the session
            this.destinationsListReady = true; //available in the session
            this.request = JSON.parse(sessionStorage.getItem('currentRequest'));
            this.initNotes();
            this.setNotes();
        }
        else {
            this.flightEditMode = false;
            this.hotelEditMode = false;
            this.request = new __WEBPACK_IMPORTED_MODULE_2__models_request__["a" /* Request */]();
            this.request.employeeNumber = this.resourcesService.getCookie('empNumber');
            this.initNotes();
            this.request.passengers[0].firstName = this.basicInfo.firstname;
            this.request.passengers[0].lastName = this.basicInfo.lastname;
        }
    };
    NewRequestComponent.prototype.initLists = function () {
        var _this = this;
        this.hotelDestinations = new Array();
        this.hotelDestinationsID = new Map();
        this.availableGateways = new Array();
        //load the list of available gateways
        this.httpClient.get(this.gatewaysAPI.replace('{0}', 'en'))
            .toPromise()
            .then(function (res) {
            var tempObjArr;
            tempObjArr = JSON.parse(res.json());
            tempObjArr.forEach(function (o) { return _this.availableGateways.push(o.name + ' ' + '(' + o.code + ')'); });
            _this.availableGateways.sort();
            _this.gatewaysListReady = true;
        });
        //load the list of available hotel destinations
        this.httpClient.get(this.svHotelDestinationsAPI.replace('{0}', 'en').replace('{1}', 'YYZ'))
            .toPromise()
            .then(function (res) {
            var tempObjArr;
            tempObjArr = JSON.parse(res.json());
            //foreach group
            tempObjArr.forEach(function (g) {
                //foreach destination in group
                g.destination.forEach(function (d) {
                    if (d.destName) {
                        _this.hotelDestinations.push(d.destName);
                        _this.hotelDestinationsID.set(d.destName, d.destCode);
                    }
                }); //end foreach destination in group
            }); //end foreach group
            _this.hotelDestinations.sort();
            _this.hotelDestinationsListReady = true;
        }); // end response
    };
    NewRequestComponent.prototype.initNotes = function () {
        this.passengerNote = new __WEBPACK_IMPORTED_MODULE_8__models_note__["a" /* Note */](this.request.employeeNumber, __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_9__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.flightNote = new __WEBPACK_IMPORTED_MODULE_8__models_note__["a" /* Note */](this.request.employeeNumber, __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_9__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.hotelNote = new __WEBPACK_IMPORTED_MODULE_8__models_note__["a" /* Note */](this.request.employeeNumber, __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Hotels, __WEBPACK_IMPORTED_MODULE_9__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.ancillaryNote = new __WEBPACK_IMPORTED_MODULE_8__models_note__["a" /* Note */](this.request.employeeNumber, __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Ancillaries, __WEBPACK_IMPORTED_MODULE_9__models_enums__["d" /* NoteTypeEnum */].Employee);
    };
    NewRequestComponent.prototype.initTypeOfPasses = function () {
        var ycpAvailable = 0;
        var bcpAvailable = 0;
        ycpAvailable = this.basicInfo.HowManyPassesYouHave - this.basicInfo.YearlyUsed - this.basicInfo.YealyPending;
        bcpAvailable = this.basicInfo.BonusEarned - this.basicInfo.BonusUsed - this.basicInfo.BonusPending;
        if (ycpAvailable <= 0) {
            for (var i = 0; i < this.typeOfPassArray.length; i++) {
                var a = this.typeOfPassArray[i];
                if (a.value == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].YCP)
                    this.typeOfPassArray.splice(i, 1);
            }
        }
        if (bcpAvailable <= 0) {
            for (var i = 0; i < this.typeOfPassArray.length; i++) {
                var a = this.typeOfPassArray[i];
                if (a.value == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].BCP)
                    this.typeOfPassArray.splice(i, 1);
            }
        }
    };
    NewRequestComponent.prototype.setNotes = function () {
        var _this = this;
        this.request.notes.forEach(function (n) {
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Passengers) {
                _this.addNote('passengerNote');
                _this.passengerNote = n;
            }
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Flights) {
                _this.addNote('flightNote');
                _this.flightNote = n;
            }
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Hotels) {
                _this.addNote('hotelNote');
                _this.hotelNote = n;
            }
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_9__models_enums__["c" /* NoteSectionEnum */].Ancillaries) {
                _this.addNote('ancillaryNote');
                _this.ancillaryNote = n;
            }
        });
    };
    NewRequestComponent.prototype.addNote = function (ancillaryProductId) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        addNoteButton.classList.add('hidden');
        ancillaryNote.classList.remove('hidden');
    };
    NewRequestComponent.prototype.deleteNote = function (ancillaryProductId, noteModel) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        // Clear out note message
        noteModel.text = '';
        addNoteButton.classList.remove('hidden');
        ancillaryNote.classList.add('hidden');
    };
    NewRequestComponent.prototype.addPassenger = function () {
        this.request.passengers.push(new __WEBPACK_IMPORTED_MODULE_3__models_passenger__["a" /* Passenger */](this.request.passengers.length + 1));
    };
    NewRequestComponent.prototype.deletePassenger = function (passengerIndex) {
        this.request.passengers.splice(passengerIndex, 1);
        this.rebuildPassengerNumbers();
    };
    NewRequestComponent.prototype.addFlight = function () {
        this.request.flights.push(new __WEBPACK_IMPORTED_MODULE_4__models_flight__["a" /* Flight */]);
    };
    NewRequestComponent.prototype.deleteFlight = function (flightIndex) {
        this.request.flights.splice(flightIndex, 1);
    };
    NewRequestComponent.prototype.addHotel = function () {
        this.request.hotels.push(new __WEBPACK_IMPORTED_MODULE_5__models_hotel__["a" /* Hotel */]);
    };
    NewRequestComponent.prototype.deleteHotel = function (hotelIndex) {
        this.request.hotels.splice(hotelIndex, 1);
    };
    NewRequestComponent.prototype.addAncillary = function () {
        this.request.ancillaries.push(new __WEBPACK_IMPORTED_MODULE_6__models_ancillary__["a" /* Ancillary */]);
    };
    NewRequestComponent.prototype.deleteAncillary = function (ancillaryIndex) {
        this.request.ancillaries.splice(ancillaryIndex, 1);
    };
    NewRequestComponent.prototype.rebuildPassengerNumbers = function () {
        for (var i = 0; i < this.request.passengers.length; i++) {
            this.request.passengers[i].passengerNumber = i + 1;
        }
    };
    NewRequestComponent.prototype.productChange = function (product, ancillaryIndex) {
        if (product.toString() == '') {
            //nothing selected, reset the object
            this.request.ancillaries[ancillaryIndex] = new __WEBPACK_IMPORTED_MODULE_6__models_ancillary__["a" /* Ancillary */]();
        }
        else {
            switch (Number(product)) {
                case __WEBPACK_IMPORTED_MODULE_9__models_enums__["a" /* AncillaryProductEnum */].Excursion:
                    //
                    break;
                case __WEBPACK_IMPORTED_MODULE_9__models_enums__["a" /* AncillaryProductEnum */].Transfer:
                    //
                    break;
                case __WEBPACK_IMPORTED_MODULE_9__models_enums__["a" /* AncillaryProductEnum */].Insurance:
                    //
                    break;
                default:
            }
        }
    };
    NewRequestComponent.prototype.typeOfPassChanged = function (i) {
        if (!this.validateTypeOfPass()) {
            this.modalMessages('Error', this.r.errorHeader, this.errorQueue);
            this.errorQueue = new Array();
            // this.request.passengers[i].typeOfPass = null; //setting the value to null didn't work commenting for now
        }
    };
    NewRequestComponent.prototype.validateTypeOfPass = function () {
        var isValid = true;
        var ycpAvailable = this.basicInfo.HowManyPassesYouHave - this.basicInfo.YearlyUsed - this.basicInfo.YealyPending;
        var ycpSelected = 0;
        var bcpAvailable = this.basicInfo.BonusEarned - this.basicInfo.BonusUsed - this.basicInfo.BonusPending;
        var bcpSelected = 0;
        var lmcpSelected = 0;
        var wpSelected = 0;
        //iterate over the dropdown elements and count how many passes are selected
        this.request.passengers.forEach(function (p) {
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].YCP)
                ycpSelected++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].BCP)
                bcpSelected++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].LMCP)
                lmcpSelected++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_9__models_enums__["g" /* TypeOfPassEnum */].NONE)
                wpSelected++;
        });
        //alert the user if the number exceeds allowed or a mix of passes was used
        if (ycpSelected > ycpAvailable || bcpSelected > bcpAvailable) {
            this.errorQueue.push(this.r.ERR_PassBalance);
            isValid = false;
        }
        else if (ycpSelected + bcpSelected > 0 && lmcpSelected > 0) {
            this.errorQueue.push(this.r.ERR_PassCombination);
            isValid = false;
        }
        else if (ycpSelected + bcpSelected > 0 && wpSelected > 0) {
            this.errorQueue.push(this.r.ERR_PassCombination);
            isValid = false;
        }
        else if (lmcpSelected > 0 && wpSelected > 0) {
            this.errorQueue.push(this.r.ERR_PassCombination);
            isValid = false;
        }
        //if without pass selected, disable add flights
        if (wpSelected > 0) {
            this.request.flights = new Array();
            this.flightsDisabled = true;
        }
        else {
            this.flightsDisabled = false;
        }
        return isValid;
    };
    NewRequestComponent.prototype.clearRequest = function () {
        //remove any saved data in the session
        sessionStorage.removeItem('currentRequest');
        //re-initialize the page for fresh start
        this.ngOnInit();
    };
    NewRequestComponent.prototype.goToReview = function () {
        if (this.validateForm()) {
            if (this.passengerNote.text)
                this.request.notes.push(this.passengerNote);
            if (this.flightNote.text)
                this.request.notes.push(this.flightNote);
            if (this.hotelNote.text)
                this.request.notes.push(this.hotelNote);
            if (this.ancillaryNote.text)
                this.request.notes.push(this.ancillaryNote);
            //save the object in session storage and go to review page
            sessionStorage.setItem('currentRequest', JSON.stringify(this.request));
            this.router.navigate(['/review-request']);
        }
        else {
            this.errorQueue.splice(0, null, this.r.ERR_InvalidRequest);
            this.modalMessages('Error', this.r.errorHeader, this.errorQueue);
            this.errorQueue = new Array();
        }
    };
    //custom validation
    NewRequestComponent.prototype.validateForm = function () {
        var _this = this;
        var isValid = true;
        var isContactInfoValid = false;
        //allow 2 hotels per destination only
        if ((this.request.hotels.length > this.request.flights.length * 2 && this.request.flights.length != 0) || (this.request.hotels.length > 6 && this.request.flights.length == 0)) {
            isValid = false;
            this.errorQueue.push(this.r.ERR_HotelsCount);
        }
        //loop through the request and validate
        this.request.passengers.forEach(function (p) {
            //at least one passenger must have email and phone number
            if (p.email && p.phoneNumber)
                isContactInfoValid = true;
            //validate date fields
            if (p.DOB && !_this.validateDate(p.DOB, false, true))
                isValid = false;
        });
        this.request.flights.forEach(function (f) {
            //validate date fields
            if (!_this.validateDate(f.departDate, true, false) || !_this.validateDate(f.returnDate, true, false))
                isValid = false;
        });
        this.request.hotels.forEach(function (h) {
            //validate date fields
            if (!_this.validateDate(h.checkInDate, true, false))
                isValid = false;
        });
        this.request.ancillaries.forEach(function (a) {
            //validate date fields
            if (a.ancillaryProductType == __WEBPACK_IMPORTED_MODULE_9__models_enums__["a" /* AncillaryProductEnum */].Excursion) {
                if (!_this.validateDate(a.excursionDate, true, false))
                    isValid = false;
            }
        });
        if (this.request.flights.length == 0 && this.request.hotels.length == 0 && this.request.ancillaries.length == 0) {
            isValid = false;
            this.errorQueue.push(this.r.ERR_ZeroProducts);
        }
        if (!isContactInfoValid) {
            isValid = false;
            this.errorQueue.push(this.r.ERR_ContactInfoMissing);
        }
        if (!this.validateTypeOfPass())
            isValid = false;
        return isValid;
    };
    NewRequestComponent.prototype.validateDate = function (valueEntered, futureDate, pastDate, throwError) {
        if (futureDate === void 0) { futureDate = false; }
        if (pastDate === void 0) { pastDate = false; }
        if (throwError === void 0) { throwError = false; }
        var dateValid = true;
        var tempMoment = __WEBPACK_IMPORTED_MODULE_10_moment__(valueEntered, 'MM/DD/YYYY', true);
        if (tempMoment.isValid()) {
            var now = __WEBPACK_IMPORTED_MODULE_10_moment__({ hour: 0, minute: 0, seconds: 0, milliseconds: 0 });
            var diff = tempMoment.diff(now, 'days');
            if (futureDate && diff < 0) {
                this.errorQueue.push(this.r.ERR_InvalidDateInFuture);
                dateValid = false;
            }
            if (pastDate && diff >= 0) {
                this.errorQueue.push(this.r.ERR_InvalidDateInPast);
                dateValid = false;
            }
        }
        else {
            this.errorQueue.push(this.r.ERR_InvalidDateFormat);
            dateValid = false;
        }
        if (this.errorQueue.length > 0 && throwError) {
            this.modalMessages('Error', this.r.errorHeader, this.errorQueue);
            this.errorQueue = new Array();
        }
        return dateValid;
    };
    NewRequestComponent.prototype.gatewayChanged = function (selectedValue, i) {
        var _this = this;
        var gateway;
        var tempObjArr;
        //disable destinations until the new list is ready
        this.destinationsListReady = false;
        //when editing request, the gateway change event will be fired as it will be reloaded from the session to be edited. Don't reset the departure value and set edit request = false to avoid this behaviour triggered again when the user actually edits the hotel destination.
        if (!this.flightEditMode)
            this.request.flights[i].departTo = '';
        //airport code
        gateway = selectedValue.substr(selectedValue.length - 4, 3);
        this.httpClient.get(this.destinationsAPI.replace('{0}', 'en').replace('{1}', gateway))
            .toPromise()
            .then(function (res) {
            _this.request.flights[i].availableDestinations = new Array();
            tempObjArr = JSON.parse(res.json());
            tempObjArr.forEach(function (d) {
                if (d.destinationName)
                    _this.request.flights[i].availableDestinations.push(d.destinationName);
            });
            _this.request.flights[i].availableDestinations.sort();
            _this.destinationsListReady = true;
        }); //end response
    };
    NewRequestComponent.prototype.hotelDestinationChanged = function (selectedValue, i) {
        var _this = this;
        //when editing request, the hotel destination change event will be fired as it will be reloaded from the session to be edited. Don't reset the available resorts and set edit request = false to avoid this behaviour triggered again when the user actually edits the hotel destination.
        if (!this.hotelEditMode) {
            this.request.hotels[i].name = '';
            //destination codes are comma separated, replace with underscore
            var destcode = this.hotelDestinationsID.get(selectedValue).replace(/,/g, '_');
            var tempObjArr_1;
            //disable the hotels list until it is ready and reset value
            this.hotelsListReady = false;
            //initiate the call to hotellist
            this.request.hotels[i].availableResorts = new Array();
            this.httpClient.get(this.svHotelsAPI.replace('{0}', 'en').replace('{1}', destcode))
                .toPromise()
                .then(function (res) {
                tempObjArr_1 = JSON.parse(res.json());
                tempObjArr_1[0].hotels.forEach(function (h) {
                    var idx = h.indexOf('--xx--');
                    var hotelName = h.substring(0, idx);
                    var hotelId = h.substring(idx + 6);
                    if (hotelName && hotelId.split('_').length == 1)
                        _this.request.hotels[i].availableResorts.push(hotelName);
                });
                _this.request.hotels[i].availableResorts.sort();
                _this.hotelsListReady = true;
            });
        }
    };
    NewRequestComponent.prototype.departToChanged = function (selectedValue, i) {
        this.request.flights[i].returnFrom = this.request.flights[i].departTo;
    };
    NewRequestComponent.prototype.modalMessage = function (type, heading, message) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    NewRequestComponent.prototype.modalMessages = function (type, heading, messages) {
        var unique = Array.from(new Set(messages));
        var message = '';
        unique.forEach(function (m, i) {
            if (i != 0)
                message += ' ';
            message += m + '\n';
        });
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    return NewRequestComponent;
}());
NewRequestComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-new-request',
        template: __webpack_require__("../../../../../src/app/new-request/new-request.component.html"),
        styles: [__webpack_require__("../../../../../src/app/new-request/new-request.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_14__angular_material_dialog__["b" /* MatDialog */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_14__angular_material_dialog__["b" /* MatDialog */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_7__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_11__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_12__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _e || Object])
], NewRequestComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=new-request.component.js.map

/***/ }),

/***/ "../../../../../src/app/payload-review/payload-review.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"review\">\r\n                <section id=\"flights\">\r\n                    <div class=\"review-info\">\r\n                        <h2><strong>{{r.numOfPass}}: </strong>{{numOfPass}}</h2>\r\n                        <p>{{r.dateSubmitted}}: <span>{{request.requestDate | date:'d MMM yyyy'}}</span></p>\r\n                    </div>\r\n                    <hr />\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.flightsSectionTitle}}</h3>\r\n                    </div>\r\n                    <!-- foreach flight in this request -->\r\n                    <table class=\"review-request review-request--flights\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"flight-departure\" colspan=\"2\">{{r.departing}}</th>\r\n                                <th class=\"flight-destination\">{{r.arriving}}</th>\r\n                                <th class=\"flight-date\">{{r.itinerary}}</th>\r\n                                <th class=\"divider flight-number\">{{r.flightNum}}</th>\r\n                                <th class=\"flight-status\">{{r.approvalStatus}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section__item review-request__section__item--flight\" *ngFor=\"let flight of request.flights; let flightIndex = index\" [attr.data-index]=\"flightIndex + 1\">\r\n                            <tr>\r\n                                <th class=\"flight-pax\" scope=\"row\" rowspan=\"2\">{{flightIndex + 1}}</th>\r\n                                <td class=\"flight-departure flight-departure--outbound\" [attr.data-heading]=\"r.departFrom + ':'\">{{flight.departFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.departTo + ':'\">{{flight.departTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.departDate + ':'\">{{flight.departDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.departFlightNumber + ':'\">{{flight.departFlight}}</td>\r\n                                <td class=\"flight-status\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\" >\r\n                                    <status-toggle [id]=\"'flight-' + flightIndex\" [status]=\"flight.approvalStatus\" (statusChange)=\"flight.approvalStatus = $event\"></status-toggle>\r\n                                    <div class=\"status-updated\" *ngIf=\"flight.lastUpdatedBy?.length > 0\">{{r.lastUpdatedBy}} <span>{{flight.lastUpdatedBy}}</span></div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"flight-departure flight-departure--inbound\" [attr.data-heading]=\"r.returnFrom + ':'\">{{flight.returnFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.returnTo + ':'\">{{flight.returnTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.returnDate + ':'\">{{flight.returnDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number divider\" [attr.data-heading]=\"r.returnFlightNumber + ':'\">{{flight.returnFlight}}</td>\r\n                                <td class=\"flight-status flight-status--mobile\" rowspan=\"2\" [attr.data-heading]=\"r.approvalStatus + ':'\">\r\n                                    <status-toggle [id]=\"'flight-' + flightIndex\" [status]=\"flight.approvalStatus\" (statusChange)=\"flight.approvalStatus = $event\"></status-toggle>\r\n                                    <div class=\"status-updated\" *ngIf=\"flight.lastUpdatedBy?.length > 0\">{{r.lastUpdatedBy}} <span>{{flight.lastUpdatedBy}}</span></div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"4\" class=\"table-row-spacer\"></td>\r\n                                <td class=\"table-row-spacer divider\"></td>\r\n                                <td class=\"table-row-spacer\"></td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"employeeFlightNote.text?.length > 0 || payloadFlightNote.text?.length > 0\">\r\n                            <tr *ngIf=\"employeeFlightNote.text?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{employeeFlightNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"payloadFlightNote.text?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.payloadNote}} </strong>\r\n                                    <p>{{payloadFlightNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                    <!--end foreach flight-->\r\n                    <div class=\"review-request__row-split\">\r\n                        <div id=\"flightNote\" class=\"review__ancillary-note\">\r\n                            <button class=\"btn btn-secondary btn-wide add-note\" (click)=\"addNote('flightNote')\" [disabled]=\"request.flights.length < 1 || changesDisabled\">{{r.addNote}} <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i></button>\r\n                            <div class=\"ancillary-note hidden\">\r\n                                <label>{{r.note}}</label>\r\n                                <textarea name=\"Text1\" cols=\"40\" rows=\"5\" class=\"form-control\" [(ngModel)]=\"payloadFlightNote.text\"></textarea>\r\n                                <button class=\"btn btn-primary btn-wide\" (click)=\"deleteNote('flightNote', payloadFlightNote)\" [disabled]=\"changesDisabled\">{{r.deleteNote}} <i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i></button>\r\n                            </div>\r\n                        </div>\r\n                        <button class=\"btn btn-primary btn-wide\" (click)=\"save()\" [disabled]=\"request.flights.length < 1 || changesDisabled\">{{r.submit}}</button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n            <requests-nav [type]=\"reviewType\" [requestId]=\"requestId\"></requests-nav>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/payload-review/payload-review.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ":host {\n  margin-top: 15px; }\n\nhr {\n  border-top: 2px solid #fff; }\n\n.status-updated {\n  margin-top: 5px;\n  font-size: 12px;\n  text-align: center; }\n  .status-updated span {\n    display: block;\n    font-weight: bold; }\n\n.review-info {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  color: #333;\n  font-size: 18px;\n  font-weight: bold; }\n  .review-info > h2 {\n    max-width: 100%;\n    margin-top: 0;\n    margin-bottom: 0;\n    font-size: 28px;\n    font-weight: normal; }\n  .review-info > p {\n    max-width: 100%;\n    margin-top: 10px;\n    margin-bottom: 0; }\n    @media (min-width: 768px) {\n      .review-info > p {\n        margin-top: 0; } }\n\n.review-request--flights .flight-pax {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pax {\n      display: table-cell;\n      font-size: 36px;\n      color: #aeb2b4; } }\n\n@media (min-width: 1200px) {\n  .review-request--flights .flight-departure {\n    width: 254px;\n    min-width: 254px;\n    padding-right: 15px;\n    position: relative; }\n    .review-request--flights .flight-departure--outbound::after, .review-request--flights .flight-departure--inbound::after {\n      content: \"\\F072\";\n      display: inline-block;\n      color: #9acbe7;\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 5px;\n      top: 50%;\n      transform: translateY(-50%); }\n    .review-request--flights .flight-departure--inbound::after {\n      transform: translateY(-50%) scale(-1, 1); }\n  .review-request--flights .flight-destination {\n    width: 275px;\n    min-width: 275px;\n    padding-right: 15px; }\n  .review-request--flights .flight-date {\n    width: 135px;\n    min-width: 135px; }\n  .review-request--flights .flight-number {\n    width: 210px;\n    min-width: 210px; } }\n\n.review-request--flights .flight-status {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-status {\n      display: table-cell;\n      width: 185px;\n      min-width: 185px;\n      padding-right: 15px; } }\n  .review-request--flights .flight-status--mobile {\n    display: block; }\n    @media (min-width: 1200px) {\n      .review-request--flights .flight-status--mobile {\n        display: none; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/payload-review/payload-review.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PayloadReviewComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_note__ = __webpack_require__("../../../../../src/app/models/note.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_common_modals__ = __webpack_require__("../../../../../src/app/components/common/modals/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











var PayloadReviewComponent = (function () {
    function PayloadReviewComponent(dialog, httpClient, route, router, authenticationService, resourcesService) {
        var _this = this;
        this.dialog = dialog;
        this.httpClient = httpClient;
        this.route = route;
        this.router = router;
        this.authenticationService = authenticationService;
        this.resourcesService = resourcesService;
        this.reviewType = 'payload';
        this.payloadListAPI = 'api/Request/GetFlightsByRequestId?id={0}';
        this.updateFlightsAPI = 'api/Request/UpdateFlights';
        this.addNoteAPI = 'api/Request/AddNote';
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_3__models_enums__["e" /* StatusEnum */];
        this.statusArray = [];
        this.r = {};
        this.subscription = this.authenticationService.getUserInfo().subscribe(function (userInfo) { _this.userInfo = userInfo; });
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    PayloadReviewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.empNumber = this.resourcesService.getCookie('empNumber');
        this.changesDisabled = false;
        this.route.params.subscribe(function (params) {
            window.scrollTo(0, 0);
            _this.request = new __WEBPACK_IMPORTED_MODULE_2__models_request__["a" /* Request */]();
            _this.initNotes();
            _this.requestId = _this.route.snapshot.params['requestId'];
            if (!_this.requestId) {
                _this.modalMessage('Error', _this.r.errorHeader, _this.r.ERR_InvalidRequestId);
                _this.router.navigate(['/home']);
                return;
            }
            else {
                _this.init(params['requestId']);
            }
        });
    };
    PayloadReviewComponent.prototype.init = function (id) {
        var _this = this;
        this.httpClient.get(this.payloadListAPI.replace('{0}', id))
            .toPromise()
            .then(function (res) {
            if (res.json()) {
                _this.request = res.json();
                _this.setNotes();
                _this.setNumOfPass();
                _this.setLastUpdatedBy();
                if (_this.request.status == _this.statusEnum.Denied)
                    _this.changesDisabled = true;
            }
        })
            .catch(function (e) {
            console.log('error ' + e);
        });
    };
    PayloadReviewComponent.prototype.initNotes = function () {
        this.payloadFlightNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */](this.empNumber, __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Payload);
        this.employeeFlightNote = new __WEBPACK_IMPORTED_MODULE_4__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights, __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee);
    };
    PayloadReviewComponent.prototype.setNotes = function () {
        var _this = this;
        this.request.notes.forEach(function (n) {
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Employee) {
                _this.employeeFlightNote = n;
            }
            if (n.text && n.sectionId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["c" /* NoteSectionEnum */].Flights && n.typeId == __WEBPACK_IMPORTED_MODULE_3__models_enums__["d" /* NoteTypeEnum */].Payload) {
                _this.addNote('flightNote');
                _this.payloadFlightNote = n;
            }
        });
    };
    PayloadReviewComponent.prototype.setNumOfPass = function () {
        var ycpUsed = 0;
        var bcpUsed = 0;
        var lmcpUsed = 0;
        var ipUsed = 0;
        var numOfPassTemplate = '{0} ({1})';
        this.numOfPass = '';
        this.request.passengers.forEach(function (p) {
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].YCP)
                ycpUsed++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].BCP)
                bcpUsed++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].LMCP)
                lmcpUsed++;
            if (p.typeOfPass == __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].IP)
                ipUsed++;
        });
        if (ycpUsed > 0)
            this.numOfPass = numOfPassTemplate.replace('{0}', this.r['typeOfPassAbbrev' + __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].YCP]).replace('{1}', ycpUsed.toString()) + ' ';
        if (bcpUsed > 0)
            this.numOfPass += numOfPassTemplate.replace('{0}', this.r['typeOfPassAbbrev' + __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].BCP]).replace('{1}', bcpUsed.toString()) + ' ';
        if (lmcpUsed > 0)
            this.numOfPass += numOfPassTemplate.replace('{0}', this.r['typeOfPassAbbrev' + __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].LMCP]).replace('{1}', lmcpUsed.toString());
        if (ipUsed > 0)
            this.numOfPass += numOfPassTemplate.replace('{0}', this.r['typeOfPassAbbrev' + __WEBPACK_IMPORTED_MODULE_3__models_enums__["g" /* TypeOfPassEnum */].IP]).replace('{1}', ipUsed.toString());
    };
    PayloadReviewComponent.prototype.setLastUpdatedBy = function () {
        var _this = this;
        this.request.flights.forEach(function (f) {
            for (var i = 0; i < _this.request.activityLogs.length; i++) {
                if (f.id == _this.request.activityLogs[i].foreignId) {
                    f.lastUpdatedBy = _this.request.activityLogs[i].empName;
                    break;
                }
            }
        });
    };
    PayloadReviewComponent.prototype.save = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: 
                    //save flights
                    return [4 /*yield*/, this.httpClient.post(this.updateFlightsAPI, this.request.flights)
                            .toPromise()
                            .then(function (res) {
                            _this.modalMessage('Success', _this.r.success, _this.r.flightUpdated);
                        })
                            .catch(function (e) {
                            _this.modalMessage('Error', _this.r.errorHeader, 'error ' + e);
                        })];
                    case 1:
                        //save flights
                        _a.sent();
                        if (!this.payloadFlightNote.text) return [3 /*break*/, 3];
                        //safety net
                        this.payloadFlightNote.requestId = Number(this.requestId);
                        return [4 /*yield*/, this.httpClient.post(this.addNoteAPI, this.payloadFlightNote)
                                .toPromise()
                                .then()
                                .catch(function (e) {
                                _this.modalMessage('Error', _this.r.errorHeader, 'error ' + e);
                            })];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.init(this.requestId); //force refresh
                        return [2 /*return*/];
                }
            });
        });
    };
    PayloadReviewComponent.prototype.addNote = function (ancillaryProductId) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        addNoteButton.classList.add('hidden');
        ancillaryNote.classList.remove('hidden');
    };
    PayloadReviewComponent.prototype.deleteNote = function (ancillaryProductId, noteModel) {
        var ancillaryProduct = document.querySelector('#' + ancillaryProductId);
        var addNoteButton = ancillaryProduct.querySelector('.add-note');
        var ancillaryNote = ancillaryProduct.querySelector('.ancillary-note');
        // Clear out note message
        noteModel.text = '';
        addNoteButton.classList.remove('hidden');
        ancillaryNote.classList.add('hidden');
    };
    PayloadReviewComponent.prototype.modalMessage = function (type, heading, message) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    return PayloadReviewComponent;
}());
PayloadReviewComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-payload-review',
        template: __webpack_require__("../../../../../src/app/payload-review/payload-review.component.html"),
        styles: [__webpack_require__("../../../../../src/app/payload-review/payload-review.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__["b" /* MatDialog */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__["b" /* MatDialog */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _f || Object])
], PayloadReviewComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=payload-review.component.js.map

/***/ }),

/***/ "../../../../../src/app/pipes/custom-date.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomDatePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/*
* Overrides the default date pipe in angular by using the same name 'date'
* To maintain the formats already being used across the site which was meant for the angular pipe we transform the format to upper case as this is the format that momentJs uses
* Original Issue: http://yyztfs3:8080/tfs/web/wi.aspx?pcguid=2ef8fee7-ca25-4dd4-8ce1-8f34e45f0864&id=21047
*/
var CustomDatePipe = (function () {
    function CustomDatePipe() {
    }
    CustomDatePipe.prototype.transform = function (value, args) {
        if (!value)
            return '';
        var argsArray;
        var outputFormat;
        var inputFormat;
        var formattedDate = null;
        var inputDate;
        argsArray = args.split(',');
        if (argsArray.length > 0)
            outputFormat = argsArray[0];
        if (args.split(',').length > 1)
            inputFormat = argsArray[1];
        if (inputFormat)
            inputDate = __WEBPACK_IMPORTED_MODULE_1_moment__(value, inputFormat);
        else
            inputDate = __WEBPACK_IMPORTED_MODULE_1_moment__(value);
        if (inputDate.isValid()) {
            if (outputFormat)
                formattedDate = inputDate.format(outputFormat.toUpperCase());
            else
                formattedDate = inputDate.format();
        }
        return formattedDate;
    };
    return CustomDatePipe;
}());
CustomDatePipe = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
        name: 'date'
    })
], CustomDatePipe);

//# sourceMappingURL=custom-date.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/request-progress/request-progress.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.myRequest}}</h1>\r\n            <div class=\"request-action-anchor\">\r\n                <div class=\"request-action\">\r\n                    <div class=\"request-action__status\">\r\n                        <div class=\"request-action__status-item\" *ngIf=\"flightStatus != -1 && request.flights.length > 0\">\r\n                            <i class=\"fa fa-plane fa-3x\" aria-hidden=\"true\"></i>\r\n                            <p>{{r.flight}}</p>\r\n                            <span class=\"request-status\" [ngClass]=\"statusEnum[flightStatus] | lowercase\">\r\n                                <i class=\"fa\" [ngClass]=\"flightStatus < 1 ? 'fa-lg fa-hourglass' : (flightStatus == 1) ? 'fa-2x fa-check' : 'fa-2x fa-times'\"\r\n                                    aria-hidden=\"true\"></i>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"request-action__status-item\" *ngIf=\"hotelStatus != -1 && request.hotels.length > 0\">\r\n                            <i class=\"fa fa-bed fa-3x\" aria-hidden=\"true\"></i>\r\n                            <p>{{r.hotelCruise}}</p>\r\n                            <span class=\"request-status\" [ngClass]=\"statusEnum[hotelStatus] | lowercase\">\r\n                                <i class=\"fa\" [ngClass]=\"hotelStatus < 1 ? 'fa-lg fa-hourglass' : (hotelStatus == 1) ? 'fa-2x fa-check' : 'fa-2x fa-times'\"\r\n                                    aria-hidden=\"true\"></i>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"request-action__status-item\" *ngIf=\"ancillariesStatus != -1 && request.ancillaries.length > 0\">\r\n                            <i class=\"fa fa-cubes fa-3x\" aria-hidden=\"true\"></i>\r\n                            <p>Ancillaries</p>\r\n                            <span class=\"request-status\" [ngClass]=\"statusEnum[ancillariesStatus] | lowercase\">\r\n                                <i class=\"fa\" [ngClass]=\"ancillariesStatus < 1 ? 'fa-lg fa-hourglass' : (ancillariesStatus == 1) ? 'fa-2x fa-check' : 'fa-2x fa-times'\"\r\n                                    aria-hidden=\"true\"></i>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"request-action__info\">\r\n                        <div *ngIf=\"!bookingMade\" class=\"request-action__info-message\">\r\n                            <p>\r\n                                <strong>{{r.yourActionRequired}}</strong>\r\n                            </p>\r\n                            <p>{{r.actionRequiredMsg}}</p>\r\n                        </div>\r\n                        <div *ngIf=\"bookingMade\" class=\"request-action__info-message\">\r\n                            <p>\r\n                                <strong>{{r.youAreBooked}}</strong>\r\n                            </p>\r\n                            <p>{{r.payBookingPart1}} <a class=\"bp-link\" target=\"_blank\" href={{r.mbpUrl}}>{{r.payBookingPart2}}</a> {{r.payBookingPart3}}</p>\r\n                        </div>\r\n                        <div class=\"request-action__info-action\">\r\n                            <p>\r\n                                {{r.yourTotal}}\r\n                                <span class=\"price\" [(ngModel)]=\"TotalAmount\" ngDefaultControl>${{TotalAmount}}</span>\r\n                            </p>\r\n                            <button *ngIf=\"!bookingMade\" class=\"btn btn-danger btn-wide\" [disabled]=\"rejectDisabled\" (click)=\"confirmRejectRequest()\">\r\n                                <i class=\"fa fa-ban fa-lg\" aria-hidden=\"true\"></i>\r\n                                {{r.cancelRequest}}\r\n                            </button>\r\n                            <button *ngIf=\"!bookingMade\" class=\"btn btn-secondary-dark btn-wide\" [disabled]=\"submitDisabled\" (click)=\"requestSubmit()\">\r\n                                {{r.submit}}\r\n                                <i class=\"fa fa-angle-right fa-lg\" aria-hidden=\"true\"></i>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"request-action__info-action\" *ngIf=\"bookingMade\">\r\n                            <p>\r\n                                {{r.yourBookingNumber}}\r\n                                <span class=\"price\" [(ngModel)]=\"BookingNumber\" ngDefaultControl>{{BookingNumber}}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"review\">\r\n\r\n                <!-- Passengers -->\r\n                <section id=\"passengers\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-ticket\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.passengersSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--passengers\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"passenger-name\">{{r.passengerName}}</th>\r\n                                <th class=\"passenger-dob\">{{r.dob}}</th>\r\n                                <th class=\"passenger-pass\">{{r.typeOfPass}}</th>\r\n                                <th class=\"passenger-phone\">{{r.phoneNumber}}</th>\r\n                                <th class=\"passenger-email\">{{r.email}}</th>\r\n                                <th class=\"passenger-edit\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let passenger of request.passengers; let passengerIndex = index;\" [attr.data-index]=\"passengerIndex + 1\">\r\n                                <td class=\"passenger-name\" [attr.data-index]=\"passengerIndex + 1\" [attr.data-heading]=\"r.passengerName + ':'\">{{passenger.firstName}} {{passenger.middleName}} {{passenger.lastName}}</td>\r\n                                <td class=\"passenger-dob\" [attr.data-heading]=\"r.dob + ':'\">{{passenger.DOB | date:'MM/dd/yyyy'}}</td>\r\n                                <td class=\"passenger-pass\" [attr.data-heading]=\"r.typeOfPass + ':'\">{{typeOfPassEnum[passenger.typeOfPass]}}</td>\r\n                                <td class=\"passenger-phone\" [attr.data-heading]=\"r.phoneNumber + ':'\">{{passenger.phoneNumber}}</td>\r\n                                <td class=\"passenger-email\" [attr.data-heading]=\"r.email + ':'\">{{passenger.email}}</td>\r\n                                <td align=\"right\">\r\n                                    <a class=\"edit\" tabindex=\"0\" (click)=\"modalEdit(passenger)\">\r\n                                        <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> {{r.editPassenger}}</a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"notePaxEmp?.length > 0 || notePaxAdmin?.length > 0\">\r\n                            <tr *ngIf=\"notePaxEmp?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{notePaxEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"notePaxAdmin?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.staffTravelNote}}</strong>\r\n                                    <p>{{notePaxAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.flights.length > 0\" />\r\n\r\n                <!-- Flights -->\r\n                <section id=\"flights\" *ngIf=\"request.flights.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.flightsSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--flights\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"flight-departure\" colspan=\"2\">{{r.departing}}</th>\r\n                                <th class=\"flight-destination\">{{r.arriving}}</th>\r\n                                <th class=\"flight-date\">{{r.itinerary}}</th>\r\n                                <th class=\"flight-number\">{{r.flightNum}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section__item review-request__section__item--flight\" *ngFor=\"let flight of request.flights; let flightIndex = index;\"\r\n                            [attr.data-index]=\"flightIndex + 1\">\r\n                            <tr>\r\n                                <th class=\"flight-pax\" scope=\"row\" rowspan=\"2\">{{flightIndex + 1}}</th>\r\n                                <td class=\"flight-departure flight-departure--outbound\" [attr.data-heading]=\"r.departFrom + ':'\">{{flight.departFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.departTo + ':'\">{{flight.departTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.departDate + ':'\">{{flight.departDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number\" [attr.data-heading]=\"r.flightNum + ':'\">{{flight.departFlight}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"flight-departure flight-departure--inbound\" [attr.data-heading]=\"r.returnFrom + ':'\">{{flight.returnFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.returnTo + ':'\">{{flight.returnTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.returnDate + ':'\">{{flight.returnDate | date:'dd MMM yyyy'}}</td>\r\n                                <td class=\"flight-number\" [attr.data-heading]=\"r.flightNum + ':'\">{{flight.returnFlight}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colspan=\"5\">\r\n                                    <div class=\"table-flex-row\">\r\n                                        <div class=\"status\">\r\n                                            <span class=\"status-label\">{{r.optionStatus}}</span>\r\n                                            <status-toggle [id]=\"'flight-' + flightIndex\" [status]=\"flight.approvalStatus\" [readOnly]=\"true\"></status-toggle>\r\n                                        </div>\r\n                                        <div class=\"pricing\">\r\n                                            <span class=\"status-label\">{{r.totalPrice}}</span>\r\n                                            <div class=\"input-group\">\r\n                                                <span class=\"input-group-addon\">$</span>\r\n                                                <input class=\"form-control\" type=\"text\" name=\"flightPrice\" [value]=\"flight.price | number: '1.2-2'\" placeholder=\"00.00\" disabled />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"status\">\r\n                                            <span class=\"status-label\">{{r.yourAction}}</span>\r\n                                            <status-toggle [readOnly]=\"flight.approvalStatus == statusEnum.Pending || flight.approvalStatus == statusEnum.Denied || request.status == statusEnum.Denied\" [id]=\"'flight-action-' + flightIndex\" [type]=\"'action'\"\r\n                                                [linkedStatus]=\"flight.approvalStatus\" [status]=\"flight.status\" (statusChange)=\"statusChange($event, flight.price, flight.id, 'flight')\"></status-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\">\r\n                            <tr *ngIf=\"!flightsDisabled\">\r\n                                <td colspan=\"5\">\r\n                                    <button class=\"btn btn-secondary btn-wide\" (click)=\"addFlight()\" [disabled]=\"flightsDisabled || newFlightsCount >= 3 || request.flights.length >= 6\">{{r.addFlight}}\r\n                                        <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteFlightEmp?.length > 0\">\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteFlightEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteFlightPayload?.length > 0\">\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.payloadNote}}</strong>\r\n                                    <p>{{noteFlightPayload}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteFlightAdmin?.length > 0\">\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.staffTravelNote}}</strong>\r\n                                    <p>{{noteFlightAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.hotels.length > 0\" />\r\n\r\n                <!-- Hotel/Cruise information -->\r\n                <section id=\"hotels\" *ngIf=\"request.hotels.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-bed\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.hotelsSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--hotels\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"hotel-date\">{{r.checkInDate}} / {{r.duration}}</th>\r\n                                <th class=\"hotel-info\">{{r.hotelName}}</th>\r\n                                <th class=\"hotel-type\">{{r.roomType}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\" *ngFor=\"let hotel of request.hotels; let hotelIndex = index;\">\r\n                            <tr class=\"review-request__section__item\" [attr.data-index]=\"hotelIndex + 1\">\r\n                                <td class=\"hotel-date\" [attr.data-index]=\"hotelIndex + 1\" [attr.data-heading]=\"r.checkInDate + '/' + r.duration + ':'\">{{hotel.checkInDate | date:'dd MMM yyyy'}} / {{hotel.duration}} {{r.nights}}</td>\r\n                                <td class=\"hotel-info\" [attr.data-heading]=\"r.hotelName + ':'\">{{hotel.name}}\r\n                                    <br /> {{hotel.destination}}</td>\r\n                                <td class=\"hotel-type\" [attr.data-heading]=\"r.roomType + ':'\">{{hotel.roomType}}</td>\r\n                            </tr>\r\n                            <tr class=\"review-request__section__item\">\r\n                                <td colspan=\"3\">\r\n                                    <div class=\"table-flex-row\">\r\n                                        <div class=\"status\">\r\n                                            <span class=\"status-label\">{{r.optionStatus}}</span>\r\n                                            <status-toggle [id]=\"'hotel-' + hotelIndex\" [status]=\"hotel.approvalStatus\" [readOnly]=\"true\"></status-toggle>\r\n                                        </div>\r\n                                        <div class=\"pricing\">\r\n                                            <span class=\"status-label\">{{r.totalPrice}}</span>\r\n                                            <div class=\"input-group\">\r\n                                                <span class=\"input-group-addon\">$</span>\r\n                                                <input class=\"form-control\" type=\"text\" name=\"hotelPrice\" [value]=\"hotel.price | number: '1.2-2'\" placeholder=\"00.00\" disabled />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"status\">\r\n                                            <span class=\"status-label\">{{r.yourAction}}</span>\r\n                                            <status-toggle [readOnly]=\"hotel.approvalStatus == statusEnum.Pending || hotel.approvalStatus == statusEnum.Denied || request.status == statusEnum.Denied\" [id]=\"'hotel-action-' + hotelIndex\" [type]=\"'action'\"\r\n                                                [linkedStatus]=\"hotel.approvalStatus\" [status]=\"hotel.status\" (statusChange)=\"statusChange($event, hotel.price, hotel.id, 'hotel')\"></status-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            \r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\">\r\n                            <tr *ngIf=\"!hotelsDisabled\">\r\n                                    <td>\r\n                                        <button class=\"btn btn-secondary btn-wide\" (click)=\"addHotel()\" [disabled]=\"(request.hotels.length >= request.flights.length * 2 && request.flights.length != 0) || (request.hotels.length == 6 && request.flights.length == 0) || (newHotelsCount >= newFlightsCount * 2 && newHotelsCount != 0 && newFlightsCount != 0)\">{{r.addHotel}}\r\n                                            <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n                                        </button>\r\n                                    </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteHotelEmp?.length > 0\">\r\n                                <td colspan=\"3\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteHotelEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteHotelAdmin?.length > 0\">\r\n                                <td colspan=\"3\">\r\n                                    <strong>{{r.staffTravelNote}}</strong>\r\n                                    <p>{{noteHotelAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.ancillaries.length > 0\" />\r\n\r\n                <!-- Ancillaries -->\r\n                <section id=\"ancillaries\" *ngIf=\"request.ancillaries.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-cubes\" aria-hidden=\"true\"></i>\r\n                        <div>\r\n                            <h3>{{r.ancillariesSectionTitle}}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <table class=\"review-request review-request--ancillaries\">\r\n                        <tr>\r\n                            <td>\r\n                                <table class=\"review-request review-request__section__item review-request--ancillaries\" *ngFor=\"let ancillary of request.ancillaries; let ancillaryIndex = index\"\r\n                                    [attr.data-index]=\"ancillaryIndex + 1\">\r\n                                    <thead class=\"review-request__heading\">\r\n                                        <tr>\r\n                                            <th class=\"ancillary-destination\">{{r.destination}}</th>\r\n                                            <th class=\"ancillary-product\">{{r.product}}</th>\r\n\r\n                                            <th class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\">{{r.excursionName}}</th>\r\n                                            <th class=\"ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\">{{r.passenger}}</th>\r\n\r\n                                            <th class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.transferType}}</th>\r\n                                            <th class=\"ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.quantity}}</th>\r\n                                            <th class=\"ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody class=\"review-request__section\">\r\n                                        <tr class=\"review-request__section__item\">\r\n                                            <td class=\"ancillary-destination\" [attr.data-index]=\"ancillaryIndex + 1\" [attr.data-heading]=\"r.destination + ':'\">{{ancillary.destination}}</td>\r\n                                            <td class=\"ancillary-product\" [attr.data-heading]=\"r.product + ':'\">{{ancillaryProductsArray[ancillary.ancillaryProductType]?.name}}</td>\r\n\r\n                                            <td class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\" [attr.data-heading]=\"r.excursionName + ':'\">{{ancillary.excursionName}}</td>\r\n                                            <td class=\"ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\" [attr.data-heading]=\"r.passenger + ':'\">{{ancillary.passengerNumber}} {{request.passengers[ancillary.passengerNumber\r\n                                                - 1].firstName}} {{request.passengers[ancillary.passengerNumber - 1].lastName}}</td>\r\n\r\n                                            <td class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.transferType + ':'\">{{transferTypeArray[ancillary.transferType]?.name}}</td>\r\n                                            <td class=\"ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.quantity + ':'\">{{ancillary.quantity}}</td>\r\n\r\n                                            <td class=\"ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></td>\r\n                                        </tr>\r\n                                        <tr class=\"review-request__section__item\">\r\n                                            <td colspan=\"6\">\r\n                                                <div class=\"table-flex-row\">\r\n                                                    <div class=\"status\">\r\n                                                        <span class=\"status-label\">{{r.optionStatus}}</span>\r\n                                                        <status-toggle [id]=\"'ancillary-' + ancillaryIndex\" [status]=\"ancillary.approvalStatus\" [readOnly]=\"true\"></status-toggle>\r\n                                                    </div>\r\n                                                    <div class=\"pricing\">\r\n                                                        <span class=\"status-label\">{{r.totalPrice}}</span>\r\n                                                        <div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">$</span>\r\n                                                            <input class=\"form-control\" type=\"text\" name=\"ancillaryPrice\" [value]=\"ancillary.price | number: '1.2-2'\" placeholder=\"00.00\" disabled\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"status\">\r\n                                                        <span class=\"status-label\">{{r.yourAction}}</span>\r\n                                                        <status-toggle [readOnly]=\"ancillary.approvalStatus == statusEnum.Pending || ancillary.approvalStatus == statusEnum.Denied || request.status == statusEnum.Denied\"  [id]=\"'ancillary-action-' + ancillaryIndex\"\r\n                                                            [type]=\"'action'\" [linkedStatus]=\"ancillary.approvalStatus\" [status]=\"ancillary.status\"\r\n                                                            (statusChange)=\"statusChange($event, ancillary.price, ancillary.id, 'ancillary')\"></status-toggle>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"noteAncEmp?.length > 0 || noteAncAdmin?.length > 0\">\r\n                            <tr *ngIf=\"noteAncEmp?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.employeeNote}}</strong>\r\n                                    <p>{{noteAncEmp}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf=\"noteAncAdmin?.length > 0\">\r\n                                <td colspan=\"6\">\r\n                                    <strong>{{r.staffTravelNote}}</strong>\r\n                                    <p>{{noteAncAdmin}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/request-progress/request-progress.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".request-action {\n  display: block;\n  background-color: #007cc3;\n  color: #fff;\n  padding: 45px 30px; }\n  @media (min-width: 992px) {\n    .request-action {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n      -ms-flex-direction: row;\n          flex-direction: row; } }\n  @media (min-width: 768px) {\n    .request-action__status {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 50%;\n          flex: 1 1 50%;\n      -ms-flex-pack: justify;\n          justify-content: space-between; } }\n  .request-action__status-item {\n    position: relative;\n    padding: 15px;\n    border: 3px solid #fff;\n    text-align: center;\n    margin-bottom: 15px; }\n    @media (min-width: 768px) {\n      .request-action__status-item {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex: 0 1 30%;\n            flex: 0 1 30%;\n        -ms-flex-direction: column;\n            flex-direction: column;\n        -ms-flex-pack: center;\n            justify-content: center;\n        margin-bottom: 0; } }\n    .request-action__status-item p {\n      margin-top: 10px;\n      font-size: 20px;\n      font-weight: bold; }\n    .request-action__status-item .request-status {\n      position: absolute;\n      border-radius: 50%;\n      top: 50%;\n      left: 0;\n      transform: translate(-50%, -50%);\n      width: 50px;\n      height: 50px;\n      padding: 5px;\n      border: 3px solid #fff;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-pack: center;\n          justify-content: center;\n      -ms-flex-align: center;\n          align-items: center; }\n      @media (min-width: 768px) {\n        .request-action__status-item .request-status {\n          bottom: -25px;\n          left: 50%;\n          top: 100%; } }\n      .request-action__status-item .request-status.approved {\n        background-color: #358046;\n        color: #fff; }\n      .request-action__status-item .request-status.pending {\n        background-color: #fff;\n        border-color: #007cc3;\n        color: #007cc3; }\n      .request-action__status-item .request-status.denied {\n        background-color: #fcedec;\n        border-color: #ba1b13;\n        color: #ba1b13; }\n  .request-action__info {\n    padding-top: 15px; }\n    @media (min-width: 992px) {\n      .request-action__info {\n        -ms-flex: 1 1 50%;\n            flex: 1 1 50%;\n        padding: 0 30px 0 60px; } }\n    .request-action__info-message p {\n      display: block;\n      max-width: 100%; }\n    @media (min-width: 768px) {\n      .request-action__info-action {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex: 1 0 auto;\n            flex: 1 0 auto;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n        -ms-flex-direction: row;\n            flex-direction: row;\n        -ms-flex-align: end;\n            align-items: flex-end; } }\n    .request-action__info-action span {\n      font-weight: bold; }\n    .request-action__info-action .price {\n      display: block;\n      font-size: 36px; }\n\nhr {\n  border-top: 2px solid #fff; }\n\n.table-flex-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 0 auto;\n      flex: 1 0 auto;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n  -ms-flex-align: stretch;\n      align-items: stretch;\n  padding: 10px;\n  background-color: #e5f2f9;\n  border: 2px solid #d0e2ec; }\n  @media (min-width: 1200px) {\n    .table-flex-row {\n      -ms-flex-direction: row;\n          flex-direction: row; } }\n  .table-flex-row > div {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 0 0 auto;\n        flex: 0 0 auto;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    -ms-flex-pack: justify;\n        justify-content: space-between; }\n  .table-flex-row .status {\n    margin-bottom: 15px; }\n    @media (min-width: 1200px) {\n      .table-flex-row .status {\n        margin-bottom: 0; } }\n    .table-flex-row .status-label {\n      display: block;\n      text-align: center;\n      font-size: 14px;\n      font-weight: bold;\n      margin-bottom: 5px; }\n\n@media (min-width: 1200px) {\n  .review-request--passengers .passenger-name {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--passengers .passenger-dob {\n    width: 150px;\n    min-width: 150px; }\n  .review-request--passengers .passenger-pass {\n    width: 125px;\n    min-width: 125px; }\n  .review-request--passengers .passenger-phone {\n    width: 170px;\n    min-width: 170px; }\n  .review-request--passengers .passenger-email {\n    width: 245px;\n    min-width: 245px; }\n  .review-request--passengers .passenger-edit {\n    width: 140px;\n    min-width: 140px; }\n  .review-request .status {\n    padding-right: 15px;\n    width: 185px;\n    min-width: 185px; }\n  .review-request .pricing {\n    width: 130px;\n    min-width: 130px; }\n    .review-request .pricing .input-group {\n      margin-bottom: 0; }\n  .review-request--hotels .hotel-date {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--hotels .hotel-info {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--hotels .hotel-type {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--ancillaries {\n    margin-bottom: 15px; }\n    .review-request--ancillaries .ancillary-destination {\n      width: 360px;\n      min-width: 360px; }\n    .review-request--ancillaries .ancillary-product {\n      width: 150px;\n      min-width: 150px; }\n    .review-request--ancillaries .ancillary-name {\n      width: 370px;\n      min-width: 370px; }\n      .review-request--ancillaries .ancillary-name ~ .ancillary-passenger {\n        width: 200px;\n        min-width: 200px; }\n    .review-request--ancillaries .ancillary-passenger {\n      width: 570px;\n      min-width: 570px; }\n    .review-request--ancillaries .ancillary-type {\n      width: 370px;\n      min-width: 370px; }\n    .review-request--ancillaries .ancillary-quantity {\n      width: 200px;\n      min-width: 200px; }\n    .review-request--ancillaries .ancillary-car-spacer {\n      width: 570px;\n      min-width: 570px; } }\n\n.review-request--flights .flight-pax {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pax {\n      display: table-cell;\n      font-size: 36px;\n      color: #aeb2b4; } }\n\n@media (min-width: 1200px) {\n  .review-request--flights .flight-departure {\n    width: 339px;\n    min-width: 339px;\n    padding-right: 15px;\n    position: relative; }\n    .review-request--flights .flight-departure--outbound::after, .review-request--flights .flight-departure--inbound::after {\n      content: \"\\F072\";\n      display: inline-block;\n      color: #9acbe7;\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 5px;\n      top: 50%;\n      transform: translateY(-50%); }\n    .review-request--flights .flight-departure--inbound::after {\n      transform: translateY(-50%) scale(-1, 1); }\n  .review-request--flights .flight-destination {\n    width: 360px;\n    min-width: 360px;\n    padding-right: 15px; }\n  .review-request--flights .flight-date {\n    width: 135px;\n    min-width: 135px; }\n  .review-request--flights .flight-number {\n    width: 225px;\n    min-width: 225px; } }\n\na.bp-link {\n  color: #fff;\n  font-weight: bold; }\n  a.bp-link:hover, a.bp-link:focus {\n    color: #fff;\n    font-weight: bold; }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/request-progress/request-progress.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestProgressComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise__ = __webpack_require__("../../../../rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_authentication_authentication_service__ = __webpack_require__("../../../../../src/app/services/authentication/authentication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_common_modals__ = __webpack_require__("../../../../../src/app/components/common/modals/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_common_modals_confirmation_confirmation_component__ = __webpack_require__("../../../../../src/app/components/common/modals/confirmation/confirmation.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_common_modals_add_flight_add_flight_component__ = __webpack_require__("../../../../../src/app/components/common/modals/add-flight/add-flight.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_common_modals_add_hotel_add_hotel_component__ = __webpack_require__("../../../../../src/app/components/common/modals/add-hotel/add-hotel.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var RequestProgressComponent = (function () {
    function RequestProgressComponent(dialog, httpClient, router, authenticationService, route, resourcesService) {
        var _this = this;
        this.dialog = dialog;
        this.httpClient = httpClient;
        this.router = router;
        this.authenticationService = authenticationService;
        this.route = route;
        this.resourcesService = resourcesService;
        this.TotalComponent = 0;
        this.TotalChange = 0;
        this.TotalBooking = 0;
        this.newFlightsCount = 0;
        this.newHotelsCount = 0;
        this.ApproveFlight = false;
        this.ApproveHotel = false;
        this.ApproveAncillary = false;
        this.bookingMade = false;
        this.rejectDisabled = true;
        this.submitDisabled = true;
        this.flightsDisabled = true;
        this.hotelsDisabled = true;
        this.statusEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */];
        this.typeOfPassEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["g" /* TypeOfPassEnum */];
        this.ancillaryProductEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["a" /* AncillaryProductEnum */];
        this.insuranceTypeEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["b" /* InsuranceTypeEnum */];
        this.transferTypeEnum = __WEBPACK_IMPORTED_MODULE_5__models_enums__["f" /* TransferTypeEnum */];
        this.typeOfPassArray = new Array();
        this.ancillaryProductsArray = new Array();
        this.transferTypeArray = new Array();
        this.notePaxEmp = '';
        this.notePaxAdmin = '';
        this.noteFlightEmp = '';
        this.noteFlightAdmin = '';
        this.noteHotelEmp = '';
        this.noteHotelAdmin = '';
        this.noteAncEmp = '';
        this.noteAncAdmin = '';
        this.noteFlightPayload = '';
        this.dateMask = [
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            '/',
            /\d/,
            /\d/,
            /\d/,
            /\d/
        ];
        this.rejectRequestAPI = 'api/Request/CancelMyRequest?id={0}';
        this.r = {};
        this.subscription = this.authenticationService
            .getUserInfo()
            .subscribe(function (userInfo) {
            _this.basicInfo = userInfo.basicInfo;
        });
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.typeOfPassArray = resourcesService.getTypeOfPasses();
            _this.ancillaryProductsArray = resourcesService.getAncillaryProducts();
            _this.transferTypeArray = resourcesService.getTransferTypes();
        });
    }
    RequestProgressComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.flightStatus = 0;
        this.hotelStatus = 0;
        this.ancillariesStatus = 0;
        this.AmountArray = [''];
        this.TotalBooking = 0;
        this.TotalAmount = '0.00';
        this.request = new __WEBPACK_IMPORTED_MODULE_4__models_request__["a" /* Request */]();
        this.requestId = this.route.snapshot.params['requestId'];
        var empNumber = this.resourcesService.getCookie('empNumber');
        if (!this.requestId) {
            this.router.navigate(['/home']);
            return;
        }
        this.httpClient
            .get('api/request/GetProgressDetail?Id=' + this.requestId)
            .toPromise()
            .then(function (res) {
            _this.request = JSON.parse(res.text());
            if (_this.request.flights.length == 0) {
                _this.flightStatus = -1;
            }
            else {
                // status checking - flight
                _this.request.flights.forEach(function (f) {
                    if (f.approvalStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                        _this.flightStatus = 1;
                    }
                    else {
                        f.price = 0;
                    }
                    if (f.status == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved &&
                        f.approvalStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                        _this.TotalBooking += f.price;
                    }
                    // if at least one is denied, allow adding flights
                    if (f.approvalStatus === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Denied)
                        _this.flightsDisabled = false;
                });
                _this.TotalComponent += 1;
            }
            if (_this.request.hotels.length == 0) {
                _this.hotelStatus = -1;
            }
            else {
                // status checking - hotel
                _this.request.hotels.forEach(function (h) {
                    if (h.approvalStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                        _this.hotelStatus = 1;
                    }
                    else {
                        h.price = 0;
                    }
                    if (h.status == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved &&
                        h.approvalStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                        _this.TotalBooking += h.price;
                    }
                    // if at least one is denied, allow adding hotels
                    if (h.approvalStatus === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Denied)
                        _this.hotelsDisabled = false;
                });
                _this.TotalComponent += 1;
            }
            if (_this.request.ancillaries != null) {
                if (_this.request.ancillaries.length != 0) {
                    if (!_this.request.ancillaries[0].destination) {
                        // this.request.ancillaries = null;
                        _this.ancillariesStatus = -1;
                    }
                    else {
                        // status checking - ancillary
                        _this.request.ancillaries.forEach(function (x) {
                            if (x.approvalStatus == 1) {
                                _this.ancillariesStatus = 1;
                            }
                            else {
                                x.price = 0;
                            }
                            if (x.status == 1 && x.approvalStatus == 1) {
                                _this.TotalBooking += x.price;
                            }
                        });
                        _this.TotalComponent += 1;
                    }
                }
            }
            _this.request.notes.forEach(function (x) {
                if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Passengers &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Employee) {
                    _this.notePaxEmp = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Passengers &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.notePaxAdmin = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Flights &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Employee) {
                    _this.noteFlightEmp = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Flights &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.noteFlightAdmin = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Flights &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Payload) {
                    _this.noteFlightPayload = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Hotels &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Employee) {
                    _this.noteHotelEmp = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Hotels &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.noteHotelAdmin = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Ancillaries &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Employee) {
                    _this.noteAncEmp = x.text;
                }
                else if (x.sectionId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["c" /* NoteSectionEnum */].Ancillaries &&
                    x.typeId == __WEBPACK_IMPORTED_MODULE_5__models_enums__["d" /* NoteTypeEnum */].Admin) {
                    _this.noteAncAdmin = x.text;
                }
            });
            if (_this.request.bookingNumber != null)
                _this.BookingNumber = _this.request.bookingNumber.toString();
            // when booking is made
            if (_this.BookingNumber != null) {
                _this.bookingMade = true;
                _this.TotalAmount = _this.TotalBooking.toFixed(2);
            }
            if (_this.request.status != __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Denied)
                _this.rejectDisabled = false;
            // console.log(this.request.flights);
        })
            .catch(function (e) {
            console.log('error ' + e);
            _this.router.navigate(['/home']);
            return;
        });
        this.submitDisabled = true;
    };
    RequestProgressComponent.prototype.isEmptyObject = function (obj) {
        // console.log(obj);
        return obj && Object.keys(obj).length === 0;
    };
    RequestProgressComponent.prototype.requestSubmit = function () {
        var _this = this;
        console.log(this.checkApproveStatusFromEmployee());
        console.log(this.checkPaxModification());
        if (this.checkApproveStatusFromEmployee() || this.checkPaxModification()) {
            // ok to submit
            // console.log(this.request.flights);
            this.httpClient
                .post('api/request/UpdateApprovalFromEmployee', this.request)
                .toPromise()
                .then(function (res) {
                _this.modalMessage('Success', _this.r.success, _this.r.bookingRequestReceived);
                _this.ngOnInit(); // force refresh
            })
                .catch(function (e) {
                console.log('error ' + e);
                _this.modalMessage('Error', _this.r.errorHeader, _this.r.ERR_TryAgain);
            });
        }
        else {
            this.modalMessage('Error', this.r.errorHeader, this.r.ERR_ApprovalRequired);
        }
    };
    RequestProgressComponent.prototype.statusChange = function (selectedStatus, price, id, filter) {
        var plusminus = '';
        var str = filter + '|' + id + '|' + price;
        if (selectedStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
            if (this.AmountArray.indexOf(str) == -1) {
                this.AmountArray.push(str);
                this.TotalAmount = (parseFloat(this.TotalAmount) + price).toFixed(2);
            }
        }
        else {
            if (this.AmountArray.indexOf(str) > -1) {
                this.AmountArray.splice(this.AmountArray.indexOf(str), 1);
                this.TotalAmount = (parseFloat(this.TotalAmount) - price).toFixed(2);
            }
        }
        // update status
        if (filter == 'flight') {
            var approvalAlreadyExist = false;
            var indexOfChanged = 0;
            // make sure none have been approved before
            if (selectedStatus == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                for (var i = 0; i < this.request.flights.length; i++) {
                    if (this.request.flights[i].status == __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Approved) {
                        approvalAlreadyExist = true;
                        indexOfChanged = i;
                        break;
                    }
                }
            }
            this.request.flights.find(function (f) { return f.id == id; }).status = selectedStatus;
            // reverse the status of any previous approval
            if (approvalAlreadyExist)
                this.request.flights[indexOfChanged].status = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
        }
        else if (filter == 'hotel')
            this.request.hotels.find(function (h) { return h.id == id; }).status = selectedStatus;
        else if (filter == 'ancillary')
            this.request.ancillaries.find(function (a) { return a.id == id; }).status = selectedStatus;
        // when ready to submit, the submit button will enable
        this.checkStatusForSubmit(filter);
        this.submitDisabled = false;
    };
    RequestProgressComponent.prototype.checkStatusForSubmit = function (fliter) {
        var approvalCount = 0;
        if (fliter == 'flight') {
            this.ApproveFlight = true;
        }
        if (fliter == 'hotel') {
            this.ApproveHotel = true;
        }
        if (fliter == 'ancillary') {
            this.ApproveAncillary = true;
        }
        return this.checkApproveStatusFromEmployee();
    };
    RequestProgressComponent.prototype.checkApproveStatusFromEmployee = function () {
        if (this.request.flights.length == 0)
            this.ApproveFlight = true;
        if (this.request.hotels.length == 0)
            this.ApproveHotel = true;
        if (this.request.ancillaries.length == 0)
            this.ApproveAncillary = true;
        if (this.ApproveFlight && this.ApproveHotel && this.ApproveAncillary) {
            return true;
        }
        else {
            return false;
        }
    };
    RequestProgressComponent.prototype.checkPaxModification = function () {
        var returnVal = false;
        // depend on booking number
        // if booking made, employee can't modify
        if (!this.bookingMade) {
            returnVal = true;
            this.submitDisabled = false;
        }
        else {
            returnVal = false;
            this.submitDisabled = true;
        }
        return returnVal;
    };
    RequestProgressComponent.prototype.confirmRejectRequest = function () {
        this.modalConfirmation('Confirm', this.r.confirm, this.r.confirmCancelRequest, this.r.no, this.r.yes);
    };
    RequestProgressComponent.prototype.rejectRequest = function () {
        var _this = this;
        this.httpClient
            .get(this.rejectRequestAPI.replace('{0}', this.requestId.toString()))
            .toPromise()
            .then(function (res) {
            _this.modalMessage('Success', _this.r.success, _this.r.requestRejected);
            _this.rejectDisabled = true;
        })
            .catch(function (e) {
            _this.modalMessage('Error', _this.r.errorHeader, 'Error ' + e);
        });
    };
    RequestProgressComponent.prototype.modalMessage = function (type, heading, message) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    RequestProgressComponent.prototype.modalEdit = function (passenger) {
        var _this = this;
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_9__components_common_modals__["a" /* EditComponent */], {
            width: '650px',
            data: {
                firstName: passenger.firstName,
                middleName: passenger.middleName,
                lastName: passenger.lastName,
                DOB: __WEBPACK_IMPORTED_MODULE_6_moment__(passenger.DOB).format('MM/DD/YYYY'),
                typeOfPass: passenger.typeOfPass,
                phoneNumber: passenger.phoneNumber,
                email: passenger.email
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--edit'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result !== undefined) {
                passenger.firstName = result.firstName;
                passenger.middleName = result.middleName;
                passenger.lastName = result.lastName;
                passenger.DOB = __WEBPACK_IMPORTED_MODULE_6_moment__(result.DOB, 'MM/DD/YYYY', true).format('YYYY-MM-DDT00:00:00');
                passenger.phoneNumber = result.phoneNumber;
                passenger.email = result.email;
                _this.checkPaxModification();
            }
        });
    };
    RequestProgressComponent.prototype.addFlight = function () {
        var _this = this;
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_12__components_common_modals_add_flight_add_flight_component__["a" /* AddFlightComponent */], {
            width: '900px',
            data: {},
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--edit'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result !== undefined) {
                var newFlight = result;
                newFlight.requestId = _this.request.id;
                newFlight.status = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
                newFlight.approvalStatus = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
                newFlight.departDate = __WEBPACK_IMPORTED_MODULE_6_moment__(newFlight.departDate, 'MM/DD/YYYY').toDate();
                newFlight.returnDate = __WEBPACK_IMPORTED_MODULE_6_moment__(newFlight.returnDate, 'MM/DD/YYYY').toDate();
                _this.request.flights.push(newFlight);
                _this.newFlightsCount++;
                _this.checkPaxModification();
            }
        });
    };
    RequestProgressComponent.prototype.addHotel = function () {
        var _this = this;
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_13__components_common_modals_add_hotel_add_hotel_component__["a" /* AddHotelComponent */], {
            width: '900px',
            data: {},
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--edit'
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result !== undefined) {
                var newHotel = result;
                newHotel.requestId = _this.request.id;
                newHotel.status = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
                newHotel.approvalStatus = __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending;
                newHotel.checkInDate = __WEBPACK_IMPORTED_MODULE_6_moment__(newHotel.checkInDate, 'MM/DD/YYYY').toDate();
                _this.request.hotels.push(newHotel);
                _this.newHotelsCount++;
                _this.checkPaxModification();
            }
        });
    };
    RequestProgressComponent.prototype.modalConfirmation = function (type, heading, message, cancel, confirm) {
        var _this = this;
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_11__components_common_modals_confirmation_confirmation_component__["a" /* ConfirmationComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message,
                cancel: cancel,
                confirm: confirm
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
        dialogRef.afterClosed().subscribe(function (result) {
            if (result && result == true)
                _this.rejectRequest();
        });
    };
    return RequestProgressComponent;
}());
RequestProgressComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-request-progress',
        template: __webpack_require__("../../../../../src/app/request-progress/request-progress.component.html"),
        styles: [__webpack_require__("../../../../../src/app/request-progress/request-progress.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__["b" /* MatDialog */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__angular_material_dialog__["b" /* MatDialog */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_7__services_authentication_authentication_service__["a" /* AuthenticationService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__services_authentication_authentication_service__["a" /* AuthenticationService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _f || Object])
], RequestProgressComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=request-progress.component.js.map

/***/ }),

/***/ "../../../../../src/app/reset-password/reset-password.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"reset-password\">\r\n\r\n        <form class=\"form-horizontal form-flex-error\" name=\"resetPassword\" (ngSubmit)=\"resetPassword()\" #resetPasswordForm=\"ngForm\">\r\n            <div class=\"reset-password-title\">\r\n                <h2>{{r.resetPassword}}</h2>\r\n                <a routerLink=\"/login-register\">{{r.backToSignIn}}</a>\r\n            </div>\r\n            <div *ngIf=\"!isPasswordValid\" class=\"alert alert-danger\">\r\n                <label>{{r.passwordRequirementsTitle}}</label>\r\n                <ul>\r\n                    <li>{{r.passwordRequirementsLine1}}</li>\r\n                    <li>{{r.passwordRequirementsLine2}}</li>\r\n                    <li>{{r.passwordRequirementsLine3}}</li>\r\n                    <li>{{r.passwordRequirementsLine4}}</li>\r\n                </ul>\r\n            </div>\r\n            <div *ngIf=\"!isPasswordMatch\" class=\"alert alert-danger\">\r\n                <label>{{r.passwordMismatch}}</label>\r\n            </div>\r\n            <div class=\"form-group form-group--bottom\">\r\n                <div class=\"col-sm-6\">\r\n                    <label for=\"resetPassword_password\">{{r.password}}</label>\r\n                    <input type=\"password\" [(ngModel)]=\"passwordModel.password\" id=\"resetPassword_password\" name=\"resetPassword_password\" class=\"form-control\"\r\n                        required=\"required\">\r\n                </div>\r\n                <div class=\"col-sm-6\">\r\n                    <label for=\"resetPassword_passwordConfirm\">{{r.confirmPassword}}</label>\r\n                    <input type=\"password\" [(ngModel)]=\"passwordModel.confirmPassword\" id=\"resetPassword_passwordConfirm\" name=\"resetPassword_passwordConfirm\"\r\n                        class=\"form-control\" required=\"required\">\r\n                </div>\r\n                <div class=\"col-sm-3\">\r\n                    <input type=\"submit\" value=\"Submit\" class=\"btn btn-full btn-primary\" [disabled]=\"resetPasswordForm.invalid || !resetPasswordBtnReady\">\r\n                </div>\r\n            </div>\r\n            <a class=\"form-flex-bottom back\" routerLink=\"/login-register\">{{r.backToSignIn}}</a>\r\n        </form>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/reset-password/reset-password.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".container {\n  max-width: 100vw;\n  min-width: 100vw; }\n\n@media (min-width: 768px) {\n  .container {\n    min-width: initial; } }\n\n.reset-password {\n  transition: all 0.5s ease;\n  background-color: rgba(255, 255, 255, 0.9);\n  border: 2px solid #007cc3;\n  padding: 25px; }\n\n.reset-password:before,\n.reset-password:after {\n  content: \" \";\n  display: table; }\n\n.reset-password:after {\n  clear: both; }\n\n@media (min-width: 992px) {\n  .reset-password {\n    max-width: 80%;\n    margin: 0 auto; } }\n\n@media (min-width: 1200px) {\n  .reset-password {\n    max-width: 70%; } }\n\n.reset-password-title {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 0 1 auto;\n      flex: 0 1 auto; }\n\n.reset-password-title h2 {\n  margin-top: 0;\n  -ms-flex-positive: 1;\n      flex-grow: 1; }\n\n.reset-password-title a {\n  display: none; }\n\n.back {\n  display: block; }\n\n@media (min-width: 768px) {\n  .reset-password-title a {\n    display: inline;\n    text-align: right;\n    -ms-flex-item-align: start;\n        align-self: flex-start; }\n  .back {\n    display: none; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/reset-password/reset-password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ResetPasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_password__ = __webpack_require__("../../../../../src/app/models/password.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ResetPasswordComponent = (function () {
    function ResetPasswordComponent(http, router, activatedRoute, resourcesService) {
        var _this = this;
        this.http = http;
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.resourcesService = resourcesService;
        this.isPasswordValid = true;
        this.isPasswordMatch = true;
        this.r = {};
        resourcesService.getResources().subscribe(function (res) { return _this.r = res; });
    }
    ResetPasswordComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.passwordModel = new __WEBPACK_IMPORTED_MODULE_3__models_password__["a" /* Password */]();
        this.resetPasswordBtnReady = true;
        this.activatedRoute.queryParams.subscribe(function (params) {
            _this.userId = params['uid'];
            _this.resetToken = params['token'];
            if (_this.userId && _this.resetPassword) {
                _this.errorMessage = '';
                _this.isValid = true;
            }
            else {
                //log an error
                //
                alert('Invalid URL');
                //redirect to login page
                _this.router.navigate(['/login-register']);
                return;
            }
        });
    };
    ResetPasswordComponent.prototype.resetPassword = function () {
        var _this = this;
        if (!this.validateForm()) {
            this.isValid = false;
            this.resetPasswordBtnReady = true;
            return false;
        }
        this.resetPasswordBtnReady = false;
        var body = {
            NewPassword: this.passwordModel.password,
            ConfirmPassword: this.passwordModel.confirmPassword,
            ResetToken: this.resetToken,
            UserId: this.userId
        };
        this.http.post('/api/Account/ResetPassword', body)
            .toPromise()
            .then(function () {
            alert('Password was successfully reset please login using the new password');
            _this.router.navigate(['/login-register']);
        })
            .catch(function (err) {
            alert('Password reset failed');
            console.log('error ' + err);
            _this.resetPasswordBtnReady = true;
        });
    };
    ResetPasswordComponent.prototype.validateForm = function () {
        var passwordRegEx = new RegExp(/(?=^.{6,}$)(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*\s).*$/);
        if (!passwordRegEx.test(this.passwordModel.password)) {
            this.resetPasswordBtnReady = false;
            this.isPasswordValid = false;
            return false;
        }
        else {
            this.isPasswordValid = true;
        }
        if (this.passwordModel.password !== this.passwordModel.confirmPassword) {
            this.resetPasswordBtnReady = false;
            this.isPasswordMatch = false;
            return false;
        }
        else {
            this.isPasswordMatch = true;
        }
        return true;
    };
    return ResetPasswordComponent;
}());
ResetPasswordComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-reset-password',
        template: __webpack_require__("../../../../../src/app/reset-password/reset-password.component.html"),
        styles: [__webpack_require__("../../../../../src/app/reset-password/reset-password.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], ResetPasswordComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=reset-password.component.js.map

/***/ }),

/***/ "../../../../../src/app/review-request/review-request.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div>\r\n                <h1>{{r.reviewRequest}}</h1>\r\n                <p>{{r.reviewPageSubTitle}}</p>\r\n            </div>\r\n\r\n            <div class=\"review\">\r\n                <!-- Passengers -->\r\n                <section id=\"passengers\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-ticket\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.passengersSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--passengers\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"passenger-name\">{{r.passengerName}}</th>\r\n                                <th class=\"passenger-dob\">{{r.dob}}</th>\r\n                                <th class=\"passenger-pass\">{{r.typeOfPass}}</th>\r\n                                <th class=\"passenger-phone\">{{r.phoneNumber}}</th>\r\n                                <th class=\"passenger-email\">{{r.email}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let passenger of request.passengers; let passengerIndex = index\" [attr.data-index]=\"passengerIndex + 1\">\r\n                                <td class=\"passenger-name\" [attr.data-index]=\"passengerIndex + 1\" [attr.data-heading]=\"r.passengerName + ':'\">{{passenger.firstName}} {{passenger.middleName}} {{passenger.lastName}}</td>\r\n                                <td class=\"passenger-dob\" [attr.data-heading]=\"r.dob + ':'\">{{passenger.DOB | date:'MM/dd/yyyy,MM/DD/YYYY'}}</td>\r\n                                <td class=\"passenger-pass\" [attr.data-heading]=\"r.typeOfPass + ':'\">{{typeOfPassArray[passenger.typeOfPass]?.name}}</td>\r\n                                <td class=\"passenger-phone\" [attr.data-heading]=\"r.phoneNumber + ':'\">{{passenger.phoneNumber}}</td>\r\n                                <td class=\"passenger-email\" [attr.data-heading]=\"r.email + ':'\">{{passenger.email}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"passengerNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{passengerNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.flights.length > 0\" />\r\n\r\n                <!-- Flights -->\r\n                <section id=\"flights\" *ngIf=\"request.flights.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-plane\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.flightsSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--flights\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"flight-departure\" colspan=\"2\">{{r.departing}}</th>\r\n                                <th class=\"flight-destination\">{{r.arriving}}</th>\r\n                                <th class=\"flight-date\">{{r.itinerary}}</th>\r\n                                <th class=\"divider flight-number\">{{r.flightNum}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section__item review-request__section__item--flight\" *ngFor=\"let flight of request.flights; let flightIndex = index;\" [attr.data-index]=\"flightIndex + 1\">\r\n                            <tr>\r\n                                <th class=\"flight-pax\" scope=\"row\" rowspan=\"2\">{{flightIndex + 1}}</th>\r\n                                <td class=\"flight-departure flight-departure--outbound\" [attr.data-heading]=\"r.departFrom + ':'\">{{flight.departFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.departTo + ':'\">{{flight.departTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.departDate + ':'\">{{flight.departDate | date:'dd MMM yyyy,MM/DD/YYYY'}}</td>\r\n                                <td class=\"flight-number\" [attr.data-heading]=\"r.flightNum + ':'\">{{flight.departFlight}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"flight-departure flight-departure--inbound\" [attr.data-heading]=\"r.returnFrom + ':'\">{{flight.returnFrom}}</td>\r\n                                <td class=\"flight-destination\" [attr.data-heading]=\"r.returnTo + ':'\">{{flight.returnTo}}</td>\r\n                                <td class=\"flight-date\" [attr.data-heading]=\"r.returnDate + ':'\">{{flight.returnDate | date:'dd MMM yyyy,MM/DD/YYYY'}}</td>\r\n                                <td class=\"flight-number\" [attr.data-heading]=\"r.flightNum + ':'\">{{flight.returnFlight}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"flightNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td colspan=\"5\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{flightNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.hotels.length > 0\" />\r\n\r\n                <!-- Hotel/Cruise information -->\r\n                <section id=\"hotels\" *ngIf=\"request.hotels.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-bed\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.hotelsSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--hotels\">\r\n                        <thead class=\"review-request__heading\">\r\n                            <tr>\r\n                                <th class=\"hotel-date\">{{r.checkInDate}} / {{r.duration}}</th>\r\n                                <th class=\"hotel-info\">{{r.hotelName}}</th>\r\n                                <th class=\"hotel-type\">{{r.roomType}}</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"review-request__section\">\r\n                            <tr class=\"review-request__section__item\" *ngFor=\"let hotel of request.hotels; let hotelIndex = index\" [attr.data-index]=\"hotelIndex + 1\">\r\n                                <td class=\"hotel-date\" [attr.data-index]=\"hotelIndex + 1\" [attr.data-heading]=\"r.checkInDate + '/' + r.duration + ':'\">{{hotel.checkInDate | date:'dd MMM yyyy,MM/DD/YYYY'}} / {{hotel.duration}} Nights</td>\r\n                                <td class=\"hotel-info\" [attr.data-heading]=\"r.hotelName + ':'\">{{hotel.name}} <br /> {{hotel.destination}}</td>\r\n                                <td class=\"hotel-type\" [attr.data-heading]=\"r.roomType + ':'\">{{hotel.roomType}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"hotelNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td colspan=\"3\">\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{hotelNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </section>\r\n\r\n                <hr *ngIf=\"request.ancillaries.length > 0\" />\r\n\r\n                <!-- Ancillaries -->\r\n                <section id=\"ancillaries\" *ngIf=\"request.ancillaries.length > 0\">\r\n                    <div class=\"review-heading\">\r\n                        <i class=\"fa fa-cubes\" aria-hidden=\"true\"></i>\r\n                        <h3>{{r.ancillariesSectionTitle}}</h3>\r\n                    </div>\r\n                    <table class=\"review-request review-request--ancillaries\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td class=\"review-request__section\">\r\n                                    <table class=\"review-request review-request__section__item\" *ngFor=\"let ancillary of request.ancillaries; let ancillaryIndex = index\" [attr.data-index]=\"ancillaryIndex + 1\">\r\n                                        <thead class=\"review-request__heading\">\r\n                                            <tr>\r\n                                                <th class=\"ancillary-destination\">{{r.destination}}</th>\r\n                                                <th class=\"ancillary-product\">{{r.product}}</th>\r\n\r\n                                                <th class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\">{{r.excursionName}}</th>\r\n                                                <th class=\"ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\">{{r.passenger}}</th>\r\n\r\n                                                <th class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.transferType}}</th>\r\n                                                <th class=\"ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\">{{r.quantity}}</th>\r\n                                                <th class=\"ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr class=\"review-request__section__item\">\r\n                                                <td class=\"ancillary-destination\" [attr.data-index]=\"ancillaryIndex + 1\" [attr.data-heading]=\"r.destination + ':'\">{{ancillary.destination}}</td>\r\n                                                <td class=\"ancillary-product\" [attr.data-heading]=\"r.product + ':'\">{{ancillaryProductsArray[ancillary.ancillaryProductType]?.name}}</td>\r\n\r\n                                                <td class=\"ancillary-name\" *ngIf=\"ancillary.ancillaryProductType == 0\" [attr.data-heading]=\"r.excursionName + ':'\">{{ancillary.excursionName}}</td>\r\n                                                <td class=\"ancillary-passenger\" *ngIf=\"ancillary.ancillaryProductType == 0 || ancillary.ancillaryProductType == 2\" [attr.data-heading]=\"r.passenger + ':'\">{{ancillary.passengerNumber}} {{request.passengers[ancillary.passengerNumber - 1].firstName}} {{request.passengers[ancillary.passengerNumber - 1].lastName}}</td>\r\n\r\n                                                <td class=\"ancillary-type\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.transferType + ':'\">{{transferTypeArray[ancillary.transferType]?.name}}</td>\r\n                                                <td class=\"ancillary-quantity\" *ngIf=\"ancillary.ancillaryProductType == 1\" [attr.data-heading]=\"r.quantity + ':'\">{{ancillary.quantity}}</td>\r\n\r\n                                                <td class=\"ancillary-car-spacer\" *ngIf=\"ancillary.ancillaryProductType == 3\"></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot class=\"review-request__additional-note\" *ngIf=\"ancillaryNote.text?.length > 0\">\r\n                            <tr>\r\n                                <td>\r\n                                    <strong>{{r.additionalNote}} </strong>\r\n                                    <p>{{ancillaryNote.text}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                </section>\r\n\r\n                <hr />\r\n\r\n                <section>\r\n                    <div class=\"review-request__row-split\">\r\n                        <button class=\"btn btn-secondary btn-wide\" (click)=\"editRequest()\">\r\n                            <i class=\"fa fa-angle-left fa-lg\" aria-hidden=\"true\"></i> {{r.edit}}</button>\r\n                        <button class=\"btn btn-step btn-wide\" (click)=\"submitRequest()\" [disabled]=\"!submitBtnReady\">{{r.submit}}</button>\r\n                    </div>\r\n                </section>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/review-request/review-request.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "hr {\n  border-top: 2px solid #fff; }\n\n@media (min-width: 1200px) {\n  .review-request--passengers .passenger-name {\n    width: 250px;\n    min-width: 250px; }\n  .review-request--passengers .passenger-dob {\n    width: 150px;\n    min-width: 150px; }\n  .review-request--passengers .passenger-pass {\n    width: 265px;\n    min-width: 265px; }\n  .review-request--passengers .passenger-phone {\n    width: 170px;\n    min-width: 170px; }\n  .review-request--passengers .passenger-email {\n    width: 245px;\n    min-width: 245px; }\n  .review-request--hotels .hotel-date {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--hotels .hotel-info {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--hotels .hotel-type {\n    width: 360px;\n    min-width: 360px; }\n  .review-request--ancillaries {\n    margin-bottom: 15px; }\n    .review-request--ancillaries .ancillary-destination {\n      width: 360px;\n      min-width: 360px; }\n    .review-request--ancillaries .ancillary-product {\n      width: 150px;\n      min-width: 150px; }\n    .review-request--ancillaries .ancillary-name {\n      width: 370px;\n      min-width: 370px; }\n      .review-request--ancillaries .ancillary-name ~ .ancillary-passenger {\n        width: 200px;\n        min-width: 200px; }\n    .review-request--ancillaries .ancillary-passenger {\n      width: 570px;\n      min-width: 570px; }\n    .review-request--ancillaries .ancillary-type {\n      width: 370px;\n      min-width: 370px; }\n    .review-request--ancillaries .ancillary-quantity {\n      width: 200px;\n      min-width: 200px; }\n    .review-request--ancillaries .ancillary-car-spacer {\n      width: 570px;\n      min-width: 570px; } }\n\n.review-request--flights .flight-pax {\n  display: none; }\n  @media (min-width: 1200px) {\n    .review-request--flights .flight-pax {\n      display: table-cell;\n      font-size: 36px;\n      color: #aeb2b4; } }\n\n@media (min-width: 1200px) {\n  .review-request--flights .flight-departure {\n    width: 339px;\n    min-width: 339px;\n    padding-right: 15px;\n    position: relative; }\n    .review-request--flights .flight-departure--outbound::after, .review-request--flights .flight-departure--inbound::after {\n      content: \"\\F072\";\n      display: inline-block;\n      color: #9acbe7;\n      font: normal normal normal 14px/1 FontAwesome;\n      font-size: inherit;\n      text-rendering: auto;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 5px;\n      top: 50%;\n      transform: translateY(-50%); }\n    .review-request--flights .flight-departure--inbound::after {\n      transform: translateY(-50%) scale(-1, 1); }\n  .review-request--flights .flight-destination {\n    width: 360px;\n    min-width: 360px;\n    padding-right: 15px; }\n  .review-request--flights .flight-date {\n    width: 135px;\n    min-width: 135px; }\n  .review-request--flights .flight-number {\n    width: 225px;\n    min-width: 225px; } }\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/review-request/review-request.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReviewRequestComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_request__ = __webpack_require__("../../../../../src/app/models/request.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_note__ = __webpack_require__("../../../../../src/app/models/note.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_common_modals__ = __webpack_require__("../../../../../src/app/components/common/modals/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__ = __webpack_require__("../../../material/esm5/dialog.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ReviewRequestComponent = (function () {
    function ReviewRequestComponent(dialog, router, httpClient, resourcesService) {
        var _this = this;
        this.dialog = dialog;
        this.router = router;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.passengerNote = new __WEBPACK_IMPORTED_MODULE_5__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_4__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.flightNote = new __WEBPACK_IMPORTED_MODULE_5__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_4__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.hotelNote = new __WEBPACK_IMPORTED_MODULE_5__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_4__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.ancillaryNote = new __WEBPACK_IMPORTED_MODULE_5__models_note__["a" /* Note */]('', __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Passengers, __WEBPACK_IMPORTED_MODULE_4__models_enums__["d" /* NoteTypeEnum */].Employee);
        this.ancillaryProductEnum = __WEBPACK_IMPORTED_MODULE_4__models_enums__["a" /* AncillaryProductEnum */];
        this.transferTypeEnum = __WEBPACK_IMPORTED_MODULE_4__models_enums__["f" /* TransferTypeEnum */];
        this.typeOfPassArray = new Array();
        this.ancillaryProductsArray = new Array();
        this.transferTypeArray = new Array();
        this.createNewRequestAPI = 'api/Request/CreateNewRequest';
        this.basicInfoAPI = 'api/passesInfo/getbasicinfobyemployeenumber?empNumber={0}';
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.typeOfPassArray = resourcesService.getTypeOfPasses();
            _this.ancillaryProductsArray = resourcesService.getAncillaryProducts();
            _this.transferTypeArray = resourcesService.getTransferTypes();
        });
    }
    ReviewRequestComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.request = new __WEBPACK_IMPORTED_MODULE_2__models_request__["a" /* Request */]();
        if (sessionStorage.getItem('currentRequest')) {
            this.request = JSON.parse(sessionStorage.getItem('currentRequest'));
            this.request.notes.forEach(function (n) {
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Passengers)
                    _this.passengerNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Flights)
                    _this.flightNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Hotels)
                    _this.hotelNote = n;
                if (n.sectionId == __WEBPACK_IMPORTED_MODULE_4__models_enums__["c" /* NoteSectionEnum */].Ancillaries)
                    _this.ancillaryNote = n;
            });
            this.submitBtnReady = true;
        }
        else {
            this.modalMessage('Error', this.r.errorHeader, this.r.ERR_RequestNotFound);
            this.router.navigate(['/new-request']);
        }
    };
    ReviewRequestComponent.prototype.editRequest = function () {
        //return to new-request to edit this request
        this.router.navigate(['/new-request']);
    };
    ReviewRequestComponent.prototype.submitRequest = function () {
        var _this = this;
        this.submitBtnReady = false;
        //http post the request
        this.httpClient.post(this.createNewRequestAPI, this.request)
            .toPromise()
            .then(function (res) {
            _this.modalMessage('Success', _this.r.success, _this.r.requestAddedSuccessfully);
            //remove the request from the session
            sessionStorage.removeItem('currentRequest');
            _this.httpClient.get(_this.basicInfoAPI.replace('{0}', _this.request.employeeNumber))
                .toPromise()
                .then(function (res) {
                _this.resourcesService.setCookie('basicInfo', res.json(), 14);
                //redirect to my-requests page
                _this.router.navigate(['/my-requests']);
            });
        })
            .catch(function (err) {
            _this.modalMessage('Error', _this.r.errorHeader, _this.r.ERR_RequestFailed + ' ' + err.json().Message);
            _this.submitBtnReady = true;
        });
    };
    ReviewRequestComponent.prototype.modalMessage = function (type, heading, message) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__components_common_modals__["b" /* MessageComponent */], {
            width: '650px',
            data: {
                type: type.toLowerCase(),
                heading: heading,
                message: message
            },
            backdropClass: 'modal-backdrop-light',
            panelClass: 'modal--message-' + type.toLowerCase()
        });
    };
    return ReviewRequestComponent;
}());
ReviewRequestComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-review-request',
        template: __webpack_require__("../../../../../src/app/review-request/review-request.component.html"),
        styles: [__webpack_require__("../../../../../src/app/review-request/review-request.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__["b" /* MatDialog */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8__angular_material_dialog__["b" /* MatDialog */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _d || Object])
], ReviewRequestComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=review-request.component.js.map

/***/ }),

/***/ "../../../../../src/app/services/authentication/authentication.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthenticationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__ = __webpack_require__("../../../../rxjs/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AuthenticationService = (function () {
    function AuthenticationService(resourcesService) {
        this.resourcesService = resourcesService;
        this.subject = new __WEBPACK_IMPORTED_MODULE_1_rxjs_BehaviorSubject__["BehaviorSubject"]({
            isLoggedIn: false,
            basicInfo: null,
            roles: null
        });
    }
    AuthenticationService.prototype.updateUserInfo = function () {
        var isLoggedIn = false;
        var basicInfo = null;
        var roles = null;
        var isManager = false;
        var isAdmin = false;
        var isPayload = false;
        if (this.resourcesService.getCookie('accessToken')) {
            isLoggedIn = true;
            if (this.resourcesService.getCookie('basicInfo'))
                basicInfo = this.resourcesService.getCookie('basicInfo');
            if (this.resourcesService.getCookie('roles')) {
                roles = this.resourcesService.getCookie('roles');
                if (roles.includes("2")) {
                    isManager = true;
                }
                if (roles.includes("5")) {
                    isAdmin = true;
                }
                if (roles.includes("4")) {
                    isPayload = true;
                }
            }
        }
        this.subject.next({
            isLoggedIn: isLoggedIn,
            basicInfo: JSON.parse(basicInfo),
            roles: (_a = {},
                _a['isManager'] = isManager,
                _a['isAdmin'] = isAdmin,
                _a['isPayload'] = isPayload,
                _a)
        });
        var _a;
    };
    AuthenticationService.prototype.clearUserInfo = function () {
        this.subject.next({
            isLoggedIn: false,
            basicInfo: null,
            roles: null
        });
    };
    AuthenticationService.prototype.getUserInfo = function () {
        return this.subject.asObservable();
    };
    return AuthenticationService;
}());
AuthenticationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__resources_resources_service__["a" /* ResourcesService */]) === "function" && _a || Object])
], AuthenticationService);

var _a;
//# sourceMappingURL=authentication.service.js.map

/***/ }),

/***/ "../../../../../src/app/services/http-client/http-client.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpClientService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HttpClientService = (function () {
    function HttpClientService(http, router, resourcesService) {
        this.http = http;
        this.router = router;
        this.resourcesService = resourcesService;
    }
    HttpClientService.prototype.createAuthHeader = function (headers) {
        var token = this.resourcesService.getCookie('accessToken');
        if (token) {
            headers.append('Authorization', 'Bearer ' + token);
        }
        else {
            alert('Your session has expired.');
            this.router.navigate(['/login-register']);
            return;
        }
    };
    HttpClientService.prototype.get = function (url, includeAuthHeader) {
        if (includeAuthHeader === void 0) { includeAuthHeader = true; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        if (includeAuthHeader) {
            this.createAuthHeader(headers);
        }
        return this.http.get(url, { headers: headers });
    };
    HttpClientService.prototype.post = function (url, data, includeAuthHeader) {
        if (includeAuthHeader === void 0) { includeAuthHeader = true; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        if (includeAuthHeader) {
            this.createAuthHeader(headers);
        }
        return this.http.post(url, data, { headers: headers });
    };
    return HttpClientService;
}());
HttpClientService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__resources_resources_service__["a" /* ResourcesService */]) === "function" && _c || Object])
], HttpClientService);

var _a, _b, _c;
//# sourceMappingURL=http-client.service.js.map

/***/ }),

/***/ "../../../../../src/app/services/resources/resources.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ResourcesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ResourcesService = (function () {
    function ResourcesService(http) {
        this.http = http;
        this.resourcesAPI = 'api/Resource/GetResourceStringsFromResources?culture={0}';
        if (this.getCookie("culture"))
            this.cultrue = this.getCookie("culture");
        else {
            this.setCookie('culture', 'en-CA', 365);
            this.cultrue = 'en-CA';
        }
        this.resources = this.getResources();
    }
    ResourcesService.prototype.getResources = function () {
        if (!this.resources) {
            var connectableObs = this.http.get(this.resourcesAPI.replace('{0}', this.cultrue))
                .map(function (res) { return res.json(); })
                .publishReplay();
            connectableObs.connect();
            return connectableObs;
        }
        else
            return this.resources;
    };
    ResourcesService.prototype.setCookie = function (cname, cvalue, exdays) {
        if (exdays > 0) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        else {
            document.cookie = cname + "=" + cvalue + ";" + ";path=/";
        }
    };
    ResourcesService.prototype.getCookie = function (cname) {
        var name = cname + "=";
        var ca = decodeURIComponent(document.cookie).split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    };
    ResourcesService.prototype.deleteCookie = function (cname) {
        var d = new Date(0);
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + '' + ";" + expires + ";path=/";
    };
    ResourcesService.prototype.deleteAllCookies = function () {
        var ca = decodeURIComponent(document.cookie).split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            this.deleteCookie(c.split('=')[0]);
        }
    };
    ResourcesService.prototype.getTypeOfPasses = function () {
        var r;
        this.resources.subscribe(function (res) { return r = res; });
        return [
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].YCP, name: r['typeOfPassDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].YCP] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].BCP, name: r['typeOfPassDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].BCP] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].LMCP, name: r['typeOfPassDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].LMCP] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].NONE, name: r['typeOfPassDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].NONE] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].IP, name: r['typeOfPassDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["g" /* TypeOfPassEnum */].IP] },
        ];
    };
    ResourcesService.prototype.getAncillaryProducts = function () {
        var r;
        this.resources.subscribe(function (res) { return r = res; });
        return [
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Excursion, name: r['ancillaryProductDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Excursion] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Transfer, name: r['ancillaryProductDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Transfer] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Insurance, name: r['ancillaryProductDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].Insurance] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].CarRental, name: r['ancillaryProductDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["a" /* AncillaryProductEnum */].CarRental] }
        ];
    };
    ResourcesService.prototype.getTransferTypes = function () {
        var r;
        this.resources.subscribe(function (res) { return r = res; });
        return [
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["f" /* TransferTypeEnum */].Shared, name: r['transferTypeDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["f" /* TransferTypeEnum */].Shared] },
            { value: __WEBPACK_IMPORTED_MODULE_2__models_enums__["f" /* TransferTypeEnum */].Private, name: r['transferTypeDesc' + __WEBPACK_IMPORTED_MODULE_2__models_enums__["f" /* TransferTypeEnum */].Private] }
        ];
    };
    ResourcesService.prototype.getStatusesArray = function () {
        return new Array(__WEBPACK_IMPORTED_MODULE_2__models_enums__["e" /* StatusEnum */].Pending, __WEBPACK_IMPORTED_MODULE_2__models_enums__["e" /* StatusEnum */].Approved, __WEBPACK_IMPORTED_MODULE_2__models_enums__["e" /* StatusEnum */].Denied);
    };
    return ResourcesService;
}());
ResourcesService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object])
], ResourcesService);

var _a;
//# sourceMappingURL=resources.service.js.map

/***/ }),

/***/ "../../../../../src/app/team-requests/team-requests.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h1>{{r.viewTeamRequests}}</h1>\r\n            <list-of-all-requests [tableType]=\"tableType\" [tableSettings]=\"tableSettings\" [source]=\"source\"></list-of-all-requests>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/team-requests/team-requests.component.scss":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/team-requests/team-requests.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TeamRequestsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__ = __webpack_require__("../../../../../src/app/services/http-client/http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__ = __webpack_require__("../../../../ng2-smart-table/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__("../../../../moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__ = __webpack_require__("../../../../../src/app/services/resources/resources.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_enums__ = __webpack_require__("../../../../../src/app/models/enums.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TeamRequestsComponent = (function () {
    function TeamRequestsComponent(httpClient, resourcesService) {
        var _this = this;
        this.httpClient = httpClient;
        this.resourcesService = resourcesService;
        this.searchFilter = function (query) {
            return [
                {
                    field: 'RequestDate',
                    search: query
                },
                {
                    field: 'FirstName',
                    search: query
                },
                {
                    field: 'LastName',
                    search: query
                },
                {
                    field: 'EmployeeNumber',
                    search: query
                },
                {
                    field: 'Status',
                    search: query
                },
                {
                    field: 'Department',
                    search: query
                },
                {
                    field: 'TypeOfPasses',
                    search: query
                }
            ];
        };
        this.r = {};
        resourcesService.getResources().subscribe(function (res) {
            _this.r = res;
            _this.initTable();
        });
    }
    TeamRequestsComponent.prototype.ngOnInit = function () { this.initTable(); };
    TeamRequestsComponent.prototype.initTable = function () {
        var _this = this;
        this.tableType = 'search';
        // Data source for ng2-smart-table
        this.requestlistViewArray()
            .then(function (res) {
            _this.source = new __WEBPACK_IMPORTED_MODULE_2_ng2_smart_table__["a" /* LocalDataSource */](res);
        });
        // Columns settings for ng2-smart-table
        this.columns = {
            RequestDate: {
                title: this.r.requestedDate,
                type: 'html',
                valuePrepareFunction: function (id, row) {
                    return __WEBPACK_IMPORTED_MODULE_3_moment__(id).format("DD MMM YYYY");
                }
            },
            EmployeeNumber: {
                title: this.r.employeeNumber,
                type: 'html',
            },
            FirstName: {
                title: this.r.firstName,
            },
            LastName: {
                title: this.r.lastName,
            },
            Department: {
                title: this.r.department,
            },
            TypeOfPasses: {
                title: this.r.typeOfPasses,
                type: 'html',
                valuePrepareFunction: function (cell, row) {
                    if (cell != null) {
                        var parsedDate = cell.replace(/,/g, '<br/>');
                        return parsedDate.toLocaleString();
                    }
                },
            },
            Status: {
                title: this.r.status,
                type: 'html',
                valuePrepareFunction: function (id) {
                    if (id === __WEBPACK_IMPORTED_MODULE_5__models_enums__["e" /* StatusEnum */].Pending) {
                        return "<i class=\"fa fa-bookmark\" aria-hidden=\"true\"></i> " + _this.r['status' + id];
                    }
                    else {
                        return _this.r['status' + id];
                    }
                }
            }
        };
        this.tableSettings = {
            columns: this.columns,
            filters: this.searchFilter,
            route: '/manager-review/'
        };
    };
    TeamRequestsComponent.prototype.requestlistViewArray = function () {
        var url = 'api/request/GetTeamList';
        return this.httpClient.get(url)
            .toPromise()
            .then(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    TeamRequestsComponent.prototype.handleError = function (error) {
        console.error('An error occurred', error); // test
        return Promise.reject(error.statusMessage || error);
    };
    return TeamRequestsComponent;
}());
TeamRequestsComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'team-requests',
        template: __webpack_require__("../../../../../src/app/team-requests/team-requests.component.html"),
        styles: [__webpack_require__("../../../../../src/app/team-requests/team-requests.component.scss")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__services_http_client_http_client_service__["a" /* HttpClientService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__services_resources_resources_service__["a" /* ResourcesService */]) === "function" && _b || Object])
], TeamRequestsComponent);

var _a, _b;
//# sourceMappingURL=team-requests.component.js.map

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
// The file contents for the current environment will overwrite these during build.
var environment = {
    production: false
};
//# sourceMappingURL=environment.js.map

/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_hammerjs__ = __webpack_require__("../../../../hammerjs/hammer.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_hammerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_hammerjs__);





if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ "../../../../moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "../../../../moment/locale/af.js",
	"./af.js": "../../../../moment/locale/af.js",
	"./ar": "../../../../moment/locale/ar.js",
	"./ar-dz": "../../../../moment/locale/ar-dz.js",
	"./ar-dz.js": "../../../../moment/locale/ar-dz.js",
	"./ar-kw": "../../../../moment/locale/ar-kw.js",
	"./ar-kw.js": "../../../../moment/locale/ar-kw.js",
	"./ar-ly": "../../../../moment/locale/ar-ly.js",
	"./ar-ly.js": "../../../../moment/locale/ar-ly.js",
	"./ar-ma": "../../../../moment/locale/ar-ma.js",
	"./ar-ma.js": "../../../../moment/locale/ar-ma.js",
	"./ar-sa": "../../../../moment/locale/ar-sa.js",
	"./ar-sa.js": "../../../../moment/locale/ar-sa.js",
	"./ar-tn": "../../../../moment/locale/ar-tn.js",
	"./ar-tn.js": "../../../../moment/locale/ar-tn.js",
	"./ar.js": "../../../../moment/locale/ar.js",
	"./az": "../../../../moment/locale/az.js",
	"./az.js": "../../../../moment/locale/az.js",
	"./be": "../../../../moment/locale/be.js",
	"./be.js": "../../../../moment/locale/be.js",
	"./bg": "../../../../moment/locale/bg.js",
	"./bg.js": "../../../../moment/locale/bg.js",
	"./bm": "../../../../moment/locale/bm.js",
	"./bm.js": "../../../../moment/locale/bm.js",
	"./bn": "../../../../moment/locale/bn.js",
	"./bn.js": "../../../../moment/locale/bn.js",
	"./bo": "../../../../moment/locale/bo.js",
	"./bo.js": "../../../../moment/locale/bo.js",
	"./br": "../../../../moment/locale/br.js",
	"./br.js": "../../../../moment/locale/br.js",
	"./bs": "../../../../moment/locale/bs.js",
	"./bs.js": "../../../../moment/locale/bs.js",
	"./ca": "../../../../moment/locale/ca.js",
	"./ca.js": "../../../../moment/locale/ca.js",
	"./cs": "../../../../moment/locale/cs.js",
	"./cs.js": "../../../../moment/locale/cs.js",
	"./cv": "../../../../moment/locale/cv.js",
	"./cv.js": "../../../../moment/locale/cv.js",
	"./cy": "../../../../moment/locale/cy.js",
	"./cy.js": "../../../../moment/locale/cy.js",
	"./da": "../../../../moment/locale/da.js",
	"./da.js": "../../../../moment/locale/da.js",
	"./de": "../../../../moment/locale/de.js",
	"./de-at": "../../../../moment/locale/de-at.js",
	"./de-at.js": "../../../../moment/locale/de-at.js",
	"./de-ch": "../../../../moment/locale/de-ch.js",
	"./de-ch.js": "../../../../moment/locale/de-ch.js",
	"./de.js": "../../../../moment/locale/de.js",
	"./dv": "../../../../moment/locale/dv.js",
	"./dv.js": "../../../../moment/locale/dv.js",
	"./el": "../../../../moment/locale/el.js",
	"./el.js": "../../../../moment/locale/el.js",
	"./en-SG": "../../../../moment/locale/en-SG.js",
	"./en-SG.js": "../../../../moment/locale/en-SG.js",
	"./en-au": "../../../../moment/locale/en-au.js",
	"./en-au.js": "../../../../moment/locale/en-au.js",
	"./en-ca": "../../../../moment/locale/en-ca.js",
	"./en-ca.js": "../../../../moment/locale/en-ca.js",
	"./en-gb": "../../../../moment/locale/en-gb.js",
	"./en-gb.js": "../../../../moment/locale/en-gb.js",
	"./en-ie": "../../../../moment/locale/en-ie.js",
	"./en-ie.js": "../../../../moment/locale/en-ie.js",
	"./en-il": "../../../../moment/locale/en-il.js",
	"./en-il.js": "../../../../moment/locale/en-il.js",
	"./en-nz": "../../../../moment/locale/en-nz.js",
	"./en-nz.js": "../../../../moment/locale/en-nz.js",
	"./eo": "../../../../moment/locale/eo.js",
	"./eo.js": "../../../../moment/locale/eo.js",
	"./es": "../../../../moment/locale/es.js",
	"./es-do": "../../../../moment/locale/es-do.js",
	"./es-do.js": "../../../../moment/locale/es-do.js",
	"./es-us": "../../../../moment/locale/es-us.js",
	"./es-us.js": "../../../../moment/locale/es-us.js",
	"./es.js": "../../../../moment/locale/es.js",
	"./et": "../../../../moment/locale/et.js",
	"./et.js": "../../../../moment/locale/et.js",
	"./eu": "../../../../moment/locale/eu.js",
	"./eu.js": "../../../../moment/locale/eu.js",
	"./fa": "../../../../moment/locale/fa.js",
	"./fa.js": "../../../../moment/locale/fa.js",
	"./fi": "../../../../moment/locale/fi.js",
	"./fi.js": "../../../../moment/locale/fi.js",
	"./fo": "../../../../moment/locale/fo.js",
	"./fo.js": "../../../../moment/locale/fo.js",
	"./fr": "../../../../moment/locale/fr.js",
	"./fr-ca": "../../../../moment/locale/fr-ca.js",
	"./fr-ca.js": "../../../../moment/locale/fr-ca.js",
	"./fr-ch": "../../../../moment/locale/fr-ch.js",
	"./fr-ch.js": "../../../../moment/locale/fr-ch.js",
	"./fr.js": "../../../../moment/locale/fr.js",
	"./fy": "../../../../moment/locale/fy.js",
	"./fy.js": "../../../../moment/locale/fy.js",
	"./ga": "../../../../moment/locale/ga.js",
	"./ga.js": "../../../../moment/locale/ga.js",
	"./gd": "../../../../moment/locale/gd.js",
	"./gd.js": "../../../../moment/locale/gd.js",
	"./gl": "../../../../moment/locale/gl.js",
	"./gl.js": "../../../../moment/locale/gl.js",
	"./gom-latn": "../../../../moment/locale/gom-latn.js",
	"./gom-latn.js": "../../../../moment/locale/gom-latn.js",
	"./gu": "../../../../moment/locale/gu.js",
	"./gu.js": "../../../../moment/locale/gu.js",
	"./he": "../../../../moment/locale/he.js",
	"./he.js": "../../../../moment/locale/he.js",
	"./hi": "../../../../moment/locale/hi.js",
	"./hi.js": "../../../../moment/locale/hi.js",
	"./hr": "../../../../moment/locale/hr.js",
	"./hr.js": "../../../../moment/locale/hr.js",
	"./hu": "../../../../moment/locale/hu.js",
	"./hu.js": "../../../../moment/locale/hu.js",
	"./hy-am": "../../../../moment/locale/hy-am.js",
	"./hy-am.js": "../../../../moment/locale/hy-am.js",
	"./id": "../../../../moment/locale/id.js",
	"./id.js": "../../../../moment/locale/id.js",
	"./is": "../../../../moment/locale/is.js",
	"./is.js": "../../../../moment/locale/is.js",
	"./it": "../../../../moment/locale/it.js",
	"./it-ch": "../../../../moment/locale/it-ch.js",
	"./it-ch.js": "../../../../moment/locale/it-ch.js",
	"./it.js": "../../../../moment/locale/it.js",
	"./ja": "../../../../moment/locale/ja.js",
	"./ja.js": "../../../../moment/locale/ja.js",
	"./jv": "../../../../moment/locale/jv.js",
	"./jv.js": "../../../../moment/locale/jv.js",
	"./ka": "../../../../moment/locale/ka.js",
	"./ka.js": "../../../../moment/locale/ka.js",
	"./kk": "../../../../moment/locale/kk.js",
	"./kk.js": "../../../../moment/locale/kk.js",
	"./km": "../../../../moment/locale/km.js",
	"./km.js": "../../../../moment/locale/km.js",
	"./kn": "../../../../moment/locale/kn.js",
	"./kn.js": "../../../../moment/locale/kn.js",
	"./ko": "../../../../moment/locale/ko.js",
	"./ko.js": "../../../../moment/locale/ko.js",
	"./ku": "../../../../moment/locale/ku.js",
	"./ku.js": "../../../../moment/locale/ku.js",
	"./ky": "../../../../moment/locale/ky.js",
	"./ky.js": "../../../../moment/locale/ky.js",
	"./lb": "../../../../moment/locale/lb.js",
	"./lb.js": "../../../../moment/locale/lb.js",
	"./lo": "../../../../moment/locale/lo.js",
	"./lo.js": "../../../../moment/locale/lo.js",
	"./lt": "../../../../moment/locale/lt.js",
	"./lt.js": "../../../../moment/locale/lt.js",
	"./lv": "../../../../moment/locale/lv.js",
	"./lv.js": "../../../../moment/locale/lv.js",
	"./me": "../../../../moment/locale/me.js",
	"./me.js": "../../../../moment/locale/me.js",
	"./mi": "../../../../moment/locale/mi.js",
	"./mi.js": "../../../../moment/locale/mi.js",
	"./mk": "../../../../moment/locale/mk.js",
	"./mk.js": "../../../../moment/locale/mk.js",
	"./ml": "../../../../moment/locale/ml.js",
	"./ml.js": "../../../../moment/locale/ml.js",
	"./mn": "../../../../moment/locale/mn.js",
	"./mn.js": "../../../../moment/locale/mn.js",
	"./mr": "../../../../moment/locale/mr.js",
	"./mr.js": "../../../../moment/locale/mr.js",
	"./ms": "../../../../moment/locale/ms.js",
	"./ms-my": "../../../../moment/locale/ms-my.js",
	"./ms-my.js": "../../../../moment/locale/ms-my.js",
	"./ms.js": "../../../../moment/locale/ms.js",
	"./mt": "../../../../moment/locale/mt.js",
	"./mt.js": "../../../../moment/locale/mt.js",
	"./my": "../../../../moment/locale/my.js",
	"./my.js": "../../../../moment/locale/my.js",
	"./nb": "../../../../moment/locale/nb.js",
	"./nb.js": "../../../../moment/locale/nb.js",
	"./ne": "../../../../moment/locale/ne.js",
	"./ne.js": "../../../../moment/locale/ne.js",
	"./nl": "../../../../moment/locale/nl.js",
	"./nl-be": "../../../../moment/locale/nl-be.js",
	"./nl-be.js": "../../../../moment/locale/nl-be.js",
	"./nl.js": "../../../../moment/locale/nl.js",
	"./nn": "../../../../moment/locale/nn.js",
	"./nn.js": "../../../../moment/locale/nn.js",
	"./pa-in": "../../../../moment/locale/pa-in.js",
	"./pa-in.js": "../../../../moment/locale/pa-in.js",
	"./pl": "../../../../moment/locale/pl.js",
	"./pl.js": "../../../../moment/locale/pl.js",
	"./pt": "../../../../moment/locale/pt.js",
	"./pt-br": "../../../../moment/locale/pt-br.js",
	"./pt-br.js": "../../../../moment/locale/pt-br.js",
	"./pt.js": "../../../../moment/locale/pt.js",
	"./ro": "../../../../moment/locale/ro.js",
	"./ro.js": "../../../../moment/locale/ro.js",
	"./ru": "../../../../moment/locale/ru.js",
	"./ru.js": "../../../../moment/locale/ru.js",
	"./sd": "../../../../moment/locale/sd.js",
	"./sd.js": "../../../../moment/locale/sd.js",
	"./se": "../../../../moment/locale/se.js",
	"./se.js": "../../../../moment/locale/se.js",
	"./si": "../../../../moment/locale/si.js",
	"./si.js": "../../../../moment/locale/si.js",
	"./sk": "../../../../moment/locale/sk.js",
	"./sk.js": "../../../../moment/locale/sk.js",
	"./sl": "../../../../moment/locale/sl.js",
	"./sl.js": "../../../../moment/locale/sl.js",
	"./sq": "../../../../moment/locale/sq.js",
	"./sq.js": "../../../../moment/locale/sq.js",
	"./sr": "../../../../moment/locale/sr.js",
	"./sr-cyrl": "../../../../moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "../../../../moment/locale/sr-cyrl.js",
	"./sr.js": "../../../../moment/locale/sr.js",
	"./ss": "../../../../moment/locale/ss.js",
	"./ss.js": "../../../../moment/locale/ss.js",
	"./sv": "../../../../moment/locale/sv.js",
	"./sv.js": "../../../../moment/locale/sv.js",
	"./sw": "../../../../moment/locale/sw.js",
	"./sw.js": "../../../../moment/locale/sw.js",
	"./ta": "../../../../moment/locale/ta.js",
	"./ta.js": "../../../../moment/locale/ta.js",
	"./te": "../../../../moment/locale/te.js",
	"./te.js": "../../../../moment/locale/te.js",
	"./tet": "../../../../moment/locale/tet.js",
	"./tet.js": "../../../../moment/locale/tet.js",
	"./tg": "../../../../moment/locale/tg.js",
	"./tg.js": "../../../../moment/locale/tg.js",
	"./th": "../../../../moment/locale/th.js",
	"./th.js": "../../../../moment/locale/th.js",
	"./tl-ph": "../../../../moment/locale/tl-ph.js",
	"./tl-ph.js": "../../../../moment/locale/tl-ph.js",
	"./tlh": "../../../../moment/locale/tlh.js",
	"./tlh.js": "../../../../moment/locale/tlh.js",
	"./tr": "../../../../moment/locale/tr.js",
	"./tr.js": "../../../../moment/locale/tr.js",
	"./tzl": "../../../../moment/locale/tzl.js",
	"./tzl.js": "../../../../moment/locale/tzl.js",
	"./tzm": "../../../../moment/locale/tzm.js",
	"./tzm-latn": "../../../../moment/locale/tzm-latn.js",
	"./tzm-latn.js": "../../../../moment/locale/tzm-latn.js",
	"./tzm.js": "../../../../moment/locale/tzm.js",
	"./ug-cn": "../../../../moment/locale/ug-cn.js",
	"./ug-cn.js": "../../../../moment/locale/ug-cn.js",
	"./uk": "../../../../moment/locale/uk.js",
	"./uk.js": "../../../../moment/locale/uk.js",
	"./ur": "../../../../moment/locale/ur.js",
	"./ur.js": "../../../../moment/locale/ur.js",
	"./uz": "../../../../moment/locale/uz.js",
	"./uz-latn": "../../../../moment/locale/uz-latn.js",
	"./uz-latn.js": "../../../../moment/locale/uz-latn.js",
	"./uz.js": "../../../../moment/locale/uz.js",
	"./vi": "../../../../moment/locale/vi.js",
	"./vi.js": "../../../../moment/locale/vi.js",
	"./x-pseudo": "../../../../moment/locale/x-pseudo.js",
	"./x-pseudo.js": "../../../../moment/locale/x-pseudo.js",
	"./yo": "../../../../moment/locale/yo.js",
	"./yo.js": "../../../../moment/locale/yo.js",
	"./zh-cn": "../../../../moment/locale/zh-cn.js",
	"./zh-cn.js": "../../../../moment/locale/zh-cn.js",
	"./zh-hk": "../../../../moment/locale/zh-hk.js",
	"./zh-hk.js": "../../../../moment/locale/zh-hk.js",
	"./zh-tw": "../../../../moment/locale/zh-tw.js",
	"./zh-tw.js": "../../../../moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "../../../../moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map